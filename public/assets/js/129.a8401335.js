(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{10214:function(a,s,e){"use strict";e.r(s);var t=e(2),r=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h3",{attrs:{id:"_1-什么是框架"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是框架"}},[a._v("#")]),a._v(" 1，什么是框架")]),a._v(" "),s("p",[a._v("框架即一个半成品软件。开发者从头开发一个软件需要花费大量精力，于是有一些项目组开发出半成品软件，开发者在这些软件的基 础上进行开发，这样的软件就称之为框架。")]),a._v(" "),s("p",[a._v("如果将开发完成的软件比作是一套已经装修完毕的新房，框架就好比是一套已经修建好的毛坯房。用户直接购买毛坯房，保证建筑质量和户型合理的同时可以进行风格的自由装修。")]),a._v(" "),s("p",[a._v("使用框架开发的好处：")]),a._v(" "),s("ul",[s("li",[a._v("省去大量的代码编写、减少开发时间、降低开发难度")]),a._v(" "),s("li",[a._v("限制程序员必须使用框架规范开发，增强代码的规范性，降低程序员之间沟通及日后维护的成本。")]),a._v(" "),s("li",[a._v("将程序员的注意力从技术中抽离出来，更集中在业务层面。")])]),a._v(" "),s("p",[a._v("使用框架就好比和世界上最优秀的软件工程师共同完成一个项目， 并且他们完成的还是基础、全局的工作。")]),a._v(" "),s("p",[s("img",{attrs:{src:"assets/1721707814607.png",alt:"1721707814607"}})]),a._v(" "),s("p",[a._v("ORM（Object Relationl Mapping），对象关系映射，即在数据库和对象之间作映射处理。 之前我们使用JDBC操作数据库，必须手动进行数据库和对象间的数据转换。看一下JDBC中的新增和查询。可以看到，数据库数据与对象数据的转换代码繁琐、无技术含量。而使用ORM框架代替JDBC后，框架可以帮助程序员自动进行转换，只要像平时一样操作对象，ORM框架就会根据映射完成对数据 库的操作，极大的增强了开发效率。")]),a._v(" "),s("h3",{attrs:{id:"_2-orm框架"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-orm框架"}},[a._v("#")]),a._v(" 2，ORM框架")]),a._v(" "),s("p",[a._v("MyBatis是一个半自动的ORM框架，其本质是对JDBC的封装。使用MyBatis不需要写JDBC代码，但需要程序员编写SQL语句。之前是apache的一个开源项目iBatis，2010年改名为MyBatis。")]),a._v(" "),s("h3",{attrs:{id:"_3-mybatis介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-mybatis介绍"}},[a._v("#")]),a._v(" 3，MyBatis介绍")]),a._v(" "),s("p",[a._v("MyBatis 是一款优秀的"),s("strong",[a._v("持久层")]),a._v("框架，用于简化 JDBC 开发。它本是 Apache 的一个开源项目iBatis, 2010年这个项目由apache software foundation 迁移到了google code，并且改名为MyBatis 。2013年11月迁移到Github。")]),a._v(" "),s("p",[a._v("官网：https://mybatis.org/mybatis-3/zh/index.html")]),a._v(" "),s("p",[a._v("什么是持久层：")]),a._v(" "),s("ul",[s("li",[a._v("所谓持久层就是负责将数据到保存到数据库的那一层代码。JavaEE三层架构：表现层、业务层、"),s("strong",[a._v("持久层")]),a._v("。")])]),a._v(" "),s("h3",{attrs:{id:"_4-入门案例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-入门案例"}},[a._v("#")]),a._v(" 4，入门案例")]),a._v(" "),s("p",[a._v("步骤：")]),a._v(" "),s("ol",[s("li",[a._v("将SQL文件导入数据库")]),a._v(" "),s("li",[a._v("创建maven工程，引入依赖")]),a._v(" "),s("li",[a._v("创建mybatis核心配置文件SqlMapConfig.xml")]),a._v(" "),s("li",[a._v("将log4j.properties文件放入resources中，让控制台打印SQL语句。")]),a._v(" "),s("li",[a._v("创建实体类")]),a._v(" "),s("li",[a._v("在java目录创建持久层接口")]),a._v(" "),s("li",[a._v("在resource目录创建映射文件")]),a._v(" "),s("li",[a._v("将映射文件配置到mybatis核心配置文件中")]),a._v(" "),s("li",[a._v("测试持久层接口方法")])]),a._v(" "),s("p",[a._v("映射文件注意事项：")]),a._v(" "),s("ul",[s("li",[a._v("映射文件要和接口名称相同。")]),a._v(" "),s("li",[a._v("映射文件要和接口的目录结构相同。")]),a._v(" "),s("li",[a._v("映射文件中namespace属性要写接口的全名。")]),a._v(" "),s("li",[a._v("映射文件中标签的id属性是接口方法的方法名。")]),a._v(" "),s("li",[a._v("映射文件中标签的resultType属性是接口方法的返回值类型。")]),a._v(" "),s("li",[a._v("映射文件中标签的parameterType属性是接口方法的参数类型。")]),a._v(" "),s("li",[a._v("映射文件中resultType、parameterType属性要写全类名，如果是集合类型，则写其泛型的全类名。")])]),a._v(" "),s("h3",{attrs:{id:"_5-mybatis核心对象及工作流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-mybatis核心对象及工作流程"}},[a._v("#")]),a._v(" 5，MyBatis核心对象及工作流程")]),a._v(" "),s("p",[s("img",{attrs:{src:"assets/1721708265810.png",alt:"1721708265810"}})]),a._v(" "),s("p",[a._v("MyBatis核心对象：")]),a._v(" "),s("ul",[s("li",[a._v("SqlSessionFactoryBuilder   SqlSession工厂构建者对象，使用构造者模式创建SqlSession工厂对象")]),a._v(" "),s("li",[a._v("SqlSessionFactory   SqlSession工厂，使用工厂模式创建SqlSession对象。")]),a._v(" "),s("li",[a._v("SqlSession    该对象可以操作数据库，也可以使用动态代理模式创建持久层接口的代理对象操作数据库。")]),a._v(" "),s("li",[a._v("Mapper   持久层接口的代理对象，他具体实现了持久层接口，用来操作数据库。")])]),a._v(" "),s("p",[a._v("MyBatis工作流程：")]),a._v(" "),s("ul",[s("li",[a._v("创建SqlSessionFactoryBuilder对象")]),a._v(" "),s("li",[a._v("SqlSessionFactoryBuilder对象构建了SqlSessionFactory对象：构造者模式")]),a._v(" "),s("li",[a._v("SqlSessionFactory对象生产了SqlSession对象：工厂模式")]),a._v(" "),s("li",[a._v("SqlSession对象创建了持久层接口的代理对象：动态代理模式")]),a._v(" "),s("li",[a._v("代理对象操作数据库")])]),a._v(" "),s("h3",{attrs:{id:"_6-使用sqlsession操作数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-使用sqlsession操作数据库"}},[a._v("#")]),a._v(" 6，使用SqlSession操作数据库")]),a._v(" "),s("p",[a._v("除了代理对象能够操作数据库，SqlSession也能操作数据库。只是这种方式在开发中使用的较少，接下来我们使用SqlSession操作数据库：")]),a._v(" "),s("h3",{attrs:{id:"_7-mybatis新增"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-mybatis新增"}},[a._v("#")]),a._v(" 7，MyBatis新增")]),a._v(" "),s("p",[a._v("持久层接口添加方法：")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("映射文件添加标签:")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("编写测试方法:")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("注意：")]),a._v(" "),s("ul",[s("li",[a._v("当接口方法的参数类型为POJO类型时，SQL语句中绑定参数时使用 #{POJO的属性名} 即可。")]),a._v(" "),s("li",[a._v("MyBatis事务默认手动提交，所以在执行完增删改方法后，需要手动调用SqlSession对象的事务提交方法，否则数据库将不发生改变。")])]),a._v(" "),s("h3",{attrs:{id:"_8-mybatis修改"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-mybatis修改"}},[a._v("#")]),a._v(" 8，MyBatis修改")]),a._v(" "),s("p",[a._v("我们发现MyBatis的测试方法在操作数据库前都需要获取代理对象，操作数据库后都需要释放资源，可以利用Junit的前置后置方法，优化测试类代码。")]),a._v(" "),s("p",[a._v("这样Junit就会自动执行获取代理对象和释放资源的方法。")]),a._v(" "),s("p",[a._v("持久层接口添加方法：")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("映射文件添加标签:")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("编写测试方法:")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_9-mybatis删除和根据id查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-mybatis删除和根据id查询"}},[a._v("#")]),a._v(" 9，MyBatis删除和根据ID查询")]),a._v(" "),s("p",[a._v("持久层接口添加方法：")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("映射文件添加标签:")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("注意：")]),a._v(" "),s("ul",[s("li",[a._v("当方法的参数类型是简单数据类型时，#{}中可以写任意名称")]),a._v(" "),s("li",[a._v("简单数据类型：基本数据类型、字符串等")])]),a._v(" "),s("p",[a._v("编写测试方法:")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("接下来再根据ID查询用户，操作流程如下，持久层接口添加方法：")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("映射文件添加标签:")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("编写测试方法:")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_10-mybatis模糊查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-mybatis模糊查询"}},[a._v("#")]),a._v(" 10，MyBatis模糊查询")]),a._v(" "),s("p",[a._v("持久层接口添加方法：")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("映射文件添加标签:")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("编写测试方法:")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("我们看到在映射文件中，parameterType的值为 string 而没有写java.lang.String ，这是为什么呢？")]),a._v(" "),s("ul",[s("li",[a._v("参数/返回值类型为基本数据类型/包装类/String等类型时，我们可以写全类名，也可以写别名。")])]),a._v(" "),s("p",[s("img",{attrs:{src:"assets/1721708758684.png",alt:"1721708758684"}})]),a._v(" "),s("p",[a._v("模糊查询如果不想在调用方法时参数加%，可以使用拼接参数的方式设置Sql：")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("测试方法写法如下：")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("#和$的区别：")]),a._v(" "),s("ul",[s("li",[a._v("#表示sql模板的占位符，$表示将字符串拼接到sql模板中")]),a._v(" "),s("li",[a._v("#可以防止sql注入，一般能用#就不用$。")]),a._v(" "),s("li",[a._v("${}内部的参数名必须写value。")])]),a._v(" "),s("p",[a._v("如果使用 # 还不想在调用方法的参数中添加 % ，可以使用 bind>， bind 允许我们在 Sql语句以外创建一个变量，并可以将其绑定到当前的Sql语句中。用法如下：")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("测试方法写法如下：")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_11-mybatis分页查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_11-mybatis分页查询"}},[a._v("#")]),a._v(" 11，MyBatis分页查询")]),a._v(" "),s("p",[s("img",{attrs:{src:"assets/1721708934341.png",alt:"1721708934341"}})]),a._v(" "),s("p",[a._v("分页查询时，Sql语句使用limit关键字，需要传入开始索引和每页条数两个参数。MyBatis的多参数处理有以下方式：")]),a._v(" "),s("ul",[s("li",[a._v("顺序传参")]),a._v(" "),s("li",[a._v("@Param传参")])]),a._v(" "),s("p",[a._v("Sql中的参数使用arg0，arg1...或param1，param2...表示参数的顺序。此方法可读性较低，在开发中不建议使用。")]),a._v(" "),s("p",[a._v("持久层接口方法：")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("映射文件:")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("测试类:")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("在接口方法的参数列表中通过@Param定义参数名称，在Sql语句中通过注解中所定义的参数名称指定参数位置。此方式参数比较直观的，推荐使用。")]),a._v(" "),s("p",[a._v("持久层接口方法:")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("映射文件:")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("测试类:")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("自定义POJO类，该类的属性就是要传递的参数，在SQL语句中绑定参数时使用POJO的属性名作为参数名即可。此方式推荐使用。自定义POJO：")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("持久层接口方法:")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("映射文件:")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("测试类：")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("如果不想自定义POJO，可以使用Map作为传递参数的载体，在SQL语句中绑定参数时使用Map的Key作为参数名即可。此方法推荐使用。持久层接口方法:")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("映射文件:")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("测试类：")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_12-mybatis聚合查询-主键回填"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12-mybatis聚合查询-主键回填"}},[a._v("#")]),a._v(" 12，MyBatis聚合查询，主键回填")]),a._v(" "),s("p",[a._v("持久层接口方法:")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("映射文件:")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("测试类：")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("有时我们需要获取新插入数据的主键值。如果数据库中主键是自增的，这时我们就需要使用MyBatis的主键回填功能。")]),a._v(" "),s("p",[a._v("持久层接口方法:")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("映射文件:")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("注意：")]),a._v(" "),s("ul",[s("li",[a._v("SELECT LAST_INSERT_ID()：查询刚刚插入的记录的主键值，只适用于自增主键，且必须和insert语句一起执行。")])]),a._v(" "),s("p",[a._v("测试类：")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_13-mybatis配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-mybatis配置文件"}},[a._v("#")]),a._v(" 13，MyBatis配置文件")]),a._v(" "),s("h3",{attrs:{id:"_14-mybatis映射文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_14-mybatis映射文件"}},[a._v("#")]),a._v(" 14，MyBatis映射文件")]),a._v(" "),s("h3",{attrs:{id:"_15-mybatis动态sql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_15-mybatis动态sql"}},[a._v("#")]),a._v(" 15，MyBatis动态SQL")]),a._v(" "),s("h3",{attrs:{id:"_16-缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_16-缓存"}},[a._v("#")]),a._v(" 16，缓存")]),a._v(" "),s("h3",{attrs:{id:"_17-关联查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_17-关联查询"}},[a._v("#")]),a._v(" 17，关联查询")]),a._v(" "),s("h3",{attrs:{id:"_18-一对一关联查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_18-一对一关联查询"}},[a._v("#")]),a._v(" 18，一对一关联查询")]),a._v(" "),s("h3",{attrs:{id:"_19-一对多关联查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_19-一对多关联查询"}},[a._v("#")]),a._v(" 19，一对多关联查询")]),a._v(" "),s("h3",{attrs:{id:"_20-多对多关联查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_20-多对多关联查询"}},[a._v("#")]),a._v(" 20，多对多关联查询")]),a._v(" "),s("h3",{attrs:{id:"_21-分解式查询一对多"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_21-分解式查询一对多"}},[a._v("#")]),a._v(" 21，分解式查询一对多")]),a._v(" "),s("h3",{attrs:{id:"_22-分解式查询一对一"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_22-分解式查询一对一"}},[a._v("#")]),a._v(" 22，分解式查询一对一")]),a._v(" "),s("h3",{attrs:{id:"_23-mybatis延迟加载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_23-mybatis延迟加载"}},[a._v("#")]),a._v(" 23，MyBatis延迟加载")]),a._v(" "),s("h3",{attrs:{id:"_23-注解开发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_23-注解开发"}},[a._v("#")]),a._v(" 23，注解开发")]),a._v(" "),s("h3",{attrs:{id:"_24-注解开发之增删改查"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_24-注解开发之增删改查"}},[a._v("#")]),a._v(" 24，注解开发之增删改查")]),a._v(" "),s("h3",{attrs:{id:"_25-注解开发动态sql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_25-注解开发动态sql"}},[a._v("#")]),a._v(" 25，注解开发动态SQL")]),a._v(" "),s("h3",{attrs:{id:"_26-注解开发自定义映射关系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_26-注解开发自定义映射关系"}},[a._v("#")]),a._v(" 26，注解开发自定义映射关系")]),a._v(" "),s("h3",{attrs:{id:"_27-注解开发二级缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_27-注解开发二级缓存"}},[a._v("#")]),a._v(" 27，注解开发二级缓存")]),a._v(" "),s("h3",{attrs:{id:"_28-注解开发一对一"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_28-注解开发一对一"}},[a._v("#")]),a._v(" 28，注解开发一对一")]),a._v(" "),s("h3",{attrs:{id:"_29-注解开发一对多"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_29-注解开发一对多"}},[a._v("#")]),a._v(" 29，注解开发一对多")]),a._v(" "),s("h3",{attrs:{id:"_30-注解开发成映射文件开发对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_30-注解开发成映射文件开发对比"}},[a._v("#")]),a._v(" 30，注解开发成映射文件开发对比")]),a._v(" "),s("h3",{attrs:{id:"_31-分页插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_31-分页插件"}},[a._v("#")]),a._v(" 31，分页插件")])])}),[],!1,null,null,null);s.default=r.exports}}]);