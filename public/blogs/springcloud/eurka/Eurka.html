<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>01-eurka | 码路全栈开发</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/javablog/public/favicon.ico">
    <meta name="description" content="快来玩java全栈呀">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/javablog/public/assets/css/0.styles.0bd56f36.css" as="style"><link rel="preload" href="/javablog/public/assets/js/app.ff9978df.js" as="script"><link rel="preload" href="/javablog/public/assets/js/73.bd6368ee.js" as="script"><link rel="preload" href="/javablog/public/assets/js/1.3c422ec2.js" as="script"><link rel="preload" href="/javablog/public/assets/js/42.87f4f2fb.js" as="script"><link rel="prefetch" href="/javablog/public/assets/js/10.fe160c45.js"><link rel="prefetch" href="/javablog/public/assets/js/100.f2405f2d.js"><link rel="prefetch" href="/javablog/public/assets/js/101.81cf9cf8.js"><link rel="prefetch" href="/javablog/public/assets/js/102.6e20112a.js"><link rel="prefetch" href="/javablog/public/assets/js/103.cb20a41f.js"><link rel="prefetch" href="/javablog/public/assets/js/104.fdcc0222.js"><link rel="prefetch" href="/javablog/public/assets/js/105.83eb5e1a.js"><link rel="prefetch" href="/javablog/public/assets/js/106.32473d42.js"><link rel="prefetch" href="/javablog/public/assets/js/107.08a4d3eb.js"><link rel="prefetch" href="/javablog/public/assets/js/108.22a9a625.js"><link rel="prefetch" href="/javablog/public/assets/js/109.d05b6283.js"><link rel="prefetch" href="/javablog/public/assets/js/11.78a2e2e2.js"><link rel="prefetch" href="/javablog/public/assets/js/110.dc3fad09.js"><link rel="prefetch" href="/javablog/public/assets/js/111.6b270625.js"><link rel="prefetch" href="/javablog/public/assets/js/112.21edafca.js"><link rel="prefetch" href="/javablog/public/assets/js/113.f13821bb.js"><link rel="prefetch" href="/javablog/public/assets/js/114.05b5e97c.js"><link rel="prefetch" href="/javablog/public/assets/js/115.3d5bb65f.js"><link rel="prefetch" href="/javablog/public/assets/js/116.52011c31.js"><link rel="prefetch" href="/javablog/public/assets/js/117.7876d8f8.js"><link rel="prefetch" href="/javablog/public/assets/js/118.e3241df0.js"><link rel="prefetch" href="/javablog/public/assets/js/119.f41f7a08.js"><link rel="prefetch" href="/javablog/public/assets/js/12.931bd254.js"><link rel="prefetch" href="/javablog/public/assets/js/120.6ee76b2f.js"><link rel="prefetch" href="/javablog/public/assets/js/121.8c10ce99.js"><link rel="prefetch" href="/javablog/public/assets/js/122.d90ebc61.js"><link rel="prefetch" href="/javablog/public/assets/js/123.b17ba5a8.js"><link rel="prefetch" href="/javablog/public/assets/js/124.59b1bd7c.js"><link rel="prefetch" href="/javablog/public/assets/js/125.c1a7683f.js"><link rel="prefetch" href="/javablog/public/assets/js/126.fd3f56af.js"><link rel="prefetch" href="/javablog/public/assets/js/127.fc96f0cb.js"><link rel="prefetch" href="/javablog/public/assets/js/128.c73c4eca.js"><link rel="prefetch" href="/javablog/public/assets/js/129.5d2d01d3.js"><link rel="prefetch" href="/javablog/public/assets/js/13.fb8f4ea6.js"><link rel="prefetch" href="/javablog/public/assets/js/130.19b6574f.js"><link rel="prefetch" href="/javablog/public/assets/js/131.af2de859.js"><link rel="prefetch" href="/javablog/public/assets/js/132.93d67979.js"><link rel="prefetch" href="/javablog/public/assets/js/133.0acc5e50.js"><link rel="prefetch" href="/javablog/public/assets/js/134.32f93231.js"><link rel="prefetch" href="/javablog/public/assets/js/135.f2aec14f.js"><link rel="prefetch" href="/javablog/public/assets/js/136.deda196d.js"><link rel="prefetch" href="/javablog/public/assets/js/137.4fc9bfa6.js"><link rel="prefetch" href="/javablog/public/assets/js/138.70437781.js"><link rel="prefetch" href="/javablog/public/assets/js/139.80d349a3.js"><link rel="prefetch" href="/javablog/public/assets/js/14.3d35aade.js"><link rel="prefetch" href="/javablog/public/assets/js/140.92a9174c.js"><link rel="prefetch" href="/javablog/public/assets/js/141.8e3928d8.js"><link rel="prefetch" href="/javablog/public/assets/js/142.5e27ef3c.js"><link rel="prefetch" href="/javablog/public/assets/js/143.64a026b0.js"><link rel="prefetch" href="/javablog/public/assets/js/144.c92aaa18.js"><link rel="prefetch" href="/javablog/public/assets/js/145.121d110b.js"><link rel="prefetch" href="/javablog/public/assets/js/15.74bfc281.js"><link rel="prefetch" href="/javablog/public/assets/js/16.46af9bdb.js"><link rel="prefetch" href="/javablog/public/assets/js/17.54b22733.js"><link rel="prefetch" href="/javablog/public/assets/js/18.9d8d51a5.js"><link rel="prefetch" href="/javablog/public/assets/js/19.13a9c980.js"><link rel="prefetch" href="/javablog/public/assets/js/20.bd4b7342.js"><link rel="prefetch" href="/javablog/public/assets/js/21.c3300ab4.js"><link rel="prefetch" href="/javablog/public/assets/js/22.daa9ee37.js"><link rel="prefetch" href="/javablog/public/assets/js/23.42f13664.js"><link rel="prefetch" href="/javablog/public/assets/js/24.875cbbe8.js"><link rel="prefetch" href="/javablog/public/assets/js/25.a5f5075c.js"><link rel="prefetch" href="/javablog/public/assets/js/26.2e8778e0.js"><link rel="prefetch" href="/javablog/public/assets/js/27.409df35d.js"><link rel="prefetch" href="/javablog/public/assets/js/28.a1dcf324.js"><link rel="prefetch" href="/javablog/public/assets/js/29.031b6fe5.js"><link rel="prefetch" href="/javablog/public/assets/js/3.7d64bfb2.js"><link rel="prefetch" href="/javablog/public/assets/js/30.45332ecc.js"><link rel="prefetch" href="/javablog/public/assets/js/31.8a8d3079.js"><link rel="prefetch" href="/javablog/public/assets/js/32.55e5d928.js"><link rel="prefetch" href="/javablog/public/assets/js/33.709cd5f3.js"><link rel="prefetch" href="/javablog/public/assets/js/34.ba0faba9.js"><link rel="prefetch" href="/javablog/public/assets/js/35.1bdf4187.js"><link rel="prefetch" href="/javablog/public/assets/js/36.4e434bd3.js"><link rel="prefetch" href="/javablog/public/assets/js/37.6af17fd7.js"><link rel="prefetch" href="/javablog/public/assets/js/38.eab0c90e.js"><link rel="prefetch" href="/javablog/public/assets/js/39.51f056f2.js"><link rel="prefetch" href="/javablog/public/assets/js/4.2830df9f.js"><link rel="prefetch" href="/javablog/public/assets/js/40.044b2b18.js"><link rel="prefetch" href="/javablog/public/assets/js/41.730228ff.js"><link rel="prefetch" href="/javablog/public/assets/js/43.1e6b307a.js"><link rel="prefetch" href="/javablog/public/assets/js/44.5b863eb2.js"><link rel="prefetch" href="/javablog/public/assets/js/45.0ae13ed1.js"><link rel="prefetch" href="/javablog/public/assets/js/46.fef55719.js"><link rel="prefetch" href="/javablog/public/assets/js/47.80a86aaf.js"><link rel="prefetch" href="/javablog/public/assets/js/48.1fd24013.js"><link rel="prefetch" href="/javablog/public/assets/js/49.e8379836.js"><link rel="prefetch" href="/javablog/public/assets/js/5.2ebe76d3.js"><link rel="prefetch" href="/javablog/public/assets/js/50.94986033.js"><link rel="prefetch" href="/javablog/public/assets/js/51.03ec44ea.js"><link rel="prefetch" href="/javablog/public/assets/js/52.6788cc4a.js"><link rel="prefetch" href="/javablog/public/assets/js/53.df7188dd.js"><link rel="prefetch" href="/javablog/public/assets/js/54.d1094711.js"><link rel="prefetch" href="/javablog/public/assets/js/55.c9f145f5.js"><link rel="prefetch" href="/javablog/public/assets/js/56.1825e769.js"><link rel="prefetch" href="/javablog/public/assets/js/57.c322b1c6.js"><link rel="prefetch" href="/javablog/public/assets/js/58.29317421.js"><link rel="prefetch" href="/javablog/public/assets/js/59.73bb5a22.js"><link rel="prefetch" href="/javablog/public/assets/js/6.2273bfae.js"><link rel="prefetch" href="/javablog/public/assets/js/60.1e0f24f2.js"><link rel="prefetch" href="/javablog/public/assets/js/61.0acef277.js"><link rel="prefetch" href="/javablog/public/assets/js/62.d66b23f0.js"><link rel="prefetch" href="/javablog/public/assets/js/63.e64b2a02.js"><link rel="prefetch" href="/javablog/public/assets/js/64.fdcbbdda.js"><link rel="prefetch" href="/javablog/public/assets/js/65.99434250.js"><link rel="prefetch" href="/javablog/public/assets/js/66.a6ddff77.js"><link rel="prefetch" href="/javablog/public/assets/js/67.ee855725.js"><link rel="prefetch" href="/javablog/public/assets/js/68.3ba53387.js"><link rel="prefetch" href="/javablog/public/assets/js/69.29a2cdb5.js"><link rel="prefetch" href="/javablog/public/assets/js/7.d19c6776.js"><link rel="prefetch" href="/javablog/public/assets/js/70.94bb9e79.js"><link rel="prefetch" href="/javablog/public/assets/js/71.47508356.js"><link rel="prefetch" href="/javablog/public/assets/js/72.41861f64.js"><link rel="prefetch" href="/javablog/public/assets/js/74.3e6a4daf.js"><link rel="prefetch" href="/javablog/public/assets/js/75.abd1f551.js"><link rel="prefetch" href="/javablog/public/assets/js/76.6bb7b332.js"><link rel="prefetch" href="/javablog/public/assets/js/77.f08cbab0.js"><link rel="prefetch" href="/javablog/public/assets/js/78.317dc33a.js"><link rel="prefetch" href="/javablog/public/assets/js/79.6ad0ac73.js"><link rel="prefetch" href="/javablog/public/assets/js/8.547ea265.js"><link rel="prefetch" href="/javablog/public/assets/js/80.100e0887.js"><link rel="prefetch" href="/javablog/public/assets/js/81.5ab28e9c.js"><link rel="prefetch" href="/javablog/public/assets/js/82.c9d6d8fc.js"><link rel="prefetch" href="/javablog/public/assets/js/83.b252b882.js"><link rel="prefetch" href="/javablog/public/assets/js/84.a1d98176.js"><link rel="prefetch" href="/javablog/public/assets/js/85.f75be5fe.js"><link rel="prefetch" href="/javablog/public/assets/js/86.d0272ea4.js"><link rel="prefetch" href="/javablog/public/assets/js/87.20b33b04.js"><link rel="prefetch" href="/javablog/public/assets/js/88.32acbaa5.js"><link rel="prefetch" href="/javablog/public/assets/js/89.9eb33c20.js"><link rel="prefetch" href="/javablog/public/assets/js/9.e0e49983.js"><link rel="prefetch" href="/javablog/public/assets/js/90.17f71b2b.js"><link rel="prefetch" href="/javablog/public/assets/js/91.4c0f1a80.js"><link rel="prefetch" href="/javablog/public/assets/js/92.02a35296.js"><link rel="prefetch" href="/javablog/public/assets/js/93.f998e723.js"><link rel="prefetch" href="/javablog/public/assets/js/94.20adcebf.js"><link rel="prefetch" href="/javablog/public/assets/js/95.a18d812d.js"><link rel="prefetch" href="/javablog/public/assets/js/96.ac511edb.js"><link rel="prefetch" href="/javablog/public/assets/js/97.dbad55e4.js"><link rel="prefetch" href="/javablog/public/assets/js/98.b85cf005.js"><link rel="prefetch" href="/javablog/public/assets/js/99.6bebba96.js">
    <link rel="stylesheet" href="/javablog/public/assets/css/0.styles.0bd56f36.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>码路全栈开发</h3> <p class="description" data-v-59e6cb88>快来玩java全栈呀</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>码路</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2024
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/javablog/public/" class="home-link router-link-active"><img src="/javablog/public/logo.png" alt="码路全栈开发" class="logo"> <span class="site-name">码路全栈开发</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/javablog/public/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      全栈开发
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javablog/public/categories/base/" class="nav-link"><i class="undefined"></i>
  base
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/HarmonyOS/" class="nav-link"><i class="undefined"></i>
  HarmonyOS
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/data analysis/" class="nav-link"><i class="undefined"></i>
  data analysis
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/每日一题/" class="nav-link"><i class="undefined"></i>
  每日一题
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/javabase/" class="nav-link"><i class="undefined"></i>
  javabase
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/javaweb/" class="nav-link"><i class="undefined"></i>
  javaweb
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/node/" class="nav-link"><i class="undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/pybase/" class="nav-link"><i class="undefined"></i>
  pybase
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/springcloud/" class="nav-link"><i class="undefined"></i>
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/spider/" class="nav-link"><i class="undefined"></i>
  spider
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/springcloudalibaba/" class="nav-link"><i class="undefined"></i>
  springcloudalibaba
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/ssm/" class="nav-link"><i class="undefined"></i>
  ssm
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/storage/" class="nav-link"><i class="undefined"></i>
  storage
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/zhifu/" class="nav-link"><i class="undefined"></i>
  zhifu
</a></li></ul></div></div><div class="nav-item"><a href="/javablog/public/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/javablog/public/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javablog/public/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  vuepress-reco
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/javablog/public/avatar.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    码路
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>135</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>42</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/javablog/public/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      全栈开发
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javablog/public/categories/base/" class="nav-link"><i class="undefined"></i>
  base
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/HarmonyOS/" class="nav-link"><i class="undefined"></i>
  HarmonyOS
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/data analysis/" class="nav-link"><i class="undefined"></i>
  data analysis
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/每日一题/" class="nav-link"><i class="undefined"></i>
  每日一题
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/javabase/" class="nav-link"><i class="undefined"></i>
  javabase
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/javaweb/" class="nav-link"><i class="undefined"></i>
  javaweb
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/node/" class="nav-link"><i class="undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/pybase/" class="nav-link"><i class="undefined"></i>
  pybase
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/springcloud/" class="nav-link"><i class="undefined"></i>
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/spider/" class="nav-link"><i class="undefined"></i>
  spider
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/springcloudalibaba/" class="nav-link"><i class="undefined"></i>
  springcloudalibaba
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/ssm/" class="nav-link"><i class="undefined"></i>
  ssm
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/storage/" class="nav-link"><i class="undefined"></i>
  storage
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/zhifu/" class="nav-link"><i class="undefined"></i>
  zhifu
</a></li></ul></div></div><div class="nav-item"><a href="/javablog/public/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/javablog/public/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javablog/public/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  vuepress-reco
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>01-eurka</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>码路</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2024
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">01-eurka</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>码路</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>12/15/2028</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>eurka</span></i></div></div> <div class="theme-reco-content content__default"><h3 id="_1-微服务架构论"><a href="#_1-微服务架构论" class="header-anchor">#</a> 1, 微服务架构论</h3> <p><strong>单体应用阶段 (夫妻摊位)：</strong></p> <p>在互联网发展的初期，用户数量少，一般网站的流量也很少，但硬件成本较高。因此，一般的企业会将所有的功能都集成在一起开发一个单体应用，然后将该单体应用部署到一台服务器上即可满足业务需求。</p> <p><img src="/javablog/public/assets/img/1718198205180.7ad8699f.png" alt="1718198205180"></p> <p><strong>生活中的单体应用：</strong></p> <p>小夫妻俩刚结婚，手里资金有限，就想着开一个路边烧烤摊。丈夫负责烤串做菜、妻子负责服务收银及上菜。这是一个典型的路边烧烤摊的经营模式。</p> <p><strong>单体应用的特点：</strong></p> <ul><li>能够接纳的请求数量时有限的，因为服务器的内存、CPU配置是有限的。</li> <li>展现层、控制层、持久层全都在一个应用里面，调用方便、快速。单个请求的响应结果超快。</li> <li>开发简单、上手快、三五个人团队好管好用。</li></ul> <p><strong>垂直应用阶段 （门面饭店）：</strong></p> <p>随着小夫妻俩经营有方、待客有道，开始有人愿意为了吃他们做的烧烤排队了。夫妻俩一想，我们这俩人也干不过来啊，怎么办？招人吧、扩大规模吧。</p> <ul><li>招什么人？当然是厨师啊、端菜收银的妻子自己还能干得过来，主要是丈夫的活挺不住了。那就招厨师。</li> <li>不能让人站着吃吧？租一个附近的门市、添置更多的桌椅板凳。</li></ul> <p><img src="/javablog/public/assets/img/1718198270732.9e29c10c.png" alt="1718198270732"></p> <p>在处理并发请求的能力和容量上增强了，但是在单个请求的处理速度上下降了。</p> <p><strong>分布式系统阶段 (酒店):</strong></p> <p>为了解决上一阶段遇到的问题：单个请求的处理速度下降。也就是饭店针对单个订单做菜响应速度下降了，但是由于饭店的菜确实好吃、菜品精良，客流量又持续的增高。该店又再次面临扩容的问题。</p> <ul><li>为了解决客流量持续增高，夫妻又招聘了4位厨师</li> <li>为了解决单个订单处理速度下降的问题，将厨师分为两组，一组专门做烧烤，一组专门做饭菜。专业的人做专业的事情，注意力越集中，办事越熟练、效率越高。</li></ul> <p><img src="/javablog/public/assets/img/1718198327382.5a2f59e7.png" alt="1718198327382"></p> <p><strong>服务治理阶段 （大酒店）:</strong></p> <p>新的问题又出现了，有的顾客既点烧烤又点饭菜。导致后端两组厨师之间沟通不畅，怎么组合套餐推送给前台？厨师之间怎么调用、怎么沟通啊？谁是头？谁是大脑？谁记得A厨师的烧烤和B厨师的饭菜是一桌的？</p> <p>随着服务数量的不断增加，服务中的资源浪费和调度问题日益突出。此时需要增加一个调度中心来治理服务。调度中心可基于访问压力来实时管理集群的容量，从而提高集群的利用率。</p> <p><img src="/javablog/public/assets/img/1718198390411.2314bfb6.png" alt="1718198390411"></p> <p>在服务治理(SOA）架构中，需要一个企业服务总线(ESB）将基于不同协议的服务节点连接起来，它的工作是转换、解释消息和路由。说白了就是丈夫做菜品的配置管理、做订单的服务注册。丈夫负责主动观察问询各工种的工作状态并记录，妻子主动向丈夫问询后端厨师的状态，并根据丈夫的反馈分配订单。</p> <p><strong>微服务阶段 （五星大酒店）:</strong></p> <p>饭店的规模越来越大了、岗位分工也越来越细了。真的成了超级大饭店了，怎么管？</p> <p><strong>什么是微服务：</strong></p> <p>将系统的业务功能划分为极小的独立微服务，每个微服务只关注于完成某个小的任务。系统中的单个微服务可以被独立部署和扩展，且各个微服务之间是高内聚、松耦合的。微服务之间采用轻量化通信机制暴露接来实现通信。</p> <p><img src="/javablog/public/assets/img/1718198433358.9386740f.png" alt="1718198433358"></p> <p><strong>解释：</strong></p> <ul><li>服务网关：前台。所有的顾客进来，由前台统一接待。比如：Spring Cloud Gateway。</li> <li>熔断机制：菜品限量，法式菜品、意大利菜品、日本料理。什么时间可以吃得到、可提供多少人份？这些服务都是有限制的。</li> <li>工作效率监督：工作流程中每个岗位做了什么工作、用了多长时间。哪个环节出现问题、哪个岗位需要调整。比如： Sleuth、日志监控ELK等。</li> <li>配置中心：菜单，川菜，东北菜，杭帮菜，烩菜。</li> <li>服务集群：厨师微服务集群包含，川菜厨师微服务，杭帮菜厨师微服务等。</li> <li>高可用注册中心：大堂经理，负责那些人上班了,他在哪里干的什么工作。</li></ul> <h3 id="_2-微服务的拆分规范和原则"><a href="#_2-微服务的拆分规范和原则" class="header-anchor">#</a> 2, 微服务的拆分规范和原则</h3> <p><strong>压力模型拆分:</strong></p> <p>压力模型简单来说就是用户访问量，我们要识别出某些超高并发量的业务，尽可能把这部分业务独立拆分出来。</p> <p><strong>压力模型拆解为三个维度：</strong></p> <ul><li>高频高并发场景，比如商品详情页，它既是一个高频场景（时时刻刻都会发生），同时也是高并发的场景（QPS - Query per seconds极高）</li></ul> <p><img src="/javablog/public/assets/img/1718198731123.c428ef96.png" alt="1718198731123"></p> <ul><li><p>低频突发流量场景， 秒杀场景它并不是高频场景（偶尔发生），但是它会产生突发流量。再跟大家举一个例子，那就是“商品发布”，对新零售业务来说，当开设一个线下大型卖场以后，需要将所有库存商品一键上架，这里的商品总数是个非常庞大的数字（几十万+），瞬间就可以打出很高的QPS</p> <p><img src="/javablog/public/assets/img/1718198818260.4bfef511.png" alt="1718198818260"></p></li> <li><p>低频流量场景，后台运营团队的服务接口，比如商品图文编辑，添加新的优惠计算规则，上架新商品。它发生的频率比较低，而且也不会造成很高的并发量。</p> <p><img src="/javablog/public/assets/img/1718198860928.96e02964.png" alt="1718198860928"></p></li></ul> <p>**业务模型拆分：**业务模型拆分的维度有很多，我们在实际项目中应该综合各个不同维度做考量。我这里主要从主链路、领域模型和用户群体三个维度。</p> <ul><li>主链路拆分，在电商领域&quot;主链路&quot;是一个很重要的业务链条，它是指用户完成下单场景所必须经过的场景。按照我们平时买买买的剁手经验，可以识别出很多核心主链路，比如商品搜索-&gt;商品详情页-&gt;购物车模块-&gt;订单结算-&gt;支付业务，这是就是一条最简单的主链路。如果这是一场战斗的话，那么主链路就是这场战斗的正面战场，我们必须力保主链路不失守。</li> <li>领域模型拆分，领域驱动设计DDD（Domain-Driven Design 领域驱动设计）不是一个新概念，但老外们有个毛病，做什么事情特别喜欢提炼方法论，本来一个非常简单的概念，愣是被吹到神乎其神高深莫测。</li> <li>用户群体拆分，根据用户群体做拆分，我们首先要了解自己的系统业务里有哪些用户，比如说电商领域，我们有2C的小卖家，也有2B的大客户，在集团内部有运营、采购、还有客服小二等等。对每个不同的用户群体来说，即便是相同的业务领域，也有该群体其独有的业务场景。用户群体相当于一个二级域，我们建议先根据主链路和领域模型做一级域的拆分，再结合具体的业务分析，看是否需要在用户领域方向上做更细粒度的拆分。</li></ul> <p><strong>核心主链路拆分，有以下几个目的：</strong></p> <ol><li>异常容错：为主链路建立层次化的降级策略（多级降级），以及合理的熔断策略。</li> <li>调配资源：主链路通常来讲都是高频场景，自然需要更多的计算资源，最主要的体现就是集群里分配的虚机数量多。</li> <li>服务隔离：主链路是主打输出的C位，把主链路与其他打辅助的业务服务隔离开来，避免边缘服务的异常情况影响到主链路。</li></ol> <h3 id="_3-为什么要使用springcloud"><a href="#_3-为什么要使用springcloud" class="header-anchor">#</a> 3, 为什么要使用SpringCloud</h3> <p><strong>Spring Cloud与Netflix：</strong></p> <p>Netflix是一家做视频网站的公司，之所以要说一下这个公司是因为Spring Cloud在发展之初，Netflix做了很大的贡献。包括服务注册中心Eureka、服务调用Ribbon、Feign，服务容错限流Hystrix、服务网关Zuul等众多组件都是Netflix贡献给Spring Cloud社区的。</p> <p><strong>什么是SpringCloud：</strong></p> <p>Spring Cloud是一个基于Spring Boot实现的微服务架构开发工具。它为微服务架构中涉及的配置管理、服务治理、断路器、智能路由、控制总线、分布式会话和集群状态管理等操作提供了一种简单的开发方式。</p> <p><img src="/javablog/public/assets/img/1718199031197.afb7cca3.png" alt="1718199031197"></p> <p><strong>核心事件追踪：</strong></p> <ul><li><p>2018年6月底，Eureka 2.0 开源工作宣告停止，继续使用风险自负。</p></li> <li><p>2018年11月底，Hystrix 宣布不再在开源版本上提供新功能。</p></li> <li><p>2018年12月，Spring官方宣布Netflix的相关项目进入维护模式。</p></li> <li><p>从此，Spring Cloud逐渐告别Netflix时代。</p></li> <li><p>2018年10月31日，Spring Cloud Alibaba正式入驻了Spring Cloud官方孵化器，并在maven中央库发布了第一个版本。</p></li></ul> <p><strong>服务注册中心选型：</strong></p> <ul><li>**Eureka：**Spring Cloud与Netflix的大儿子，出生的时候家里条件一般，长大后素质有限。</li> <li>**Nacos：**后起之秀，曾经Spring Cloud眼中“别人家的孩子”，已经纳入收养范围（Spring Cloud Alibaba孵化项目）。</li> <li>**Apache Zookeeper：**关系户，与hadoop关系比较好</li> <li>**etcd：**关系户，与kubernetes关系比较好</li> <li>**Consul：**关系户，曾经与docker关系比较好</li></ul> <p>如果你的应用已经使用到了Hadoop、Kubernetes、Docker，在Spring Cloud实施过程中可以考虑使用其关系户组件，避免搭建两套注册中心，节省资源。</p> <p><strong>分布式配置管理：</strong></p> <p>目前可选的分布式配置管理中心，有阿里的Nacos、携程的Apollo、和Spring Cloud Config。</p> <p><strong>服务网关：</strong></p> <p>服务网关这块就不多说了，没有任何悬念，Spring Cloud Gateway在各方面都碾压Zuul，Zuul2也基本上是胎死腹中。</p> <p><strong>Hystrix：</strong></p> <p>2018年12月，Spring官方宣布Netflix的相关项目进入维护模式。不再开发新的功能，但是Hystrix整体上还是比较稳定的，对于老用户不必更换，影响也不大。</p> <p><strong>resilience4j：</strong></p> <p>Hystrix停更之后，Netflix官方推荐使用resilience4j，它是一个轻量、易用、可组装的高可用框架，支持熔断、高频控制、隔离、限流、限时、重试等多种高可用机制。</p> <p><strong>Sentinel（重点）：</strong></p> <p>Sentinel是阿里中间件团队开源的，面向分布式服务架构的轻量级高可用流量控制组件，主要以流量为切入点，从流量控制、熔断降级、系统负载保护等多个维度来帮助用户保护服务的稳定性。</p> <h3 id="_4-如何选择springcloud版本"><a href="#_4-如何选择springcloud版本" class="header-anchor">#</a> 4, 如何选择SpringCloud版本</h3> <p><strong>SpringCloud版本号由来：</strong></p> <p>SpringCloud的版本号是根据英国伦敦地铁站的名字进行命名的，由地铁站名称字母A-Z依次类推表示发布迭代版本。</p> <p><img src="/javablog/public/assets/img/1718199311173.3c9830e9.png" alt="1718199311173"></p> <p><strong>SpringCloud和SpringBoot版本对应关系：</strong></p> <p><img src="/javablog/public/assets/img/1718199341885.5b1dbfc0.png" alt="1718199341885"></p> <p>其实SpringBoot与SpringCloud需要版本对应，否则可能会造成很多意料之外的错误，比如eureka注册了结果找不到服务类啊，比如某些jar导入不进来啊，等等这些错误。</p> <p><strong>版本说明：</strong></p> <table><thead><tr><th>名字</th> <th>描述</th></tr></thead> <tbody><tr><td>SNAPSHOT</td> <td>快照版，可以稳定使用，且仍在继续改进版本。</td></tr> <tr><td>PRE</td> <td>预览版,内部测试版. 主要是给开发人员和测试人员测试和找BUG用的，不建议使用；</td></tr> <tr><td>RC</td> <td>发行候选版本，基本不再加入新的功能，主要修复bug。</td></tr> <tr><td>SR</td> <td>修正版或更新版</td></tr> <tr><td>GA</td> <td>正式发布的版本</td></tr></tbody></table> <p>从 Spring Cloud 2020.0.0-M1 开始，Spring Cloud 废除了这种英国伦敦地铁站的命名方式，而使用了全新的 &quot;日历化&quot; 版本命名方式。</p> <h3 id="_5-如何学习微服务springcloud"><a href="#_5-如何学习微服务springcloud" class="header-anchor">#</a> 5, 如何学习微服务SpringCloud</h3> <p><img src="/javablog/public/assets/img/1718199465593.12a10b47.png" alt="1718199465593"></p> <p>简单来说，就是“三大功能，两大特性”。</p> <p><img src="/javablog/public/assets/img/1718199490466.cc4f5c80.png" alt="1718199490466"></p> <p>三大功能是指微服务核心组件的功能维度，由浅入深层次递进；而两大特性是构建在每个服务组件之上的高可用性和高可扩展性。别看微服务框架组件多，其实你完全可以按照这三大功能模块，给它们有简入难对号入座。</p> <p><strong>注意：</strong></p> <ul><li><strong>服务间通信</strong>：包括服务治理、负载均衡、服务间调用；</li> <li><strong>服务容错和异常排查</strong>：包括流量整形、降级熔断、调用链追踪；</li> <li><strong>分布式能力建设</strong>：包括微服务网关、分布式事务、消息驱动、分布式配置中心。</li></ul> <p><strong>从哪里入手：</strong></p> <p><img src="/javablog/public/assets/img/1718199540197.20e9475b.png" alt="1718199540197"></p> <p>从微服务组件的功能维度来讲，服务间通信是最基础的功能特性，这个功能模块是最适合作为初学者学习微服务技术的切入点。</p> <h3 id="_6-什么是服务治理"><a href="#_6-什么是服务治理" class="header-anchor">#</a> 6, 什么是服务治理</h3> <p><strong>为什么需要服务治理：</strong></p> <p>在没有进行服务治理前,服务之间的通信是通过服务间直接相互调用来实现的。</p> <p><img src="/javablog/public/assets/img/1718199622644.f96f7bc6.png" alt="1718199622644"></p> <p>武当派直接调用峨眉派和华山派，同样，华山派直接调用武当派和峨眉派如果系统不复杂，这样调用没什么问题。但在复杂的微服务系统中，采用这样的调用方法就会产生问题。</p> <p>微服务系统中服务众多，这样会导致服务间的相互调用非常不便，因为要记住提供服务的IP地址、名称、端口号等。这时就需要中间代理，通过中间代理来完成调用。</p> <p><strong>服务治理的解决方案：</strong></p> <p><img src="/javablog/public/assets/img/1718199658713.668a01e6.png" alt="1718199658713"></p> <p><strong>服务治理责任：</strong></p> <ul><li>你是谁：服务注册 - 服务提供方自报家门</li> <li>你来自哪里：服务发现 - 服务消费者拉取注册数据</li> <li>你好吗：心跳检测，服务续约和服务剔除 一套由服务提供方和注册中心配合完成的去伪存真的过程</li> <li>当你死的时候：服务下线 - 服务提供方发起主动下线</li></ul> <p><strong>服务治理技术选型：</strong></p> <p><img src="/javablog/public/assets/img/1718199729362.6ab4c08f.png" alt="1718199729362"></p> <p>在架构选型的时候，我们需要注意一下切记不能为了新而新，忽略了对于当前业务的支持，虽然Eureka2.0不开源了，但是谁知道以后会不会变化，而且1.0也是可以正常使用的，也有一些贡献者在维护这个项目，所以我们不必要过多的担心这个问题，要针对于业务看下该技术框架是否支持在做考虑。</p> <h3 id="_7-服务注册发现-eurka概念"><a href="#_7-服务注册发现-eurka概念" class="header-anchor">#</a> 7, 服务注册发现_Eurka概念</h3> <p>Spring Cloud Eureka 是Netflix 开发的注册发现组件，本身是一个基于 REST 的服务。提供注册与发现，同时还提供了负载均衡、故障转移等能力。</p> <p><strong>Eureka3个角色</strong></p> <ul><li>服务中心</li> <li>服务提供者</li> <li>服务消费者</li></ul> <p><img src="/javablog/public/assets/img/1718199885986.4afe4169.png" alt="1718199885986"></p> <p><strong>注意：</strong></p> <ul><li><strong>Eureka Server</strong>：服务器端。它提供服务的注册和发现功能，即实现服务的治理。</li> <li><strong>Service Provider</strong>：服务提供者。它将自身服务注册到Eureka Server中，以便“服务消费者”能够通过服务器端提供的服务清单（注册服务列表）来调用它。</li> <li><strong>Service Consumer</strong>：服务消费者。它从 Eureka 获取“已注册的服务列表”，从而消费服务。</li></ul> <p><strong>比Zookeeper好在哪里呢：</strong></p> <p>当向注册中心查询服务列表时，我们可以容忍注册中心返回的是几分钟以前的注册信息，但不能接受服务直接down掉不可用。也就是说，服务注册功能对可用性的要求要高于一致性。</p> <p><img src="/javablog/public/assets/img/1718199936035.4737f92b.png" alt="1718199936035"></p> <p>Zookeeper会出现这样一种情况，当Master节点因为网络故障与其他节点失去联系时，剩余节点会重新进行leader选举。问题在于，选举leader的时间太长，30～120s，且选举期间整个zk集群都是不可用的，这就导致在选举期间注册服务瘫痪。</p> <p>**总结：**Eureka看明白了这一点，因此在设计时就优先保证可用性。</p> <h3 id="_8-服务注册发现-微服务聚合父工程构建"><a href="#_8-服务注册发现-微服务聚合父工程构建" class="header-anchor">#</a> 8, 服务注册发现_微服务聚合父工程构建</h3> <p>步骤：</p> <p><img src="/javablog/public/assets/img/1718200318660.6fd315b7.png" alt="1718200318660"></p> <p><img src="/javablog/public/assets/img/1718200354719.ee502818.png" alt="1718200354719"></p> <p><img src="/javablog/public/assets/img/1718200409684.fada0653.png" alt="1718200409684"></p> <p><img src="/javablog/public/assets/img/1718200454748.481a5059.png" alt="1718200454748"></p> <p><img src="/javablog/public/assets/img/1718200491799.d1cfe7fd.png" alt="1718200491799"></p> <p><img src="/javablog/public/assets/img/1718200561754.95a9fe87.png" alt="1718200561754"></p> <p>父工程pom:</p> <p><img src="/javablog/public/assets/img/1718200644572.93f0768c.png" alt="1718200644572"></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.ityls<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 统一管理jar包版本 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring-cloud.version</span><span class="token punctuation">&gt;</span></span>2021.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring-cloud.version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring-boot.version</span><span class="token punctuation">&gt;</span></span>2.6.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring-boot.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 子模块继承之后，提供作用：锁定版本+子modlue不用写groupId和version  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--spring boot 2.6.3--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${spring-boot.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--spring cloud 2021.0.0--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${spring-cloud.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p>**Run Dashboard面板:**在.idea/workspace.xml 文件中找到</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>RunDashboard<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ruleStates<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RuleState</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ConfigurationTypeDashboardGroupingRule<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RuleState</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RuleState</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>StatusDashboardGroupingRule<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>RuleState</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>configurationTypes<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SpringBootApplicationConfigurationType<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="_9-服务注册发现-单机eureka注册中心搭建"><a href="#_9-服务注册发现-单机eureka注册中心搭建" class="header-anchor">#</a> 9, 服务注册发现_单机Eureka注册中心搭建</h3> <p>创建cloud-eureka-server7001模块</p> <p><img src="/javablog/public/assets/img/1718200869566.5b6b77d3.png" alt="1718200869566"></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--  服务注册发现Eureka--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>配置文件：</p> <p><img src="/javablog/public/assets/img/1718201446360.76f88104.png" alt="1718201446360"></p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">7001</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token comment"># eureka服务端的实例名字</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> localhost
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token comment"># 表示是否将自己注册到Eureka Server</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token comment"># 表示是否从Eureka Server获取注册的服务信息</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token comment"># 设置与 Eureka server交互的地址查询服务和注册服务都需要依赖这个地址</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//$<span class="token punctuation">{</span>eureka.instance.hostname<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>server.port<span class="token punctuation">}</span>/eureka/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>启动类：</p> <p><img src="/javablog/public/assets/img/1718201380894.3400563e.png" alt="1718201380894"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * 主启动类
 */</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableEurekaServer</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EurekaMain7001</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">EurekaMain7001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;*************** Eureka  服务启动成功 端口 7001 ***********&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>访问浏览器localhost:7001</p> <p><img src="/javablog/public/assets/img/1718201501557.58df1037.png" alt="1718201501557"></p> <p><img src="/javablog/public/assets/img/1718201543990.6331c2b8.png" alt="1718201543990"></p> <p>服务注册发现_解读Eureka注册中心UI界面</p> <p><img src="/javablog/public/assets/img/1718201612488.1ad1a815.png" alt="1718201612488"></p> <p><strong>参数：</strong></p> <ul><li>Environment: 环境，默认为test，该参数在实际使用过程中，可以不用更改</li> <li>Data center： 数据中心，使用的是默认的是 “MyOwn”</li> <li>Current time：当前的系统时间</li> <li>Uptime：已经运行了多少时间</li> <li>Lease expiration enabled：是否启用租约过期 ，自我保护机制关闭时，该值默认是true， 自我保护机制开启之后为false。</li> <li>Renews threshold： 每分钟最少续约数，Eureka Server 期望每分钟收到客户端实例续约的总数。</li> <li>Renews (last min)： 最后一分钟的续约数量（不含当前，1分钟更新一次），Eureka Server 最后 1 分钟收到客户端实例续约的总数。</li></ul> <p><img src="data:image/png;base64,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" alt="1718201676018"></p> <p>这个下面的信息是这个Eureka Server相邻节点，互为一个集群。注册到这个服务上的实例信息</p> <p><img src="/javablog/public/assets/img/1718201706869.fab5b075.png" alt="1718201706869"></p> <p><strong>参数：</strong></p> <ul><li><p>Application：服务名称。配置的spring.application.name属性</p></li> <li><p>AMIs：n/a (1)，字符串n/a+实例的数量，我不了解</p></li> <li><p>Availability Zones：实例的数量</p></li> <li><p>Status：实例的状态 + eureka.instance.instance‐id的值。</p></li> <li><p>实例的状态分为UP、DOWN、STARTING、OUT_OF_SERVICE、UNKNOWN.</p></li> <li><p>UP： 服务正常运行，特殊情况当进入自我保护模式，所有的服务依然是UP状态，所以需要做好熔断重试等容错机制应对灾难性网络出错情况</p></li> <li><p>OUT_OF_SERVICE : 不再提供服务，其他的Eureka Client将调用不到该服务，一般有人为的调用接口设置的，如：强制下线。</p></li> <li><p>UNKNOWN： 未知状态</p></li> <li><p>STARTING ： 表示服务正在启动中</p></li> <li><p>DOWN： 表示服务已经宕机，无法继续提供服务</p></li></ul> <p><img src="/javablog/public/assets/img/1718201751742.4b040f9e.png" alt="1718201751742"></p> <p><strong>参数：</strong></p> <ul><li>total-avail-memory : 总共可用的内存</li> <li>environment : 环境名称，默认test</li> <li>num-of-cpus : CPU的个数</li> <li>current-memory-usage : 当前已经使用内存的百分比</li> <li>server-uptime : 服务启动时间</li> <li>registered-replicas : 相邻集群复制节点</li> <li>unavailable-replicas ：不可用的集群复制节点，如何确定不可用？ 主要是server1 向 server2和server3发送接口查询自身的注册信息。</li> <li>available-replicas ：可用的相邻集群复制节点</li></ul> <p><img src="/javablog/public/assets/img/1718201767389.ccdf2cc4.png" alt="1718201767389"></p> <p><strong>参数：</strong></p> <ul><li>ipAddr：eureka服务端IP</li> <li>status：eureka服务端状态</li></ul> <h3 id="_10-服务注册发现-创建服务提供者"><a href="#_10-服务注册发现-创建服务提供者" class="header-anchor">#</a> 10, 服务注册发现_创建服务提供者</h3> <p>创建cloud-provider-payment8001模块</p> <p><img src="/javablog/public/assets/img/1718201838425.3c9b44cd.png" alt="1718201838425"></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--  引入Eureka client依赖  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.18.22<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>配置：</p> <p><img src="/javablog/public/assets/img/1718201894297.a418e6b7.png" alt="1718201894297"></p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8001</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token comment"># Eureka server 地址</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>启动类：</p> <p><img src="/javablog/public/assets/img/1718201963268.bf5645f0.png" alt="1718201963268"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * 主启动类
 */</span>
<span class="token annotation punctuation">@EnableEurekaClient</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentMain8001</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentMain8001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;********* 服务提供者启动成功 ******&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>先启动EurekaServer服务，访问<a href="http://localhost:7001/" target="_blank" rel="noopener noreferrer">http://localhost:7001<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="/javablog/public/assets/img/1718202393804.4447b98f.png" alt="1718202393804"></p> <p>**注意：**application名字未定义。</p> <p>修改yml文件</p> <p><img src="/javablog/public/assets/img/1718202454036.7bf33060.png" alt="1718202454036"></p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
  <span class="token comment"># 设置应用名词</span>
   <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>provider
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>再次查看：</p> <p><img src="/javablog/public/assets/img/1718202469214.1b48d4e0.png" alt="1718202469214"></p> <h3 id="_11-服务注册发现-解读eureka注册中心ui界面"><a href="#_11-服务注册发现-解读eureka注册中心ui界面" class="header-anchor">#</a> 11, 服务注册发现_解读Eureka注册中心UI界面</h3> <p><img src="/javablog/public/assets/img/1718202526942.bb0d0756.png" alt="1718202526942"></p> <p><strong>参数：</strong></p> <ul><li>Environment: 环境，默认为test，该参数在实际使用过程中，可以不用更改</li> <li>Data center： 数据中心，使用的是默认的是 “MyOwn”</li> <li>Current time：当前的系统时间</li> <li>Uptime：已经运行了多少时间</li> <li>Lease expiration enabled：是否启用租约过期 ，自我保护机制关闭时，该值默认是true， 自我保护机制开启之后为false。</li> <li>Renews threshold： 每分钟最少续约数，Eureka Server 期望每分钟收到客户端实例续约的总数。</li> <li>Renews (last min)： 最后一分钟的续约数量（不含当前，1分钟更新一次），Eureka Server 最后 1 分钟收到客户端实例续约的总数。</li></ul> <p><img src="data:image/png;base64,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" alt="1718202543728"></p> <p><strong>参数：</strong> 这个下面的信息是这个Eureka Server相邻节点，互为一个集群。注册到这个服务上的实例信息</p> <p><img src="/javablog/public/assets/img/1718202564621.a79f5aaa.png" alt="1718202564621"></p> <p><strong>参数：</strong></p> <ul><li><p>Application：服务名称。配置的spring.application.name属性</p></li> <li><p>AMIs：n/a (1)，字符串n/a+实例的数量，我不了解</p></li> <li><p>Availability Zones：实例的数量</p></li> <li><p>Status：实例的状态 + eureka.instance.instance‐id的值。</p></li> <li><p>实例的状态分为UP、DOWN、STARTING、OUT_OF_SERVICE、UNKNOWN.</p></li> <li><p>UP： 服务正常运行，特殊情况当进入自我保护模式，所有的服务依然是UP状态，所以需要做好熔断重试等容错机制应对灾难性网络出错情况</p></li> <li><p>OUT_OF_SERVICE : 不再提供服务，其他的Eureka Client将调用不到该服务，一般有人为的调用接口设置的，如：强制下线。</p></li> <li><p>UNKNOWN： 未知状态</p></li> <li><p>STARTING ： 表示服务正在启动中</p></li> <li><p>DOWN： 表示服务已经宕机，无法继续提供服务</p></li></ul> <p><img src="/javablog/public/assets/img/1718202590003.6aede13d.png" alt="1718202590003"></p> <p><strong>参数：</strong></p> <ul><li>total-avail-memory : 总共可用的内存</li> <li>environment : 环境名称，默认test</li> <li>num-of-cpus : CPU的个数</li> <li>current-memory-usage : 当前已经使用内存的百分比</li> <li>server-uptime : 服务启动时间</li> <li>registered-replicas : 相邻集群复制节点</li> <li>unavailable-replicas ：不可用的集群复制节点，如何确定不可用？ 主要是server1 向 server2和server3发送接口查询自身的注册信息。</li> <li>available-replicas ：可用的相邻集群复制节点</li></ul> <p><img src="/javablog/public/assets/img/1718202603866.f8a2b3db.png" alt="1718202603866"></p> <p><strong>参数：</strong></p> <ul><li>ipAddr：eureka服务端IP</li> <li>status：eureka服务端状态</li></ul> <h3 id="_12-服务注册发现-创建服务消费者"><a href="#_12-服务注册发现-创建服务消费者" class="header-anchor">#</a> 12, 服务注册发现_创建服务消费者</h3> <p>创建cloud-consumer-order80模块</p> <p><img src="/javablog/public/assets/img/1718202737135.122e4571.png" alt="1718202737135"></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--  引入Eureka client依赖  --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.18.22<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>配置文件：</p> <p><img src="/javablog/public/assets/img/1718202780616.58ff0113.png" alt="1718202780616"></p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token comment"># Eureka Server地址</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token comment"># 设置应用名字</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>order<span class="token punctuation">-</span>consumer
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>启动类：</p> <p><img src="/javablog/public/assets/img/1718202834099.d7c70756.png" alt="1718202834099"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * 主启动类
 */</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableEurekaClient</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderMain80</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderMain80</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;*************** 订单服务消费者启动成功 ***********&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>先启动EurekaServer服务，访问<a href="http://locahost:7001/" target="_blank" rel="noopener noreferrer">http://locahost:7001<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><img src="/javablog/public/assets/img/1718202893140.e1849088.png" alt="1718202893140"></p> <h3 id="_13-服务注册发现-服务自保和剔除"><a href="#_13-服务注册发现-服务自保和剔除" class="header-anchor">#</a> 13, 服务注册发现_服务自保和剔除</h3> <p><strong>服务自保和服务剔除机制:</strong></p> <p>服务剔除，服务自保，这两套功法一邪一正，俨然就是失传多年的上乘心法的上卷和下卷。但是往往你施展了服务剔除便无法施展服务自保，而施展了服务自保，便无法施展服务剔除。也就是说，注册中心在同一时刻，只能施展一种心法，不可两种同时施展。</p> <p><strong>服务剔除:</strong></p> <p><img src="/javablog/public/assets/img/1718202975571.b8590548.png" alt="1718202975571"></p> <p><strong>注意：</strong></p> <p>服务剔除把服务节点果断剔除，即使你的续约请求晚了一步也毫不留情，招式凌厉，重在当断则断，忍痛割爱。心法总决简明扼要：欲练此功，必先自宫</p> <p><strong>服务自保:</strong></p> <p><img src="/javablog/public/assets/img/1718203014373.61a14e18.png" alt="1718203014373"></p> <p><strong>注意：</strong></p> <p>服务自保把当前所有节点保留，一个都不能少，绝不放弃任何队友。心法的指导思想是，即便主动删除，也许并不能解决问题，且放之任之，以不变应万变。心法总决引人深思：宫了以后，未必成功，如果不宫，或可成功。</p> <p><strong>心法总纲：</strong></p> <p>在实际应用里，并不是所有无心跳的服务都不可用，也许因为短暂的网络抖动等原因，导致服务节点与注册中心之间续约不上，但服务节点之间的调用还是属于可用状态，这时如果强行剔除服务节点，可能会造成大范围的业务停滞。</p> <p><strong>Euraka服务自保的触发机关：</strong></p> <p><img src="/javablog/public/assets/img/1718203095658.3209963d.png" alt="1718203095658"></p> <p>服务自保模式往往是为了应对短暂的网络环境问题，在理想情况下服务节点的续约成功率应该接近100%，如果突然发生网络问题，比如一部分机房无法连接到注册中心，这时候续约成功率有可能大幅降低。但考虑到Eureka采用客户端的服务发现模式，客户端手里有所有节点的地址，如果服务节点只是因为网络原因无法续约但其自身服务是可用的，那么客户端仍然可以成功发起调用请求。这样就避免了被服务剔除给错杀。</p> <p><strong>手动开关：</strong></p> <p>这是服务自保的总闸，以下配置将强制关闭服务自保，即便上面的自动开关被触发，也不能开启自保功能。</p> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code><span class="token comment"># 参数来关闭保护机制，以确保注册中心可以将不可用的实例正确剔除，默认为true。</span>
<span class="token key attr-name">eureka.server.enable-self-preservation</span><span class="token punctuation">=</span><span class="token value attr-value">false；</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_14-服务注册发现-actuator微服务信息完善"><a href="#_14-服务注册发现-actuator微服务信息完善" class="header-anchor">#</a> 14, 服务注册发现_actuator微服务信息完善</h3> <p>SpringCloud体系里的，服务实体向eureka注册时，注册名默认是IP名:应用名:应用端口名。</p> <p><img src="/javablog/public/assets/img/1718203196749.91c4e142.png" alt="1718203196749"></p> <p><strong>在服务提供者pom中配置Actuator依赖:</strong></p> <p><img src="/javablog/public/assets/img/1718203290701.9a200e73.png" alt="1718203290701"></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- actuator监控信息完善 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>在服务提供者生产者application.yml中加入:</strong></p> <p><img src="/javablog/public/assets/img/1718203347653.59d5493a.png" alt="1718203347653"></p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">eureka</span><span class="token punctuation">:</span>            
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
  <span class="token comment">#根据需要自己起名字</span>
   <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> springcloud<span class="token punctuation">-</span>dept<span class="token punctuation">-</span><span class="token number">8001</span>   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>测试：</p> <p><img src="/javablog/public/assets/img/1718203393678.eca873e0.png" alt="1718203393678"></p> <h3 id="_15-服务注册发现-服务发现discovery"><a href="#_15-服务注册发现-服务发现discovery" class="header-anchor">#</a> 15, 服务注册发现_服务发现Discovery</h3> <p>修改payment8001的Controller</p> <p><img src="/javablog/public/assets/img/1718203583196.b9ae2d66.png" alt="1718203583196"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * 支付控制层
 */</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">DiscoveryClient</span> discoveryClient<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/payment/discovery&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">discovery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 获取所有微服务信息</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> services <span class="token operator">=</span> discoveryClient<span class="token punctuation">.</span><span class="token function">getServices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> service <span class="token operator">:</span> services<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;server:={}&quot;</span><span class="token punctuation">,</span>service<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>discoveryClient<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>测试：</p> <p><img src="/javablog/public/assets/img/1718203651869.f8b1feb6.png" alt="1718203651869"></p> <p><strong>RestTemplate介绍：</strong></p> <p>RestTemplate 是从 Spring3.0 开始支持的一个 HTTP 请求工具，它提供了常见的REST请求方案的模版，例如 GET 请求、POST 请求、PUT 请求、DELETE 请求以及一些通用的请求执行方法 exchange 以及 execute。</p> <p><img src="/javablog/public/assets/img/1718203683458.5247325d.png" alt="1718203683458"></p> <p>在配置类中的restTemplate添加@LoadBalanced注解，这个注解会 给这个组件 有负载均衡的功能</p> <p><img src="/javablog/public/assets/img/1718204909079.fa7685f2.png" alt="1718204909079"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RestTemplateConfig</span><span class="token punctuation">{</span>
    <span class="token comment">//@LoadBalanced</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">RestTemplate</span> <span class="token function">restTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>修改payment8001工程controller</p> <p><img src="/javablog/public/assets/img/1718203950761.352086fe.png" alt="1718203950761"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Slf4j</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/payment&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/index&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;payment + successs&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>编写order80工程Controller</p> <p><img src="/javablog/public/assets/img/1718204927424.c228eca8.png" alt="1718204927424"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;order&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderController</span> <span class="token punctuation">{</span>

    <span class="token comment">// 服务发现</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">DiscoveryClient</span> discoveryClient<span class="token punctuation">;</span>


    <span class="token comment">//  HTTP 请求工具</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">RestTemplate</span> restTemplate<span class="token punctuation">;</span>


    <span class="token comment">/**
     * 测试服务发现接口
     * @return
     */</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 服务生产者名字</span>
        <span class="token class-name">String</span> hostName <span class="token operator">=</span> <span class="token string">&quot;CLOUD-PAYMENT-PROVIDER&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// 远程调用方法具体URL</span>
        <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;/payment/index&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// 1. 服务发现中获取服务生产者实例</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">&gt;</span></span> instances <span class="token operator">=</span> discoveryClient<span class="token punctuation">.</span><span class="token function">getInstances</span><span class="token punctuation">(</span>hostName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>instances<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2. 获取到具体实例  服务生产者实例</span>
        <span class="token class-name">ServiceInstance</span> serviceInstance <span class="token operator">=</span> instances<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>serviceInstance<span class="token punctuation">.</span><span class="token function">getUri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>serviceInstance<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>serviceInstance<span class="token punctuation">.</span><span class="token function">getHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>serviceInstance<span class="token punctuation">.</span><span class="token function">getServiceId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;==============================&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 3. 发起了远程调用</span>
        <span class="token class-name">String</span> rest <span class="token operator">=</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>serviceInstance<span class="token punctuation">.</span><span class="token function">getUri</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> url<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> rest<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p>测试：</p> <p><img src="/javablog/public/assets/img/1718204966125.15dad468.png" alt="1718204966125"></p> <h3 id="_16-服务注册发现-高可用eureka注册中心"><a href="#_16-服务注册发现-高可用eureka注册中心" class="header-anchor">#</a> 16, 服务注册发现_高可用Eureka注册中心</h3> <p><img src="/javablog/public/assets/img/1718205119212.65897080.png" alt="1718205119212"></p> <p>在微服务架构这样的分布式环境中，我们需要充分考虑发生故障的情况，所以在生产环境中必须对各个组件进行高可用部署，对于微服务如此，对于服务注册中心也一样。</p> <p><img src="/javablog/public/assets/img/1718205037047.b545f29a.png" alt="1718205037047"></p> <p>Spring-Cloud为基础的微服务架构，所有的微服务都需要注册到注册中心，如果这个注册中心阻塞或者崩了，那么整个系统都无法继续正常提供服务，所以，这里就需要对注册中心搭建，高可用（HA）集群。</p> <p>Eureka Server的设计一开始就考虑了高可用问题，在Eureka的服务治理设计中，所有节点即是服务提供方，也是服务消费方，服务注册中心也不例外。是否还记得在单节点的配置中，我们设置过下面这两个参数，让服务注册中心不注册自己:</p> <div class="language-properties line-numbers-mode"><pre class="language-properties"><code>eureka.client.register-with-eureka-false
eureka.client.fetch-registry-false
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_17-服务注册发现-高可用eureka注册中心搭建"><a href="#_17-服务注册发现-高可用eureka注册中心搭建" class="header-anchor">#</a> 17, 服务注册发现_高可用Eureka注册中心搭建</h3> <p>构建cloud-eureka-server7002工程</p> <p><img src="/javablog/public/assets/img/1718205218845.8c5b5171.png" alt="1718205218845"></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--  服务注册发现Eureka--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>找到C:\Windows\System32\drivers\etc\hosts</p> <p><img src="/javablog/public/assets/img/1718205315879.31f9a2b9.png" alt="1718205315879"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>#添加如下配置
127.0.0.1 eureka7001.com
127.0.0.1 eureka7002.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>修改7001YML文件</p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">7001</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token comment"># eureka服务端的实例名字</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> eureka7001.com
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token comment"># 表示是否将自己注册到Eureka Server</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token comment"># 表示是否从Eureka Server获取注册的服务信息</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token comment"># 设置与 Eureka server交互的地址查询服务和注册服务都需要依赖这个地址</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7002.com<span class="token punctuation">:</span>7002/eureka/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>修改7002YML文件</p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">7002</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token comment"># eureka服务端的实例名字</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> eureka7002.com
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token comment"># 表示是否将自己注册到Eureka Server</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token comment"># 表示是否从Eureka Server获取注册的服务信息</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token comment"># 设置与 Eureka server交互的地址查询服务和注册服务都需要依赖这个地址</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>启动类：</p> <p><img src="/javablog/public/assets/img/1718205538444.fd89963c.png" alt="1718205538444"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Slf4j</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableEurekaServer</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EurekaMain7002</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">EurekaMain7002</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;*************** Eureka  服务启动成功 端口 7002 ***********&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>将支付微服务8001发布到Eureka集群上</p> <p><img src="/javablog/public/assets/img/1718205645625.07793811.png" alt="1718205645625"></p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8001</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token comment"># Eureka server 地址</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka<span class="token punctuation">,</span>http<span class="token punctuation">:</span>//eureka7002.com<span class="token punctuation">:</span>7002/eureka
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token comment">#根据需要自己起名字</span>
    <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> springcloud<span class="token punctuation">-</span>dept<span class="token punctuation">-</span><span class="token number">8001</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token comment"># 设置应用名词</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>provider
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>将订单微服务80发布到Eureka集群上</p> <p><img src="/javablog/public/assets/img/1718205681130.96c3b555.png" alt="1718205681130"></p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token comment"># Eureka Server地址</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka<span class="token punctuation">,</span>http<span class="token punctuation">:</span>//eureka7002.com<span class="token punctuation">:</span>7002/eureka
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token comment"># 设置应用名字</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>order<span class="token punctuation">-</span>consumer
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>测试:</strong></p> <ol><li>先启动EurekaServer集群</li> <li>在启动服务提供者provider服务</li> <li>在启动消费者服务</li></ol> <p><img src="/javablog/public/assets/img/1718205802176.4545f9f7.png" alt="1718205802176"></p> <p><img src="/javablog/public/assets/img/1718205794522.215f64cd.png" alt="1718205794522"></p> <p><img src="/javablog/public/assets/img/1718205849726.3db63e9e.png" alt="1718205849726"></p> <h3 id="_18-客户端负载均衡-什么是负载均衡"><a href="#_18-客户端负载均衡-什么是负载均衡" class="header-anchor">#</a> 18, 客户端负载均衡_什么是负载均衡</h3> <p><strong>为什么需要负载均衡:</strong></p> <p>俗话说在生产队薅羊毛不能逮着一只羊薅，在微服务领域也是这个道理。面对一个庞大的微服务集群，如果你每次发起服务调用都只盯着那一两台服务器，在大用户访问量的情况下，这几台被薅羊毛的服务器一定会不堪重负。</p> <p><strong>负载均衡要干什么事情:</strong></p> <p>负载均衡有两大门派，<strong>服务端负载均衡</strong>和<strong>客户端负载均衡</strong>。我们先来聊聊这两个不同门派的使用场景，再来看看本节课的主角Spring Cloud Loadbalancer 属于哪门哪派。</p> <p><strong>服务端负载均衡:</strong></p> <p>在服务集群内设置一个中心化负载均衡器，比如Nginx。发起服务间调用的时候，服务请求并不直接发向目标服务器，而是发给这个全局负载均衡器，它再根据配置的负载均衡策略将请求转发到目标服务。</p> <p><img src="/javablog/public/assets/img/1718205945136.8c1239a8.png" alt="1718205945136"></p> <p><strong>优点：</strong></p> <ul><li>服务端负载均衡应用范围非常广，它不依赖于服务发现技术，客户端并不需要拉取完整的服务列表；同时，发起服务调用的客户端也不用操心该使用什么负载均衡策略。</li></ul> <p><strong>劣势：</strong></p> <ul><li>网络消耗</li> <li>复杂度和故障率提升</li></ul> <p><strong>客户端负载均衡:</strong></p> <p>Spring Cloud Loadbalancer 采用了客户端负载均衡技术，每个发起服务调用的客户端都存有完整的目标服务地址列表，根据配置的负载均衡策略，由客户端自己决定向哪台服务器发起调用。</p> <p><img src="/javablog/public/assets/img/1718205988047.abb9e6be.png" alt="1718205988047"></p> <p><strong>优势：</strong></p> <ul><li>网络开销小</li> <li>配置灵活</li></ul> <p><strong>劣势：</strong></p> <p>需要满足⼀个前置条件，发起服务调用的客户 端需要获取所有目标服务的地址，这样它才能使用负载均衡规则选取要调用的服务。也就是说，客户端负载均衡技术往往需要依赖服务发现技术来获取服务列表。</p> <p><strong>负载均衡需要解决两个最基本的问题:</strong></p> <ul><li><p><strong>第一个是从哪里选服务实例</strong></p> <p>在Spring Cloud的Eureka微服务系统中，维护微服务实例清单的是Eureka服务治理中心，而具体微服务实例会执行服务获取，获得微服务实例清单，缓存到本地，同时，还会按照一个时间间隔更新这份实例清单（因为实例清单也是在不断维护和变化的)。</p></li> <li><p><strong>第二个是如何选择服务实例</strong></p> <p>通过过负载均衡的策略从服务实例清单列表中选择具体实例。</p></li></ul> <p><strong>注意：</strong></p> <ul><li><p>Eurka和Loadbalancer 自然而然地到了一起，一个通过服务发现获取服务列表，</p></li> <li><p>另一个使用负载均衡规则选出目标服务器，然后过着没羞没躁的生活。</p></li></ul> <p><strong>什么是Spring Cloud Ribbon:</strong></p> <p>Spring Cloud Ribbon是NetFlix发布的负载均衡器，它有助于Http和Tcp的客户端行为。可以根据负载均衡算法（轮询、随机或自定义）自动帮助消费者请求，默认就是轮询。</p> <p><strong>问题：</strong></p> <ul><li><strong>状态</strong> - <code>停更进维</code></li> <li><strong>替代方案</strong> - <code>Spring Cloud Loadbalancer</code></li></ul> <p><strong>什么是Spring Cloud LoadBalancer:</strong></p> <p>但是由于Ribbon已经进入维护模式，并且Ribbon 2并不与Ribbon 1相互兼容，所以Spring Cloud全家桶在Spring Cloud Commons项目中，添加了Spring cloud Loadbalancer作为新的负载均衡器，并且做了向前兼容，就算你的项目中继续用 Spring Cloud Netflix 套装（包括Ribbon，Eureka，Zuul，Hystrix等等）让你的项目中有这些依赖，你也可以通过简单的配置，把Ribbon替换成Spring Cloud LoadBalancer。</p> <h3 id="_19-客户端负载均衡-负载均衡策略"><a href="#_19-客户端负载均衡-负载均衡策略" class="header-anchor">#</a> 19, 客户端负载均衡_负载均衡策略</h3> <p>以前的Ribbon有多种负载均衡策略，RandomRule - 随性而为（随机）</p> <p><img src="/javablog/public/assets/img/1718206418466.b74f427e.png" alt="1718206418466"></p> <p>RoundRobinRule - 按部就班（轮询）</p> <p><img src="/javablog/public/assets/img/1718206444433.80c94764.png" alt="1718206444433"></p> <p>RetryRule - 卷土重来（先按照RoundRobinRule的策略获取服务，如果获取服务失败则在指定时间内会进行重试。）</p> <p><img src="/javablog/public/assets/img/1718206466496.b586a311.png" alt="1718206466496"></p> <p>WeightedResponseTimeRule - 能者多劳，这个Rule继承自RoundRibbonRule，他会根据服务节点的响应时间计算权重，响应时间越长权重就越低，响应越快则权重越高，权重的高低决定了机器被选中概率的高低。也就是说，响应时间越小的机器，被选中的概率越大。对RoundRobinRule的扩展，响应速度越快的实例选择权重越大，越容易被选择</p> <p><img src="/javablog/public/assets/img/1718206540370.6e7e6516.png" alt="1718206540370"></p> <p>BestAvailableRule - 让最闲的人来，应该说这个Rule有点智能的味道了，在过滤掉故障服务以后，它会基于过去30分钟的统计结果选取当前并发量最小的服务节点，也就是最“闲”的节点作为目标地址。如果统计结果尚未生成，则采用轮询的方式选定节点。</p> <p><img src="/javablog/public/assets/img/1718206591044.e151def4.png" alt="1718206591044"></p> <p>AvailabilityFilteringRule - 我是有底线的，这个规则底层依赖RandomRobinRule来选取节点，但并非来者不拒，它也是有一些底线的，必须要满足它的最低要求的节点才会被选中。如果节点满足了要求，无论其响应时间或者当前并发量是什么，都会被选中。每次AvailabilityFilteringRule（简称AFR）都会请求RobinRule挑选一个节点，然后对这个节点做以下两步检查：是否处于不可用，节点当前的active请求连接数超过阈值，超过了则表示节点目前太忙，不适合接客如果被选中的server不幸挂掉了检查，那么AFR会自动重试（次数最多10次），让RobinRule重新选择一个服务节点。</p> <p><img src="/javablog/public/assets/img/1718206621844.458204ab.png" alt="1718206621844"></p> <p>ZoneAvoidanceRule - 我的地盘我做主，默认规则，复合判断server所在区域的性能和server的可用性选择服务器</p> <p><img src="/javablog/public/assets/img/1718206658719.222de4e5.png" alt="1718206658719"></p> <p><strong>但LoadBalancer只提供了两种负载均衡器：</strong></p> <ul><li>RandomLoadBalancer 随机</li> <li>RoundRobinLoadBalancer 轮询（不指定的时候默认用的是轮询）</li></ul></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/13/2024, 8:35:54 AM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_1-微服务架构论" class="sidebar-link reco-side-_1-微服务架构论" data-v-b57cc07c>1, 微服务架构论</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_2-微服务的拆分规范和原则" class="sidebar-link reco-side-_2-微服务的拆分规范和原则" data-v-b57cc07c>2, 微服务的拆分规范和原则</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_3-为什么要使用springcloud" class="sidebar-link reco-side-_3-为什么要使用springcloud" data-v-b57cc07c>3, 为什么要使用SpringCloud</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_4-如何选择springcloud版本" class="sidebar-link reco-side-_4-如何选择springcloud版本" data-v-b57cc07c>4, 如何选择SpringCloud版本</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_5-如何学习微服务springcloud" class="sidebar-link reco-side-_5-如何学习微服务springcloud" data-v-b57cc07c>5, 如何学习微服务SpringCloud</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_6-什么是服务治理" class="sidebar-link reco-side-_6-什么是服务治理" data-v-b57cc07c>6, 什么是服务治理</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_7-服务注册发现-eurka概念" class="sidebar-link reco-side-_7-服务注册发现-eurka概念" data-v-b57cc07c>7, 服务注册发现_Eurka概念</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_8-服务注册发现-微服务聚合父工程构建" class="sidebar-link reco-side-_8-服务注册发现-微服务聚合父工程构建" data-v-b57cc07c>8, 服务注册发现_微服务聚合父工程构建</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_9-服务注册发现-单机eureka注册中心搭建" class="sidebar-link reco-side-_9-服务注册发现-单机eureka注册中心搭建" data-v-b57cc07c>9, 服务注册发现_单机Eureka注册中心搭建</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_10-服务注册发现-创建服务提供者" class="sidebar-link reco-side-_10-服务注册发现-创建服务提供者" data-v-b57cc07c>10, 服务注册发现_创建服务提供者</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_11-服务注册发现-解读eureka注册中心ui界面" class="sidebar-link reco-side-_11-服务注册发现-解读eureka注册中心ui界面" data-v-b57cc07c>11, 服务注册发现_解读Eureka注册中心UI界面</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_12-服务注册发现-创建服务消费者" class="sidebar-link reco-side-_12-服务注册发现-创建服务消费者" data-v-b57cc07c>12, 服务注册发现_创建服务消费者</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_13-服务注册发现-服务自保和剔除" class="sidebar-link reco-side-_13-服务注册发现-服务自保和剔除" data-v-b57cc07c>13, 服务注册发现_服务自保和剔除</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_14-服务注册发现-actuator微服务信息完善" class="sidebar-link reco-side-_14-服务注册发现-actuator微服务信息完善" data-v-b57cc07c>14, 服务注册发现_actuator微服务信息完善</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_15-服务注册发现-服务发现discovery" class="sidebar-link reco-side-_15-服务注册发现-服务发现discovery" data-v-b57cc07c>15, 服务注册发现_服务发现Discovery</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_16-服务注册发现-高可用eureka注册中心" class="sidebar-link reco-side-_16-服务注册发现-高可用eureka注册中心" data-v-b57cc07c>16, 服务注册发现_高可用Eureka注册中心</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_17-服务注册发现-高可用eureka注册中心搭建" class="sidebar-link reco-side-_17-服务注册发现-高可用eureka注册中心搭建" data-v-b57cc07c>17, 服务注册发现_高可用Eureka注册中心搭建</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_18-客户端负载均衡-什么是负载均衡" class="sidebar-link reco-side-_18-客户端负载均衡-什么是负载均衡" data-v-b57cc07c>18, 客户端负载均衡_什么是负载均衡</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/springcloud/eurka/Eurka.html#_19-客户端负载均衡-负载均衡策略" class="sidebar-link reco-side-_19-客户端负载均衡-负载均衡策略" data-v-b57cc07c>19, 客户端负载均衡_负载均衡策略</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/javablog/public/assets/js/app.ff9978df.js" defer></script><script src="/javablog/public/assets/js/73.bd6368ee.js" defer></script><script src="/javablog/public/assets/js/1.3c422ec2.js" defer></script><script src="/javablog/public/assets/js/42.87f4f2fb.js" defer></script>
  </body>
</html>
