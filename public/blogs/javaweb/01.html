<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>01-MySQL上 | 码路全栈开发</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/javablog/public/favicon.ico">
    <meta name="description" content="快来玩java全栈呀">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/javablog/public/assets/css/0.styles.ca9f9cd1.css" as="style"><link rel="preload" href="/javablog/public/assets/js/app.c0a5f9ce.js" as="script"><link rel="preload" href="/javablog/public/assets/js/18.c0914709.js" as="script"><link rel="preload" href="/javablog/public/assets/js/1.4a2aebf2.js" as="script"><link rel="preload" href="/javablog/public/assets/js/31.fe9f4c8c.js" as="script"><link rel="prefetch" href="/javablog/public/assets/js/10.40d2aac8.js"><link rel="prefetch" href="/javablog/public/assets/js/11.ebbb2b64.js"><link rel="prefetch" href="/javablog/public/assets/js/12.028e8706.js"><link rel="prefetch" href="/javablog/public/assets/js/13.f827e6a0.js"><link rel="prefetch" href="/javablog/public/assets/js/14.3810a930.js"><link rel="prefetch" href="/javablog/public/assets/js/15.f0b83a80.js"><link rel="prefetch" href="/javablog/public/assets/js/16.242ec567.js"><link rel="prefetch" href="/javablog/public/assets/js/17.45f24e4b.js"><link rel="prefetch" href="/javablog/public/assets/js/19.b68b69f8.js"><link rel="prefetch" href="/javablog/public/assets/js/20.8003f6a1.js"><link rel="prefetch" href="/javablog/public/assets/js/21.a3e1096b.js"><link rel="prefetch" href="/javablog/public/assets/js/22.755871ca.js"><link rel="prefetch" href="/javablog/public/assets/js/23.e01a964d.js"><link rel="prefetch" href="/javablog/public/assets/js/24.630703df.js"><link rel="prefetch" href="/javablog/public/assets/js/25.9f08e2cc.js"><link rel="prefetch" href="/javablog/public/assets/js/26.33ff3bee.js"><link rel="prefetch" href="/javablog/public/assets/js/27.9c5919b3.js"><link rel="prefetch" href="/javablog/public/assets/js/28.02347ffa.js"><link rel="prefetch" href="/javablog/public/assets/js/29.b5a07304.js"><link rel="prefetch" href="/javablog/public/assets/js/3.05f3e74e.js"><link rel="prefetch" href="/javablog/public/assets/js/30.727ca7a5.js"><link rel="prefetch" href="/javablog/public/assets/js/32.7f7866b0.js"><link rel="prefetch" href="/javablog/public/assets/js/33.aca12b54.js"><link rel="prefetch" href="/javablog/public/assets/js/34.a066455e.js"><link rel="prefetch" href="/javablog/public/assets/js/35.bd408cba.js"><link rel="prefetch" href="/javablog/public/assets/js/36.5b50c72a.js"><link rel="prefetch" href="/javablog/public/assets/js/37.a01c884f.js"><link rel="prefetch" href="/javablog/public/assets/js/38.83805877.js"><link rel="prefetch" href="/javablog/public/assets/js/39.f1ad83b1.js"><link rel="prefetch" href="/javablog/public/assets/js/4.b87ee8ba.js"><link rel="prefetch" href="/javablog/public/assets/js/40.93baa0fb.js"><link rel="prefetch" href="/javablog/public/assets/js/41.d8df5b7a.js"><link rel="prefetch" href="/javablog/public/assets/js/42.5b075093.js"><link rel="prefetch" href="/javablog/public/assets/js/43.d16414ae.js"><link rel="prefetch" href="/javablog/public/assets/js/44.404e6efa.js"><link rel="prefetch" href="/javablog/public/assets/js/45.27f2138e.js"><link rel="prefetch" href="/javablog/public/assets/js/46.f55aecea.js"><link rel="prefetch" href="/javablog/public/assets/js/47.856e1b23.js"><link rel="prefetch" href="/javablog/public/assets/js/48.da94ed6b.js"><link rel="prefetch" href="/javablog/public/assets/js/49.fe3f40d0.js"><link rel="prefetch" href="/javablog/public/assets/js/5.ecc7ca5f.js"><link rel="prefetch" href="/javablog/public/assets/js/50.cc1822c6.js"><link rel="prefetch" href="/javablog/public/assets/js/51.5d5141e1.js"><link rel="prefetch" href="/javablog/public/assets/js/6.87a1822c.js"><link rel="prefetch" href="/javablog/public/assets/js/7.af280ff3.js"><link rel="prefetch" href="/javablog/public/assets/js/8.5ca75c41.js"><link rel="prefetch" href="/javablog/public/assets/js/9.64c1590f.js">
    <link rel="stylesheet" href="/javablog/public/assets/css/0.styles.ca9f9cd1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-1c636796><div data-v-1c636796><div class="password-shadow password-wrapper-out" style="display:none;" data-v-2c3e9f55 data-v-1c636796 data-v-1c636796><h3 class="title" data-v-2c3e9f55>码路全栈开发</h3> <p class="description" data-v-2c3e9f55>快来玩java全栈呀</p> <label id="box" class="inputBox" data-v-2c3e9f55><input type="password" value="" data-v-2c3e9f55> <span data-v-2c3e9f55>Konck! Knock!</span> <button data-v-2c3e9f55>OK</button></label> <div class="footer" data-v-2c3e9f55><span data-v-2c3e9f55><i class="iconfont reco-theme" data-v-2c3e9f55></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-2c3e9f55>vuePress-theme-reco</a></span> <span data-v-2c3e9f55><i class="iconfont reco-copyright" data-v-2c3e9f55></i> <a data-v-2c3e9f55><span data-v-2c3e9f55>码路</span>
          
        <span data-v-2c3e9f55>2017 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-1c636796><header class="navbar" data-v-1c636796><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/javablog/public/" class="home-link router-link-active"><img src="/javablog/public/logo.png" alt="码路全栈开发" class="logo"> <span class="site-name">码路全栈开发</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/javablog/public/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      全栈开发
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javablog/public/categories/base/" class="nav-link"><i class="undefined"></i>
  base
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/javase/" class="nav-link"><i class="undefined"></i>
  javase
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/javaweb/" class="nav-link"><i class="undefined"></i>
  javaweb
</a></li></ul></div></div><div class="nav-item"><a href="/javablog/public/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/javablog/public/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javablog/public/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  vuepress-reco
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1c636796></div> <aside class="sidebar" data-v-1c636796><div class="personal-info-wrapper" data-v-6f92ba70 data-v-1c636796><img src="/javablog/public/avatar.png" alt="author-avatar" class="personal-img" data-v-6f92ba70> <h3 class="name" data-v-6f92ba70>
    码路
  </h3> <div class="num" data-v-6f92ba70><div data-v-6f92ba70><h3 data-v-6f92ba70>41</h3> <h6 data-v-6f92ba70>Articles</h6></div> <div data-v-6f92ba70><h3 data-v-6f92ba70>5</h3> <h6 data-v-6f92ba70>Tags</h6></div></div> <ul class="social-links" data-v-6f92ba70></ul> <hr data-v-6f92ba70></div> <nav class="nav-links"><div class="nav-item"><a href="/javablog/public/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      全栈开发
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javablog/public/categories/base/" class="nav-link"><i class="undefined"></i>
  base
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/javase/" class="nav-link"><i class="undefined"></i>
  javase
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/javaweb/" class="nav-link"><i class="undefined"></i>
  javaweb
</a></li></ul></div></div><div class="nav-item"><a href="/javablog/public/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/javablog/public/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javablog/public/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  vuepress-reco
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-2c3e9f55 data-v-1c636796><h3 class="title" data-v-2c3e9f55>01-MySQL上</h3> <!----> <label id="box" class="inputBox" data-v-2c3e9f55><input type="password" value="" data-v-2c3e9f55> <span data-v-2c3e9f55>Konck! Knock!</span> <button data-v-2c3e9f55>OK</button></label> <div class="footer" data-v-2c3e9f55><span data-v-2c3e9f55><i class="iconfont reco-theme" data-v-2c3e9f55></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-2c3e9f55>vuePress-theme-reco</a></span> <span data-v-2c3e9f55><i class="iconfont reco-copyright" data-v-2c3e9f55></i> <a data-v-2c3e9f55><span data-v-2c3e9f55>码路</span>
          
        <span data-v-2c3e9f55>2017 - </span>
        2023
      </a></span></div></div> <div data-v-1c636796><div data-v-1c636796><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">01-MySQL上</h1> <div data-v-6acedb3b><i class="iconfont reco-account" data-v-6acedb3b><span data-v-6acedb3b>码路</span></i> <i class="iconfont reco-date" data-v-6acedb3b><span data-v-6acedb3b>12/15/2028</span></i> <!----> <i class="tags iconfont reco-tag" data-v-6acedb3b><span class="tag-item" data-v-6acedb3b>javaweb</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="一-数据库相关概念"><a href="#一-数据库相关概念" class="header-anchor">#</a> 一，数据库相关概念</h2> <h3 id="_1-数据库的管理系统"><a href="#_1-数据库的管理系统" class="header-anchor">#</a> 1，数据库的管理系统</h3> <p>数据库管理系统是管理数据库的大型软件，英文：DataBase Management System，简称 DBMS。电脑上安装了数据库管理系统后，就可以通过数据库管理系统创建数据库来存储数据，也可以通过该系统对数据库中的数据进行数据的增删改查相关的操作。我们平时说的MySQL数据库其实是MySQL数据库管理系统。</p> <p><img src="/javablog/public/assets/img/1701855668875.d4836a6a.png" alt="1701855668875"></p> <p>常见的数据库管理系统：</p> <p><img src="/javablog/public/assets/img/1701855705866.3146bbc3.png" alt="1701855705866"></p> <h3 id="_2-什么是sql"><a href="#_2-什么是sql" class="header-anchor">#</a> 2，什么是SQL</h3> <p>Structured Query Language，简称 SQL，结构化查询语言，操作关系型数据库的编程语言，定义操作所有关系型数据库的统一标准，可以使用SQL操作所有的关系型数据库管理系统，以后工作中如果使用到了其他的数据库管理系统，也同样的使用SQL来操作。</p> <p><img src="/javablog/public/assets/img/1701855780579.e4db3cc5.png" alt="1701855780579"></p> <h3 id="_3-mysql的安装"><a href="#_3-mysql的安装" class="header-anchor">#</a> 3，MySQL的安装</h3> <p>大家直接安装小皮就行，简单粗暴，如下：</p> <p><img src="/javablog/public/assets/img/1701855915182.f426a45f.png" alt="1701855915182"></p> <p>这个小皮软件中，内置了很多的软件，其中就包含mysql。如果我们直接下载mysql安装的话，过程比较烦索。</p> <h3 id="_4-sqlyog安装"><a href="#_4-sqlyog安装" class="header-anchor">#</a> 4，SQLyog安装</h3> <p>安装了mysql，我后我们可以安装SQLyog软件，这个软件是用来连接mysql管理系统的。连接上后，可以通过可视化操作mysql。安装如下：</p> <h3 id="_5-mysql的数据模型"><a href="#_5-mysql的数据模型" class="header-anchor">#</a> 5，MySQL的数据模型</h3> <p>关系型数据库：</p> <ul><li>关系型数据库是建立在关系模型基础上的数据库，简单说，关系型数据库是由多张能互相连接的 二维表 组成的数据库</li> <li>关系型数据库都可以通过SQL进行操作，所以使用方便。</li> <li>数据存储在磁盘中，安全。</li></ul> <p><code>订单信息表</code> 和 <code>客户信息表</code> 都是有行有列二维表我们将这样的称为关系型数据库。如下：</p> <p><img src="/javablog/public/assets/img/1701856066720.97f54bf6.png" alt="1701856066720"></p> <p>数据模型：</p> <p><img src="/javablog/public/assets/img/1701856280238.0bae6083.png" alt="1701856280238"></p> <p>通过客户端可以通过数据库管理系统创建数据库，在数据库中创建表，在表中添加数据。创建的每一个数据库对应到磁盘上都是一个文件夹。</p> <p>一个数据库下可以创建多张表，我们到MySQL中自带的mysql数据库的文件夹目录下：</p> <p><code>db.frm</code> 是表文件， <code>db.MYD</code> 是数据文件，通过这两个文件就可以查询到数据展示成二维表的效果。</p> <p>小结：</p> <ul><li>MySQL中可以创建多个数据库，每个数据库对应到磁盘上的一个文件夹</li> <li>在每个数据库中可以创建多个表，每张都对应到磁盘上一个 frm 文件</li> <li>每张表可以存储多条数据，数据会被存储到磁盘中  MYD 文件中</li></ul> <h2 id="二-sql概述"><a href="#二-sql概述" class="header-anchor">#</a> 二，SQL概述</h2> <p>通过SQL语句对数据库、表、数据进行增删改查操作。</p> <h3 id="_1-sql的通用语法"><a href="#_1-sql的通用语法" class="header-anchor">#</a> 1，SQL的通用语法</h3> <p>SQL 语句可以单行或多行书写，以分号结尾。以分号结尾才是一个完整的sql语句（show databases; ）。如下：</p> <p>MySQL 数据库的 SQL 语句不区分大小写，关键字建议使用大写。同样的一条sql语句写成如下的样子（Show Databases; ），一样可以运行处结果。</p> <p>单行注释: -- 注释内容 或 #注释内容(MySQL 特有)。使用-- 添加单行注释时，--后面一定要加空格，而#没有要求。多行注释: /* 注释 */</p> <h3 id="_2-sql分类"><a href="#_2-sql分类" class="header-anchor">#</a> 2，SQL分类</h3> <p>DDL（Data Definition Language）就是用来操作数据库，表等。</p> <p><img src="/javablog/public/assets/img/1701857645967.e4de6ae3.png" alt="1701857645967"></p> <p>DML（Data Manipulation Language）就是对表中数据进行增删改的。DQL（Data Query Language）就是对数据进行查询操作。从数据库表中查询到我们想要的数据。</p> <p><img src="/javablog/public/assets/img/1701857686053.fabf4e57.png" alt="1701857686053"></p> <p>DML就是对数据库进行权限控制。比如我让某一个数据库表只能让某一个用户进行操作等。</p> <p>总结：</p> <ul><li>以后我们最常操作的是 <code>DML</code> 和 <code>DQL</code>  ，因为我们开发中最常操作的就是数据。</li></ul> <h2 id="三-ddl操作数据库"><a href="#三-ddl操作数据库" class="header-anchor">#</a> 三，DDL操作数据库</h2> <p>DDL主要就是对数据库的增删查操作。</p> <h3 id="_1-查询"><a href="#_1-查询" class="header-anchor">#</a> 1，查询</h3> <p>查询所有的数据库：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>SHOW DATABASES;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>运行上面语句效果如下：</p> <p>上述查询到的是的这些数据库是mysql安装好自带的数据库，我们以后不要操作这些数据库。</p> <h3 id="_2-创建数据库"><a href="#_2-创建数据库" class="header-anchor">#</a> 2，创建数据库</h3> <p>创建数据库：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>CREATE DATABASE 数据库名称;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>运行语句效果如下：</p> <p>而在创建数据库的时候，我并不知道db1数据库有没有创建，直接再次创建名为db1的数据库就会出现错误。如下：</p> <p>为了避免上面的错误，在创建数据库的时候先做判断，如果不存在再创建。</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>CREATE DATABASE IF NOT EXISTS 数据库名称;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>运行语句效果如下：</p> <p>从上面的效果可以看到虽然db1数据库已经存在，再创建db1也没有报错，而创建db2数据库则创建成功。</p> <h3 id="_3-删除数据库"><a href="#_3-删除数据库" class="header-anchor">#</a> 3，删除数据库</h3> <p>删除数据库：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>DROP DATABASE 数据库名称;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>删除数据库(判断，如果存在则删除)：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>DROP DATABASE IF EXISTS 数据库名称;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>运行语句效果如下：</p> <h3 id="_4-使用数据库"><a href="#_4-使用数据库" class="header-anchor">#</a> 4，使用数据库</h3> <p>数据库创建好了，要在数据库中创建表，得先明确在哪儿个数据库中操作，此时就需要使用数据库。</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>USE 数据库名称;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看当前使用的数据库：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>SELECT DATABASE();
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>运行语句效果如下：</p> <h2 id="四-ddl操作表"><a href="#四-ddl操作表" class="header-anchor">#</a> 四，DDL操作表</h2> <p>操作表也就是对表进行增（Create）删（Retrieve）改（Update）查（Delete）。</p> <h3 id="_1-查询表"><a href="#_1-查询表" class="header-anchor">#</a> 1，查询表</h3> <p>询当前数据库下所有表名称：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>SHOW TABLES;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们创建的数据库中没有任何表，因此我们进入mysql自带的mysql数据库，执行上述语句查看</p> <p>查询表结构：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>DESC 表名称;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看mysql数据库中func表的结构，运行语句如下：</p> <h3 id="_2-创建表"><a href="#_2-创建表" class="header-anchor">#</a> 2，创建表</h3> <p>创建表：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>CREATE TABLE 表名 (
	字段名1  数据类型1,
	字段名2  数据类型2,
	…
	字段名n  数据类型n  -- 注意：最后一行末尾，不能加逗号
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>知道了创建表的语句，那么我们创建创建如下结构的表：</p> <p><img src="/javablog/public/assets/img/1701937907059.e7db3668.png" alt="1701937907059"></p> <p>语句如下：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create table tb_user (
	id int,
    username varchar(20),
    password varchar(32)
);

show tables;

desc tb_user;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>运行语句如下：</p> <h3 id="_3-数据类型"><a href="#_3-数据类型" class="header-anchor">#</a> 3，数据类型</h3> <p>MySQL 支持多种类型，可以分为三类：</p> <ul><li>数值</li> <li>日期</li> <li>字符串</li></ul> <p>数值：</p> <ul><li>tinyint : 小整数型，占一个字节</li> <li>int： 大整数类型，占四个字节。eg： age int</li> <li>double ： 浮点类型，使用格式： 字段名 double(总长度, 小数点后保留的位数)。eg： score double(5, 2)</li></ul> <p>日期：</p> <ul><li>date：日期值。只包含年月日。eg：birthday date ：</li> <li>datetime ： 混合日期和时间值。包含年月日时分秒</li></ul> <p>字符串：</p> <ul><li>char：  定长字符串。优点：存储性能高。缺点：浪费空间。eg： name char(10)  如果存储的数据字符个数不足10个，也会占10个的空间</li> <li>varchar： 变长字符串。优点：节约空间。缺点：存储性能底。eg： name varchar(10) 如果存储的数据字符个数不足10个，那就数据字符个数是几就占几个的空间</li></ul> <p>参考如下：</p> <p><img src="/javablog/public/assets/img/1701938250809.4045a24a.png" alt="1701938250809"></p> <p>案例：</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>需求：设计一张学生表，请注重数据类型、长度的合理性
	1. 编号
	2. 姓名，姓名最长不超过10个汉字
	3. 性别，因为取值只有两种可能，因此最多一个汉字
	4. 生日，取值为年月日
	5. 入学成绩，小数点后保留两位
	6. 邮件地址，最大长度不超过 64
	7. 家庭联系电话，不一定是手机号码，可能会出现 - 等字符
	8. 学生状态（用数字表示，正常、休学、毕业...）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>语句设计：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>create table student (
	id int,
    name varchar(10),
    gender char(1),
    birthday date,
    score double(5,2),
    email varchar(15),
    tel varchar(15),
    status tinyint
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_4-删除表"><a href="#_4-删除表" class="header-anchor">#</a> 4，删除表</h3> <p>删除表：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>DROP TABLE 表名;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>删除表时判断是否存在：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>DROP TABLE IF EXISTS 表名;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>运行语句效果如下：</p> <h3 id="_5-修改表"><a href="#_5-修改表" class="header-anchor">#</a> 5，修改表</h3> <p>修改表名：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>ALTER TABLE 表名 RENAME TO 新的表名;

-- 将表名student修改为stu
alter table student rename to stu;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>添加一列：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>ALTER TABLE 表名 ADD 列名 数据类型;

-- 给stu表添加一列address，该字段类型是varchar(50)
alter table stu add address varchar(50);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>修改数据类型：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>ALTER TABLE 表名 MODIFY 列名 新数据类型;

-- 将stu表中的address字段的类型改为 char(50)
alter table stu modify address char(50);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>修改列名和数据类型：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>ALTER TABLE 表名 CHANGE 列名 新列名 新数据类型;

-- 将stu表中的address字段名改为 addr，类型改为varchar(50)
alter table stu change address addr varchar(50);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>删除列：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>ALTER TABLE 表名 DROP 列名;

-- 将stu表中的addr字段 删除
alter table stu drop addr;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="五-dml"><a href="#五-dml" class="header-anchor">#</a> 五，DML</h2> <p>DML主要是对数据进行增（insert）删（delete）改（update）操作。</p> <h3 id="_1-添加数据"><a href="#_1-添加数据" class="header-anchor">#</a> 1，添加数据</h3> <p>给指定列添加数据：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>INSERT INTO 表名(列名1,列名2,…) VALUES(值1,值2,…);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>给全部列添加数据：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>INSERT INTO 表名 VALUES(值1,值2,…);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>批量添加数据：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>INSERT INTO 表名(列名1,列名2,…) VALUES(值1,值2,…),(值1,值2,…),(值1,值2,…)…;
INSERT INTO 表名 VALUES(值1,值2,…),(值1,值2,…),(值1,值2,…)…;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>为了演示以下的增删改操作是否操作成功，故先将查询所有数据的语句介绍给大家：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>效果如下：</p> <p>操作如下：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>-- 给指定列添加数据
INSERT INTO stu (id, NAME) VALUES (1, '张三');
-- 给所有列添加数据，列名的列表可以省略的
INSERT INTO stu (id,NAME,sex,birthday,score,email,tel,STATUS) VALUES (2,'李四','男','1999-11-11',88.88,'lisi@qq.cn','13888888888',1);

INSERT INTO stu VALUES (2,'李四','男','1999-11-11',88.88,'lisi@itcast.cn','13888888888',1);

-- 批量添加数据
INSERT INTO stu VALUES 
	(2,'李四','男','1999-11-11',88.88,'lisi@qq.cn','13888888888',1),
	(2,'李四','男','1999-11-11',88.88,'lisi@qq.cn','13888888888',1),
	(2,'李四','男','1999-11-11',88.88,'lisi@qq.cn','13888888888',1);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_2-修改数据"><a href="#_2-修改数据" class="header-anchor">#</a> 2，修改数据</h3> <p>修改表数据：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>UPDATE 表名 SET 列名1=值1,列名2=值2,… [WHERE 条件] ;
-- 修改语句中如果不加条件，则将所有数据都修改！
-- 像上面的语句中的中括号，表示在写sql语句中可以省略这部分
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>将张三的性别改为女：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>update stu set sex = '女' where name = '张三';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将张三的生日改为 1999-12-12 分数改为99.99：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>update stu set birthday = '1999-12-12', score = 99.99 where name = '张三';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果update语句没有加where条件，则会将表中所有数据全部修改：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>update stu set sex = '女';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上面语句的执行完后查询到的结果是：</p> <h3 id="_3-删除数据"><a href="#_3-删除数据" class="header-anchor">#</a> 3，删除数据</h3> <p>删除数据：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>DELETE FROM 表名 [WHERE 条件] ;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>练习：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>-- 删除张三记录
delete from stu where name = '张三';

-- 删除stu表中所有的数据
delete from stu;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="六-dql-重点"><a href="#六-dql-重点" class="header-anchor">#</a> 六，DQL(重点)</h2> <h3 id="_1-基础查询"><a href="#_1-基础查询" class="header-anchor">#</a> 1，基础查询</h3> <p>查询的完整语法：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>SELECT 
    字段列表
FROM 
    表名列表 
WHERE 
    条件列表
GROUP BY
    分组字段
HAVING
    分组后条件
ORDER BY
    排序字段
LIMIT
    分页限定
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>为了给大家演示查询的语句，我们需要先准备表及一些数据：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>-- 删除stu表
drop table if exists stu;

-- 创建stu表
CREATE TABLE stu (
 id int, -- 编号
 name varchar(20), -- 姓名
 age int, -- 年龄
 sex varchar(5), -- 性别
 address varchar(100), -- 地址
 math double(5,2), -- 数学成绩
 english double(5,2), -- 英语成绩
 hire_date date -- 入学时间
);

-- 添加数据
INSERT INTO stu(id,NAME,age,sex,address,math,english,hire_date) 
VALUES 
(1,'马运',55,'男','杭州',66,78,'1995-09-01'),
(2,'马花疼',45,'女','深圳',98,87,'1998-09-01'),
(3,'马斯克',55,'男','香港',56,77,'1999-09-02'),
(4,'柳白',20,'女','湖南',76,65,'1997-09-05'),
(5,'柳青',20,'男','湖南',86,NULL,'1998-09-01'),
(6,'刘德花',57,'男','香港',99,99,'1998-09-01'),
(7,'张学右',22,'女','香港',99,99,'1998-09-01'),
(8,'德玛西亚',18,'男','南京',56,65,'1994-09-02');
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>查询多个字段语法格式：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>SELECT 字段列表 FROM 表名;
SELECT * FROM 表名; -- 查询所有数据
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>去除重复记录语法格式：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>SELECT DISTINCT 字段列表 FROM 表名;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>起别名语法格式：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>AS: AS 也可以省略
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询name、age两列：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select name,age from stu;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询所有列的数据，列名的列表可以使用*替代：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu;

-- 上面语句中的*不建议大家使用，因为在这写\*不方便我们阅读sql语句。我们写字段列表的话，可以添加注释对每一个字段进行说明。而在上课期间为了简约课程的时间，老师很多地方都会写*。

select 
	name, -- 姓名
	age  -- 年龄
from 
	stu;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>查询地址信息：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select address from stu;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>从上面的结果我们可以看到有重复的数据，我们也可以使用 <code>distinct</code> 关键字去重重复数据。去除重复记录：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select distinct address from stu;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询姓名、数学成绩、英语成绩。并通过as给math和english起别名（as关键字可以省略）：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select name,math as 数学成绩,english as 英文成绩 from stu;
select name,math 数学成绩,english 英文成绩 from stu;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2-条件查询"><a href="#_2-条件查询" class="header-anchor">#</a> 2，条件查询</h3> <p>条件查询语法：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>SELECT 字段列表 FROM 表名 WHERE 条件列表;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>条件列表可以使用以下运算符：</p> <p><img src="/javablog/public/assets/img/1701939335295.aec83548.png" alt="1701939335295"></p> <p>查询年龄大于20岁的学员信息：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu where age &gt; 20;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询年龄大于等于20岁的学员信息：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu where age &gt;= 20;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询年龄大于等于20岁 并且 年龄 小于等于 30岁 的学员信息：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu where age &gt;= 20 &amp;&amp;  age &lt;= 30;
select * from stu where age &gt;= 20 and  age &lt;= 30;

-- 上面语句中 &amp;&amp;  和  and  都表示并且的意思。建议使用 and 。
-- 也可以使用  between ... and 来实现上面需求

select * from stu where age BETWEEN 20 and 30;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>查询入学日期在'1998-09-01' 到 '1999-09-01'  之间的学员信息：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu where hire_date BETWEEN '1998-09-01' and '1999-09-01';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询年龄等于18岁的学员信息：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu where age = 18;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询年龄不等于18岁的学员信息：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu where age != 18;
select * from stu where age &lt;&gt; 18;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>查询年龄等于18岁 或者 年龄等于20岁 或者 年龄等于22岁的学员信息：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu where age = 18 or age = 20 or age = 22;
select * from stu where age in (18,20 ,22);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>查询英语成绩为 null的学员信息：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu where english = null; -- 这个语句是不行的
select * from stu where english is null;
select * from stu where english is not null;

-- null值的比较不能使用 =  或者 != 。需要使用 is  或者 is not
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>模糊查询使用like关键字，可以使用通配符进行占位:</p> <ul><li>_ : 代表单个任意字符</li> <li>% : 代表任意个数字符</li></ul> <p>查询姓'马'的学员信息：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu where name like '马%';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询第二个字是'花'的学员信息：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu where name like '_花%';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询名字中包含 '德' 的学员信息：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu where name like '%德%';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_3-排序查询"><a href="#_3-排序查询" class="header-anchor">#</a> 3，排序查询</h3> <p>语法：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>SELECT 字段列表 FROM 表名 ORDER BY 排序字段名1 [排序方式1],排序字段名2 [排序方式2] …;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>上述语句中的排序方式有两种，分别是：</p> <ul><li>ASC ： 升序排列 （默认值）</li> <li>DESC ： 降序排列</li> <li>如果有多个排序条件，当前边的条件值一样时，才会根据第二条件进行排序</li></ul> <p>查询学生信息，按照年龄升序排列 ：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu order by age ;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询学生信息，按照数学成绩降序排列：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu order by math desc ;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询学生信息，按照数学成绩降序排列，如果数学成绩一样，再按照英语成绩升序排列：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu order by math desc , english asc ;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_4-聚合函数"><a href="#_4-聚合函数" class="header-anchor">#</a> 4，聚合函数</h3> <p>将一列数据作为一个整体，进行纵向计算。假设有如下表</p> <p><img src="/javablog/public/assets/img/1701939675962.fa7b245f.png" alt="1701939675962"></p> <p>现有一需求让我们求表中所有数据的数学成绩的总和。这就是对math字段进行纵向求和。聚合函数分类：</p> <table><thead><tr><th>函数名</th> <th>功能</th></tr></thead> <tbody><tr><td>count(列名)</td> <td>统计数量（一般选用不为null的列）</td></tr> <tr><td>max(列名)</td> <td>最大值</td></tr> <tr><td>min(列名)</td> <td>最小值</td></tr> <tr><td>sum(列名)</td> <td>求和</td></tr> <tr><td>avg(列名)</td> <td>平均值</td></tr></tbody></table> <p>语法：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>SELECT 聚合函数名(列名) FROM 表; -- null 值不参与所有聚合函数运算
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>统计班级一共有多少个学生：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select count(id) from stu;
select count(english) from stu;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>上面语句根据某个字段进行统计，如果该字段某一行的值为null的话，将不会被统计。所以可以在count(*) 来实现。* 表示所有字段数据，一行中也不可能所有的数据都为null，所以建议使用 count(*)：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select count(*) from stu;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询数学成绩的最高分：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select max(math) from stu;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询数学成绩的最低分：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select min(math) from stu;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询数学成绩的总分：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select sum(math) from stu;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询数学成绩的平均分：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select avg(math) from stu;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询英语成绩的最低分：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select min(english) from stu;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_5-分组查询"><a href="#_5-分组查询" class="header-anchor">#</a> 5，分组查询</h3> <p>语法：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>SELECT 字段列表 FROM 表名 [WHERE 分组前条件限定] GROUP BY 分组字段名 [HAVING 分组后条件过滤];
--  分组之后，查询的字段为聚合函数和分组字段，查询其他字段无任何意义
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>查询男同学和女同学各自的数学平均分：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select sex, avg(math) from stu group by sex;

-- 分组之后，查询的字段为聚合函数和分组字段，查询其他字段无任何意义
select name, sex, avg(math) from stu group by sex;  -- 这里查询name字段就没有任何意义
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>查询男同学和女同学各自的数学平均分，以及各自人数：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select sex, avg(math),count(*) from stu group by sex;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询男同学和女同学各自的数学平均分，以及各自人数，要求：分数低于70分的不参与分组：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select sex, avg(math),count(*) from stu where math &gt; 70 group by sex;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询男同学和女同学各自的数学平均分，以及各自人数，要求：分数低于70分的不参与分组，分组之后人数大于2个的：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select sex, avg(math),count(*) from stu where math &gt; 70 group by sex having count(*)  &gt; 2;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>where 和 having 区别：</p> <ul><li>执行时机不一样：where 是分组之前进行限定，不满足where条件，则不参与分组，而having是分组之后对结果进行过滤。</li> <li>可判断的条件不一样：where 不能对聚合函数进行判断，having 可以。</li></ul> <h3 id="_6-分页查询"><a href="#_6-分页查询" class="header-anchor">#</a> 6，分页查询</h3> <p>语法：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>SELECT 字段列表 FROM 表名 LIMIT  起始索引 , 查询条目数;

-- 上述语句中的起始索引是从0开始
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>从0开始查询，查询3条数据：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu limit 0 , 3;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>每页显示3条数据，查询第1页数据：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu limit 0 , 3;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>每页显示3条数据，查询第2页数据：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu limit 3 , 3;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>每页显示3条数据，查询第3页数据：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select * from stu limit 6 , 3;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>从上面的练习推导出起始索引计算公式：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>起始索引 = (当前页码 - 1) * 每页显示的条数
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">12/7/2023, 11:43:37 AM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-7115df4a data-v-1c636796><li class="level-2" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#一-数据库相关概念" class="sidebar-link reco-side-一-数据库相关概念" data-v-7115df4a>一，数据库相关概念</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_1-数据库的管理系统" class="sidebar-link reco-side-_1-数据库的管理系统" data-v-7115df4a>1，数据库的管理系统</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_2-什么是sql" class="sidebar-link reco-side-_2-什么是sql" data-v-7115df4a>2，什么是SQL</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_3-mysql的安装" class="sidebar-link reco-side-_3-mysql的安装" data-v-7115df4a>3，MySQL的安装</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_4-sqlyog安装" class="sidebar-link reco-side-_4-sqlyog安装" data-v-7115df4a>4，SQLyog安装</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_5-mysql的数据模型" class="sidebar-link reco-side-_5-mysql的数据模型" data-v-7115df4a>5，MySQL的数据模型</a></li><li class="level-2" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#二-sql概述" class="sidebar-link reco-side-二-sql概述" data-v-7115df4a>二，SQL概述</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_1-sql的通用语法" class="sidebar-link reco-side-_1-sql的通用语法" data-v-7115df4a>1，SQL的通用语法</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_2-sql分类" class="sidebar-link reco-side-_2-sql分类" data-v-7115df4a>2，SQL分类</a></li><li class="level-2" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#三-ddl操作数据库" class="sidebar-link reco-side-三-ddl操作数据库" data-v-7115df4a>三，DDL操作数据库</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_1-查询" class="sidebar-link reco-side-_1-查询" data-v-7115df4a>1，查询</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_2-创建数据库" class="sidebar-link reco-side-_2-创建数据库" data-v-7115df4a>2，创建数据库</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_3-删除数据库" class="sidebar-link reco-side-_3-删除数据库" data-v-7115df4a>3，删除数据库</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_4-使用数据库" class="sidebar-link reco-side-_4-使用数据库" data-v-7115df4a>4，使用数据库</a></li><li class="level-2" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#四-ddl操作表" class="sidebar-link reco-side-四-ddl操作表" data-v-7115df4a>四，DDL操作表</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_1-查询表" class="sidebar-link reco-side-_1-查询表" data-v-7115df4a>1，查询表</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_2-创建表" class="sidebar-link reco-side-_2-创建表" data-v-7115df4a>2，创建表</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_3-数据类型" class="sidebar-link reco-side-_3-数据类型" data-v-7115df4a>3，数据类型</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_4-删除表" class="sidebar-link reco-side-_4-删除表" data-v-7115df4a>4，删除表</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_5-修改表" class="sidebar-link reco-side-_5-修改表" data-v-7115df4a>5，修改表</a></li><li class="level-2" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#五-dml" class="sidebar-link reco-side-五-dml" data-v-7115df4a>五，DML</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_1-添加数据" class="sidebar-link reco-side-_1-添加数据" data-v-7115df4a>1，添加数据</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_2-修改数据" class="sidebar-link reco-side-_2-修改数据" data-v-7115df4a>2，修改数据</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_3-删除数据" class="sidebar-link reco-side-_3-删除数据" data-v-7115df4a>3，删除数据</a></li><li class="level-2" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#六-dql-重点" class="sidebar-link reco-side-六-dql-重点" data-v-7115df4a>六，DQL(重点)</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_1-基础查询" class="sidebar-link reco-side-_1-基础查询" data-v-7115df4a>1，基础查询</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_2-条件查询" class="sidebar-link reco-side-_2-条件查询" data-v-7115df4a>2，条件查询</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_3-排序查询" class="sidebar-link reco-side-_3-排序查询" data-v-7115df4a>3，排序查询</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_4-聚合函数" class="sidebar-link reco-side-_4-聚合函数" data-v-7115df4a>4，聚合函数</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_5-分组查询" class="sidebar-link reco-side-_5-分组查询" data-v-7115df4a>5，分组查询</a></li><li class="level-3" data-v-7115df4a><a href="/javablog/public/blogs/javaweb/01.html#_6-分页查询" class="sidebar-link reco-side-_6-分页查询" data-v-7115df4a>6，分页查询</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-65133105 data-v-65133105><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-65133105><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-65133105></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-65133105></path></svg></div></div></div>
    <script src="/javablog/public/assets/js/app.c0a5f9ce.js" defer></script><script src="/javablog/public/assets/js/18.c0914709.js" defer></script><script src="/javablog/public/assets/js/1.4a2aebf2.js" defer></script><script src="/javablog/public/assets/js/31.fe9f4c8c.js" defer></script>
  </body>
</html>
