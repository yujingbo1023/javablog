<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>07-文件操作 | 码路全栈开发</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/javablog/public/favicon.ico">
    <meta name="description" content="快来玩java全栈呀">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/javablog/public/assets/css/0.styles.0bd56f36.css" as="style"><link rel="preload" href="/javablog/public/assets/js/app.b7480007.js" as="script"><link rel="preload" href="/javablog/public/assets/js/75.a861ceaf.js" as="script"><link rel="preload" href="/javablog/public/assets/js/1.b28b6208.js" as="script"><link rel="preload" href="/javablog/public/assets/js/114.61e1f7ca.js" as="script"><link rel="prefetch" href="/javablog/public/assets/js/10.32cd2226.js"><link rel="prefetch" href="/javablog/public/assets/js/100.c051942c.js"><link rel="prefetch" href="/javablog/public/assets/js/101.cad3f505.js"><link rel="prefetch" href="/javablog/public/assets/js/102.6d66e361.js"><link rel="prefetch" href="/javablog/public/assets/js/103.438f2fc6.js"><link rel="prefetch" href="/javablog/public/assets/js/104.b730e0ce.js"><link rel="prefetch" href="/javablog/public/assets/js/105.2e695059.js"><link rel="prefetch" href="/javablog/public/assets/js/106.3511363b.js"><link rel="prefetch" href="/javablog/public/assets/js/107.306198e7.js"><link rel="prefetch" href="/javablog/public/assets/js/108.32a2c951.js"><link rel="prefetch" href="/javablog/public/assets/js/109.7df95d19.js"><link rel="prefetch" href="/javablog/public/assets/js/11.5222729e.js"><link rel="prefetch" href="/javablog/public/assets/js/110.d645d26f.js"><link rel="prefetch" href="/javablog/public/assets/js/111.7d8a9c60.js"><link rel="prefetch" href="/javablog/public/assets/js/112.bcac125b.js"><link rel="prefetch" href="/javablog/public/assets/js/113.39479051.js"><link rel="prefetch" href="/javablog/public/assets/js/115.d83a0a30.js"><link rel="prefetch" href="/javablog/public/assets/js/116.a2523c02.js"><link rel="prefetch" href="/javablog/public/assets/js/117.8a79bb5c.js"><link rel="prefetch" href="/javablog/public/assets/js/118.49d1d9e7.js"><link rel="prefetch" href="/javablog/public/assets/js/119.7f89070a.js"><link rel="prefetch" href="/javablog/public/assets/js/12.5c6d53c0.js"><link rel="prefetch" href="/javablog/public/assets/js/120.7153af84.js"><link rel="prefetch" href="/javablog/public/assets/js/121.5d7e5689.js"><link rel="prefetch" href="/javablog/public/assets/js/122.c54f03a4.js"><link rel="prefetch" href="/javablog/public/assets/js/123.f04ebf66.js"><link rel="prefetch" href="/javablog/public/assets/js/124.ba4032f0.js"><link rel="prefetch" href="/javablog/public/assets/js/125.eeb5dd5b.js"><link rel="prefetch" href="/javablog/public/assets/js/126.73387be6.js"><link rel="prefetch" href="/javablog/public/assets/js/127.adaaad74.js"><link rel="prefetch" href="/javablog/public/assets/js/128.22359a4b.js"><link rel="prefetch" href="/javablog/public/assets/js/129.08b30abb.js"><link rel="prefetch" href="/javablog/public/assets/js/13.4813518f.js"><link rel="prefetch" href="/javablog/public/assets/js/130.230be6e6.js"><link rel="prefetch" href="/javablog/public/assets/js/131.242a7087.js"><link rel="prefetch" href="/javablog/public/assets/js/132.d8033d81.js"><link rel="prefetch" href="/javablog/public/assets/js/133.9654962e.js"><link rel="prefetch" href="/javablog/public/assets/js/134.793b4d82.js"><link rel="prefetch" href="/javablog/public/assets/js/135.4a655bdf.js"><link rel="prefetch" href="/javablog/public/assets/js/136.bca9f200.js"><link rel="prefetch" href="/javablog/public/assets/js/137.dd413d10.js"><link rel="prefetch" href="/javablog/public/assets/js/138.ebccdcdc.js"><link rel="prefetch" href="/javablog/public/assets/js/139.cf650beb.js"><link rel="prefetch" href="/javablog/public/assets/js/14.1cdfcd23.js"><link rel="prefetch" href="/javablog/public/assets/js/140.4e0f6435.js"><link rel="prefetch" href="/javablog/public/assets/js/141.f0eed78d.js"><link rel="prefetch" href="/javablog/public/assets/js/142.ba9b6b24.js"><link rel="prefetch" href="/javablog/public/assets/js/143.bdeea8e4.js"><link rel="prefetch" href="/javablog/public/assets/js/144.a2a7abea.js"><link rel="prefetch" href="/javablog/public/assets/js/145.ef2e9f62.js"><link rel="prefetch" href="/javablog/public/assets/js/146.0df97154.js"><link rel="prefetch" href="/javablog/public/assets/js/15.a77f9284.js"><link rel="prefetch" href="/javablog/public/assets/js/16.6620bcb0.js"><link rel="prefetch" href="/javablog/public/assets/js/17.e616cfcb.js"><link rel="prefetch" href="/javablog/public/assets/js/18.c3a65b44.js"><link rel="prefetch" href="/javablog/public/assets/js/19.602811e5.js"><link rel="prefetch" href="/javablog/public/assets/js/20.c5321a28.js"><link rel="prefetch" href="/javablog/public/assets/js/21.8dc486d4.js"><link rel="prefetch" href="/javablog/public/assets/js/22.2bdda729.js"><link rel="prefetch" href="/javablog/public/assets/js/23.5048aca6.js"><link rel="prefetch" href="/javablog/public/assets/js/24.428c9623.js"><link rel="prefetch" href="/javablog/public/assets/js/25.6a06ef4f.js"><link rel="prefetch" href="/javablog/public/assets/js/26.6f247018.js"><link rel="prefetch" href="/javablog/public/assets/js/27.1365a8b5.js"><link rel="prefetch" href="/javablog/public/assets/js/28.17c27fd7.js"><link rel="prefetch" href="/javablog/public/assets/js/29.042bc43a.js"><link rel="prefetch" href="/javablog/public/assets/js/3.7e00e87e.js"><link rel="prefetch" href="/javablog/public/assets/js/30.83d18a0d.js"><link rel="prefetch" href="/javablog/public/assets/js/31.5042d854.js"><link rel="prefetch" href="/javablog/public/assets/js/32.babbaa1d.js"><link rel="prefetch" href="/javablog/public/assets/js/33.fc5001ae.js"><link rel="prefetch" href="/javablog/public/assets/js/34.7566dd0e.js"><link rel="prefetch" href="/javablog/public/assets/js/35.42db6c5d.js"><link rel="prefetch" href="/javablog/public/assets/js/36.54088f9b.js"><link rel="prefetch" href="/javablog/public/assets/js/37.4dc388d7.js"><link rel="prefetch" href="/javablog/public/assets/js/38.29532f24.js"><link rel="prefetch" href="/javablog/public/assets/js/39.7cba715a.js"><link rel="prefetch" href="/javablog/public/assets/js/4.1e558351.js"><link rel="prefetch" href="/javablog/public/assets/js/40.0cf17517.js"><link rel="prefetch" href="/javablog/public/assets/js/41.6e7b2122.js"><link rel="prefetch" href="/javablog/public/assets/js/42.64036213.js"><link rel="prefetch" href="/javablog/public/assets/js/43.cf81960e.js"><link rel="prefetch" href="/javablog/public/assets/js/44.6746d334.js"><link rel="prefetch" href="/javablog/public/assets/js/45.fa1fb627.js"><link rel="prefetch" href="/javablog/public/assets/js/46.282bbdd8.js"><link rel="prefetch" href="/javablog/public/assets/js/47.7a185c69.js"><link rel="prefetch" href="/javablog/public/assets/js/48.c8cab667.js"><link rel="prefetch" href="/javablog/public/assets/js/49.0fbb6da2.js"><link rel="prefetch" href="/javablog/public/assets/js/5.acef894e.js"><link rel="prefetch" href="/javablog/public/assets/js/50.6a12b203.js"><link rel="prefetch" href="/javablog/public/assets/js/51.8bae920d.js"><link rel="prefetch" href="/javablog/public/assets/js/52.d8eff9e7.js"><link rel="prefetch" href="/javablog/public/assets/js/53.d4aa582c.js"><link rel="prefetch" href="/javablog/public/assets/js/54.c8fedf59.js"><link rel="prefetch" href="/javablog/public/assets/js/55.acacbb12.js"><link rel="prefetch" href="/javablog/public/assets/js/56.ce0c179a.js"><link rel="prefetch" href="/javablog/public/assets/js/57.25e70d69.js"><link rel="prefetch" href="/javablog/public/assets/js/58.7794b39c.js"><link rel="prefetch" href="/javablog/public/assets/js/59.f42e0d25.js"><link rel="prefetch" href="/javablog/public/assets/js/6.641d2db4.js"><link rel="prefetch" href="/javablog/public/assets/js/60.2d0842a1.js"><link rel="prefetch" href="/javablog/public/assets/js/61.1921b9ee.js"><link rel="prefetch" href="/javablog/public/assets/js/62.c1626346.js"><link rel="prefetch" href="/javablog/public/assets/js/63.8e3bf9af.js"><link rel="prefetch" href="/javablog/public/assets/js/64.959867dd.js"><link rel="prefetch" href="/javablog/public/assets/js/65.93031999.js"><link rel="prefetch" href="/javablog/public/assets/js/66.d7a72d98.js"><link rel="prefetch" href="/javablog/public/assets/js/67.1919eec8.js"><link rel="prefetch" href="/javablog/public/assets/js/68.42aae16e.js"><link rel="prefetch" href="/javablog/public/assets/js/69.847599d2.js"><link rel="prefetch" href="/javablog/public/assets/js/7.6747b0e6.js"><link rel="prefetch" href="/javablog/public/assets/js/70.19096e50.js"><link rel="prefetch" href="/javablog/public/assets/js/71.44143b8e.js"><link rel="prefetch" href="/javablog/public/assets/js/72.d99cdba3.js"><link rel="prefetch" href="/javablog/public/assets/js/73.b0019bc8.js"><link rel="prefetch" href="/javablog/public/assets/js/74.0681d04e.js"><link rel="prefetch" href="/javablog/public/assets/js/76.d488fcad.js"><link rel="prefetch" href="/javablog/public/assets/js/77.91689bc7.js"><link rel="prefetch" href="/javablog/public/assets/js/78.8382df01.js"><link rel="prefetch" href="/javablog/public/assets/js/79.ca25ca88.js"><link rel="prefetch" href="/javablog/public/assets/js/8.97226ae6.js"><link rel="prefetch" href="/javablog/public/assets/js/80.aad6c557.js"><link rel="prefetch" href="/javablog/public/assets/js/81.a30be456.js"><link rel="prefetch" href="/javablog/public/assets/js/82.2092d7ac.js"><link rel="prefetch" href="/javablog/public/assets/js/83.fcbae60b.js"><link rel="prefetch" href="/javablog/public/assets/js/84.73fb3222.js"><link rel="prefetch" href="/javablog/public/assets/js/85.42e92e28.js"><link rel="prefetch" href="/javablog/public/assets/js/86.a84cef19.js"><link rel="prefetch" href="/javablog/public/assets/js/87.47d13b24.js"><link rel="prefetch" href="/javablog/public/assets/js/88.3d2dd048.js"><link rel="prefetch" href="/javablog/public/assets/js/89.4ca66155.js"><link rel="prefetch" href="/javablog/public/assets/js/9.49b0fa94.js"><link rel="prefetch" href="/javablog/public/assets/js/90.aaff7e46.js"><link rel="prefetch" href="/javablog/public/assets/js/91.d69c45e9.js"><link rel="prefetch" href="/javablog/public/assets/js/92.a0598ed4.js"><link rel="prefetch" href="/javablog/public/assets/js/93.bc571f01.js"><link rel="prefetch" href="/javablog/public/assets/js/94.c76c641b.js"><link rel="prefetch" href="/javablog/public/assets/js/95.c9031816.js"><link rel="prefetch" href="/javablog/public/assets/js/96.d30f0893.js"><link rel="prefetch" href="/javablog/public/assets/js/97.f3e69f1c.js"><link rel="prefetch" href="/javablog/public/assets/js/98.35b3cf22.js"><link rel="prefetch" href="/javablog/public/assets/js/99.27fc0e2d.js">
    <link rel="stylesheet" href="/javablog/public/assets/css/0.styles.0bd56f36.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>码路全栈开发</h3> <p class="description" data-v-59e6cb88>快来玩java全栈呀</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>码路</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2024
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/javablog/public/" class="home-link router-link-active"><img src="/javablog/public/logo.png" alt="码路全栈开发" class="logo"> <span class="site-name">码路全栈开发</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/javablog/public/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      全栈开发
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javablog/public/categories/base/" class="nav-link"><i class="undefined"></i>
  base
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/HarmonyOS/" class="nav-link"><i class="undefined"></i>
  HarmonyOS
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/data analysis/" class="nav-link"><i class="undefined"></i>
  data analysis
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/每日一题/" class="nav-link"><i class="undefined"></i>
  每日一题
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/javabase/" class="nav-link"><i class="undefined"></i>
  javabase
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/javaweb/" class="nav-link"><i class="undefined"></i>
  javaweb
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/pybase/" class="nav-link"><i class="undefined"></i>
  pybase
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/node/" class="nav-link"><i class="undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/spider/" class="nav-link"><i class="undefined"></i>
  spider
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/springcloud/" class="nav-link"><i class="undefined"></i>
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/springcloudalibaba/" class="nav-link"><i class="undefined"></i>
  springcloudalibaba
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/ssm/" class="nav-link"><i class="undefined"></i>
  ssm
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/zhifu/" class="nav-link"><i class="undefined"></i>
  zhifu
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/storage/" class="nav-link"><i class="undefined"></i>
  storage
</a></li></ul></div></div><div class="nav-item"><a href="/javablog/public/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/javablog/public/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javablog/public/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  vuepress-reco
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/javablog/public/avatar.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    码路
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>136</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>42</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/javablog/public/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      全栈开发
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javablog/public/categories/base/" class="nav-link"><i class="undefined"></i>
  base
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/HarmonyOS/" class="nav-link"><i class="undefined"></i>
  HarmonyOS
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/data analysis/" class="nav-link"><i class="undefined"></i>
  data analysis
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/每日一题/" class="nav-link"><i class="undefined"></i>
  每日一题
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/javabase/" class="nav-link"><i class="undefined"></i>
  javabase
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/javaweb/" class="nav-link"><i class="undefined"></i>
  javaweb
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/pybase/" class="nav-link"><i class="undefined"></i>
  pybase
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/node/" class="nav-link"><i class="undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/spider/" class="nav-link"><i class="undefined"></i>
  spider
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/springcloud/" class="nav-link"><i class="undefined"></i>
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/springcloudalibaba/" class="nav-link"><i class="undefined"></i>
  springcloudalibaba
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/ssm/" class="nav-link"><i class="undefined"></i>
  ssm
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/zhifu/" class="nav-link"><i class="undefined"></i>
  zhifu
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/storage/" class="nav-link"><i class="undefined"></i>
  storage
</a></li></ul></div></div><div class="nav-item"><a href="/javablog/public/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/javablog/public/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javablog/public/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  vuepress-reco
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>07-文件操作</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>码路</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2024
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">07-文件操作</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>码路</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>12/15/2028</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>python基础</span></i></div></div> <div class="theme-reco-content content__default"><h3 id="_1-写入文件"><a href="#_1-写入文件" class="header-anchor">#</a> 1，写入文件</h3> <p><img src="/javablog/public/assets/img/1718771105069.a92346f6.png" alt="1718771105069"></p> <p>一个完整的程序一般都包括数据的存储和读取；我们在前面写的程序数据都没有进行实际的存储，因此python解释器执行完数据就消失了。实际开发中，我们经常需要从外部存储介质（硬盘、光盘、U盘等）读取数据，或者将程序产生的数据存储到文件中，实现“持久化”保存。</p> <p><strong>文本文件和二进制文件：</strong></p> <ol><li>文本文件：文本文件存储的是普通“字符”文本，python默认为<code>unicode</code>字符集（两个字节表示一个字符，最多可以表示：65536个），可以使用记事本程序打开。</li> <li>二进制文件：二进制文件把数据内容用“字节”进行存储，无法用记事本打开。必须使用专用的软件解码。常见的有：MP4视频文件、MP3音频文件、JPG图片、doc文档等等。</li></ol> <p><img src="/javablog/public/assets/img/1718771177124.eb65913a.png" alt="1718771177124"></p> <p>Python标准库中，如下是文件操作相关的模块，我们会陆续给大家介绍。</p> <table><thead><tr><th>名称</th> <th>说明</th></tr></thead> <tbody><tr><td>io模块</td> <td>文件流的输入和输出操作 input output</td></tr> <tr><td>os模块</td> <td>基本操作系统功能，包括文件操作</td></tr> <tr><td>glob模块</td> <td>查找符合特定规则的文件路径名</td></tr> <tr><td>fnmatch模块</td> <td>使用模式来匹配文件路径名</td></tr> <tr><td>fileinput模块</td> <td>处理多个输入文件</td></tr> <tr><td>filecmp模块</td> <td>用于文件的比较</td></tr> <tr><td>csv模块</td> <td>用于csv文件处理</td></tr> <tr><td>pickle和cPickle</td> <td>用于序列化和反序列化</td></tr> <tr><td>xml包</td> <td>用于XML数据处理</td></tr> <tr><td>bz2、gzip、zipfile、zlib、tarfile</td> <td>用于处理压缩和解压缩文件（分别对应不同的算法）</td></tr></tbody></table> <p><strong>创建文件对象open()：</strong><code>open()</code>函数用于创建文件对象，基本语法格式如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token builtin">open</span><span class="token punctuation">(</span>文件名<span class="token punctuation">[</span><span class="token punctuation">,</span>打开方式<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果只是文件名，代表在当前目录下的文件。文件名可以录入全路径，比如：<code>D:\a\b.txt</code>。为了减少<code>\</code>的输入，可以使用原始字符串：<code>r“d:\b.txt”</code>示例如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;d:\b.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>打开方式有如下几种：</p> <table><thead><tr><th>模式</th> <th>描述</th></tr></thead> <tbody><tr><td>r</td> <td>读 read模式</td></tr> <tr><td>w</td> <td>写 write模式。如果文件不存在则创建；如果文件存在，则重写新内容；</td></tr> <tr><td>a</td> <td>追加append模式。如果文件不存在则创建；如果文件存在，则在文件末尾追加内容</td></tr> <tr><td>b</td> <td>二进制binary模式（可与其他模式组合使用）</td></tr> <tr><td>+</td> <td>读、写模式（可与其他模式组合使用）</td></tr></tbody></table> <p>文本文件对象和二进制文件对象的创建：</p> <ol><li>如果没有增加模式<code>b</code>，则默认创建的是文本文件对象，处理的基本单元是“字符”。</li> <li>如果是二进制模式<code>b</code>，则创建的是二进制文件对象，处理的基本单元是“字节”。</li></ol> <p>文本文件的写入一般就是三个步骤：</p> <ol><li>创建文件对象</li> <li>写入数据</li> <li>关闭文件对象</li></ol> <p>代码：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment">#  要么写\\  要么写/</span>
<span class="token comment"># f = open(&quot;d:/1.txt&quot;,&quot;w&quot;)</span>
<span class="token comment"># f = open(&quot;d:\\1.txt&quot;,&quot;w&quot;)</span>
<span class="token comment"># r&quot;d:/a/b/c/1.txt&quot;</span>
<span class="token comment"># r&quot;d:\a\b\c\1.txt&quot;</span>
<span class="token comment"># f = open(r&quot;d:\1.txt&quot;,&quot;w&quot;)</span>
f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;d:/1.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">)</span>
s <span class="token operator">=</span> <span class="token string">&quot;hello malu333&quot;</span>
f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>或者使用with上下文管理：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;a.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
  s <span class="token operator">=</span> <span class="token string">&quot;malu\nityls\n&quot;</span>
  f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_2-中文乱码解决"><a href="#_2-中文乱码解决" class="header-anchor">#</a> 2，中文乱码解决</h3> <p>在操作文本文件时，经常会操作中文，这时候就经常会碰到乱码问题。为了让大家有能力解决中文乱码问题，这里简单介绍一下各种编码之间的关系。</p> <p>常用编码之间的关系如下：</p> <p><img src="/javablog/public/assets/img/1718771545759.dec243b8.png" alt="1718771545759"></p> <p><strong>ASCII</strong></p> <p>全称为<code>American Standard Code for Information Interchange</code>，美国信息交换标准代码，这是世界上最早最通用的单字节编码系统，主要用来显示现代英语及其他西欧语言。</p> <p><code>ASCII</code>码用7位表示，只能表示128个字符。只定义了27=128个字符，用7bit即可完全编码，而一字节8bit的容量是256，所以一字节<code>ASCII</code>的编码最高位总是0。</p> <p>0～31表示控制字符如回车、退格、删除等；32～126表示打印字符即可以通过键盘输入并且能显示出来的字符； 其中48～57为0到9十个阿拉伯数字，65～90为26个大写英文字母，97～122号为26个小写英文字母，其余为一些标点符号、运算符号等，具体可以参考<code>ASCII</code>标准表（大家自行百度，不在此赘述）。</p> <p><strong>ISO8859-1</strong></p> <p><code>ISO-8859-1</code>又称<code>Latin-1</code>，是一个8位单字节字符集，它把<code>ASCII</code>的最高位也利用起来，并兼容了<code>ASCII</code>，新增的空间是128，但它并没有完全用完。</p> <p>在<code>ASCII</code>编码之上又增加了西欧语言、希腊语、泰语、阿拉伯语、希伯来语对应的文字符号，它是向下兼容<code>ASCII</code>编码</p> <p><strong>GB2312</strong></p> <p><code>GB2312</code>全称为信息交换用汉字编码字符集，是中国于1980年发布，主要用于计算机系统中的汉字处理。<code>GB2312</code>主要收录了6763个汉字、682个符号。</p> <p><code>GB2312</code>覆盖了汉字的大部分使用率，但不能处理像古汉语等特殊的罕用字，所以后来出现了像<code>GBK</code>、<code>GB18030</code>这种编码。GB2312<code>完全兼容</code>ISO8859-1</p> <p><strong>GBK</strong></p> <p>全称为<code>Chinese Internal Code Specification</code>，即汉字内码扩展规范，于1995年制定。它主要是扩展了<code>GB2312</code>，在它的基础上又加了更多的汉字，它一共收录了21003个汉字</p> <p><strong>GB18030</strong></p> <p>现在最新的内码字集于2000年发布，并于2001年强制执行，包含了中国大部分少数民族的语言字符，收录汉字数超过70000余个。</p> <p>它主要采用单字节、双字节、四字节对字符编码，它是向下兼容<code>GB2312</code>和<code>GBK</code>的，虽然是我国的强制使用标准，但在实际生产中很少用到，用得最多的反而是<code>GBK</code>和<code>GB2312</code></p> <p><strong>Unicode</strong></p> <p><code>Unicode</code>编码设计成了固定两个字节，所有的字符都用16位(2^16=65536)表示，包括之前只占8位的英文字符等，所以会造成空间的浪费，<code>UNICODE</code>在很长的一段时间内都没有得到推广应用。</p> <p><code>Unicode</code>完全重新设计，不兼容<code>iso8859-1</code>，也不兼容任何其他编码。</p> <p><strong>UTF-8</strong></p> <p>对于英文字母，<code>unicode</code>也需要两个字节来表示。所以<code>unicode</code>不便于传输和存储。因此而产生了<code>UTF编码</code>，<code>UTF-8</code>全称是（<code>8-bit Unicode Transformation Format</code>）。</p> <p><code>UTF</code>编码兼容<code>iso8859-1</code>编码，同时也可以用来表示所有语言的字符，不过，<code>UTF</code>编码是不定长编码，每一个字符的长度从1-4个字节不等。其中，英文字母都是用一个字节表示，而汉字使用三个字节。</p> <p><strong>中文乱码问题：</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>windows`操作系统默认的编码是`GBK`，`Linux`操作系统默认的编码是`UTF-8`。当我们用`open()`时，调用的是操作系统打开的文件，默认的编码是`GBK
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>测试中文乱码：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment">#测试写入中文</span>
f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;b.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">)</span>
f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;码路\n于老师\n&quot;</span><span class="token punctuation">)</span>
f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>运行结果（<code>Linux</code>环境中不存在这个问题）:</p> <p><img src="assets/1719992150453.png" alt="1719992150453"></p> <p>通过指定文件编码解决中文乱码问题</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment">#测试写入中文</span>
f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;b.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span>
f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;码路\n于老师\n&quot;</span><span class="token punctuation">)</span>
f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>write()/writelines()写入数据:</strong></p> <ul><li><p><code>write(a)</code>：把字符串<code>a</code>写入到文件中</p></li> <li><p><code>writelines(b)</code>：把字符串列表写入文件中，不添加换行符</p></li></ul> <p>代码：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;d:\bb.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span>
s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;张三\n&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;李四\n&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;王五\n&quot;</span><span class="token punctuation">]</span>
f<span class="token punctuation">.</span>writelines<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_3-关闭文件流"><a href="#_3-关闭文件流" class="header-anchor">#</a> 3，关闭文件流</h3> <p><img src="/javablog/public/assets/img/1718771990195.314d2b4a.png" alt="1718771990195"></p> <p>由于文件底层是由操作系统控制，所以我们打开的文件对象必须显式调用<code>close()</code>方法关闭文件对象。当调用<code>close()</code>方法时，首先会把缓冲区数据写入文件(也可以直接调用<code>flush()</code>方法)，再关闭文件，释放文件对象。</p> <p>为了确保打开的文件对象正常关闭，一般结合异常机制的<code>finally</code>或者<code>with</code>关键字实现无论何种情况都能关闭打开的文件对象。</p> <p>结合异常机制的<code>finally</code>，确保关闭文件对象：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 错误  异常</span>

<span class="token comment"># print(&quot;start...&quot;)</span>
<span class="token comment"># # 异常下面的代码是不会执行的</span>
<span class="token comment"># 1/0</span>
<span class="token comment"># print(&quot;end...&quot;)</span>

<span class="token comment"># 处理异常</span>
<span class="token comment"># print(&quot;start...&quot;)</span>
<span class="token comment"># try:</span>
<span class="token comment"># 	1/0</span>
<span class="token comment"># except BaseException as e:</span>
<span class="token comment"># 	print(e) # division by zero</span>
<span class="token comment"># print(&quot;end...&quot;)</span>

<span class="token comment"># 异常捕获</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
	f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;./xxx.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span>
	s <span class="token operator">=</span> <span class="token string">&quot;malu123&quot;</span>
	f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token keyword">except</span> BaseException <span class="token keyword">as</span> e<span class="token punctuation">:</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
<span class="token keyword">finally</span><span class="token punctuation">:</span>
	<span class="token comment"># 不管出不出异常 finally都会执行</span>
	f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;end....&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><code>with关键字</code>（上下文管理器）可以自动管理上下文资源，不论什么原因跳出<code>with块</code>，都能确保文件正确的关闭，并且可以在代码块执行完毕后自动还原进入该代码块时的现场。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;wc\n&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;xq\n&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;z3\n&quot;</span><span class="token punctuation">]</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;./xxx.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
	<span class="token comment"># f.write(&quot;ok.123&quot;)</span>
	f<span class="token punctuation">.</span>writelines<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_4-文本文件读取"><a href="#_4-文本文件读取" class="header-anchor">#</a> 4，文本文件读取</h3> <p>文件的读取一般使用如下三个方法：</p> <ol><li><code>read([size])</code>  从文件中读取<code>size</code>个字符，并作为结果返回。如果没有<code>size</code>参数，则读取整个文件。 读取到文件末尾，会返回空字符串。</li> <li><code>readline()</code> 读取一行内容作为结果返回。读取到文件末尾，会返回空字符串</li> <li><code>readlines()</code> 文本文件中，每一行作为一个字符串存入列表中，返回该列表</li></ol> <p>读取一个文件前4个字符：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;./xxx.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>文件较小，一次将文件内容读入到程序中:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;./xxx.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>按行读取一个文件:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;./xxx.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
	<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
		fragment <span class="token operator">=</span> f<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> <span class="token keyword">not</span> fragment<span class="token punctuation">:</span>
			<span class="token keyword">break</span>
		<span class="token keyword">else</span><span class="token punctuation">:</span>
			<span class="token keyword">print</span><span class="token punctuation">(</span>fragment<span class="token punctuation">,</span>end<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>使用迭代器（每次返回一行）读取文本文件:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;./xxx.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
	<span class="token keyword">for</span> a <span class="token keyword">in</span> f<span class="token punctuation">:</span>
		<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>为文本文件每一行的末尾增加行号:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;./xxx.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
	lines <span class="token operator">=</span> f<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment"># print(lines)</span>
	<span class="token comment"># print(list(zip(range(1,len(lines)+1),lines))) # [(1, 'wc\n'), (2, 'xq\n'), (3, 'z3\n')]</span>
	line2 <span class="token operator">=</span> <span class="token punctuation">[</span>line<span class="token punctuation">.</span>rstrip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;  #&quot;</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;\n&quot;</span> <span class="token keyword">for</span> index<span class="token punctuation">,</span>line <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>lines<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lines<span class="token punctuation">)</span><span class="token punctuation">]</span>
	<span class="token keyword">print</span><span class="token punctuation">(</span>line2<span class="token punctuation">)</span>

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;./xxx.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
	f<span class="token punctuation">.</span>writelines<span class="token punctuation">(</span>line2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_5-二进制文件的读写"><a href="#_5-二进制文件的读写" class="header-anchor">#</a> 5，二进制文件的读写</h3> <p>二进制文件的处理流程和文本文件流程一致。首先还是要创建文件对象，不过，我们需要指定二进制模式，从而创建出二进制文件对象。例如：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;d:\a.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token comment">#可写的、重写模式的二进制文件对象</span>
f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;d:\a.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">'ab'</span><span class="token punctuation">)</span> <span class="token comment">#可写的、追加模式的二进制文件对象</span>
f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;d:\a.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span> <span class="token comment">#可读的二进制文件对象</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>创建好二进制文件对象后，仍然可以使用<code>write()</code>、<code>read()</code>实现文件的读写操作。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;./1.jpg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;rb&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> srcFile<span class="token punctuation">,</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;./2.jpg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;wb&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> destFile<span class="token punctuation">:</span>
	<span class="token keyword">for</span> line <span class="token keyword">in</span> srcFile<span class="token punctuation">:</span>
		<span class="token comment"># print(line)</span>
		destFile<span class="token punctuation">.</span>write<span class="token punctuation">(</span>line<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_5-文件对象常用方法和属性"><a href="#_5-文件对象常用方法和属性" class="header-anchor">#</a> 5，文件对象常用方法和属性</h3> <p>文件对象封装了文件相关的操作。在前面我们学习了通过文件对象对文件进行读写操作。本节我们详细列出文件对象的常用属性和方法，并进行说明。</p> <p>文件对象的属性：</p> <table><thead><tr><th>属性</th> <th>说明</th></tr></thead> <tbody><tr><td>name</td> <td>返回文件的名字</td></tr> <tr><td>mode</td> <td>返回文件的打开模式</td></tr> <tr><td>closed</td> <td>若文件被关闭, 则返回True</td></tr></tbody></table> <p>文件对象的打开模式：</p> <table><thead><tr><th>模式</th> <th>说明</th></tr></thead> <tbody><tr><td>r</td> <td>读模式</td></tr> <tr><td>w</td> <td>写模式</td></tr> <tr><td>a</td> <td>追加模式</td></tr> <tr><td>b</td> <td>二进制模式（可与其他模式组合）</td></tr> <tr><td>+</td> <td>读写模式（可以其他模式组合）</td></tr></tbody></table> <p>文件对象的常用方法：</p> <table><thead><tr><th>方法名</th> <th>说明</th></tr></thead> <tbody><tr><td>read([size])</td> <td>从文件中读取size个字节或字符的内容返回。若省略[size]，则读取到文件末尾，即一次读取文件所有内容</td></tr> <tr><td>readline()</td> <td>从文本文件中读取一行内容</td></tr> <tr><td>readlines()</td> <td>把文本文件中每一行都作为独立的字符串对象，并将这些对象放入列表返回</td></tr> <tr><td>write(str)</td> <td>将字符串str内容写入文件</td></tr> <tr><td>writelines(s)</td> <td>将字符串列表s写入文件文件，不添加换行符</td></tr> <tr><td>seek(offset [,whence])</td> <td>把文件指针移动到新的位置，offset表示相对于whence的多少个字节的偏移量；offset：off为正往结束方向移动，为负往开始方向移动whence不同的值代表不同含义：0: 从文件头开始计算（默认值）1：从当前位置开始计算2：从文件尾开始计算</td></tr> <tr><td>tell()</td> <td>返回文件指针的当前位置</td></tr> <tr><td>truncate([size])</td> <td>不论指针在什么位置，只留下指针前size个字节的内容，其余全部删除；如果没有传入size，则当指针当前位置到文件末尾内容全部删除</td></tr> <tr><td>flush()</td> <td>把缓冲区的内容写入文件，但不关闭文件</td></tr> <tr><td>close()</td> <td>把缓冲区内容写入文件，同时关闭文件，释放文件对象相关资源</td></tr></tbody></table> <p><code>seek()</code>移动文件指针示例：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment">#e.txt的内容是：abcefghljklmn</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;e.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;文件名是：{0}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#文件名是：e.txt</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>tell<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>           <span class="token comment">#0</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;读取的内容：{0}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#读取的内容：abcdefghijklmn</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>tell<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>           <span class="token comment">#14</span>
  f<span class="token punctuation">.</span>seek<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;读取的内容：{0}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#读取的内容：defghijklmn</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_6-序列化与反序列化"><a href="#_6-序列化与反序列化" class="header-anchor">#</a> 6，序列化与反序列化</h3> <p>序列化指的是：将对象转化成“串行化”数据形式，存储到硬盘或通过网络传输到其他地方。反序列化是指相反的过程，将读取到的“串行化数据”转化成对象。</p> <p>我们可以使用pickle模块中的函数，实现序列化和反序列操作。Python中，一切皆对象，对象本质上就是一个“存储数据的内存块”。有时候，我们需要将“内存块的数据”保存到硬盘上，或者通过网络传输到其他的计算机上。这时候，就需要“对象的序列化和反序列化”。 对象的序列化机制广泛的应用在分布式、并行系统上。</p> <p>序列化我们使用：</p> <ul><li><p><code>pickle.dump(obj, file)</code> <code>obj</code>就是要被序列化的对象，<code>file</code>指的是存储的文件</p></li> <li><p><code>pickle.load(file)</code> 从<code>file</code>读取数据，反序列化成对象</p></li></ul> <p>将对象序列化到文件中：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> pickle
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;data.dat&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;wb&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
  name <span class="token operator">=</span> <span class="token string">&quot;wc&quot;</span>
  age <span class="token operator">=</span> <span class="token number">34</span>
  score <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">]</span>
  resume <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span>name<span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">:</span>age<span class="token punctuation">,</span><span class="token string">'score'</span><span class="token punctuation">:</span>score<span class="token punctuation">}</span>

  pickle<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>resume<span class="token punctuation">,</span>f<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>将获得的数据反序列化成对象：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> pickle
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;data.dat&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;rb&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
  resume <span class="token operator">=</span> pickle<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span>resume<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_7-csv文件的读取和写入"><a href="#_7-csv文件的读取和写入" class="header-anchor">#</a> 7，CSV文件的读取和写入</h3> <p>csv是逗号分隔符文本格式，常用于数据交换、Excel文件和数据库数据的导入和导出。与Excel文件不同，CSV文件中：</p> <ul><li>值没有类型，所有值都是字符串</li> <li>不能指定字体颜色等样式</li> <li>不能指定单元格的宽高，不能合并单元格</li> <li>没有多个工作表</li> <li>不能嵌入图像图表</li></ul> <p>Python标准库的模块csv提供了读取和写入csv格式文件的对象。</p> <p>我们在excel中建立一个简单的表格，另存为<code>csv(逗号分隔)</code>，我们打开查看这个csv文件内容：</p> <div class="language-csv line-numbers-mode"><pre class="language-csv"><code><span class="token value">姓名</span><span class="token punctuation">,</span><span class="token value">年龄</span><span class="token punctuation">,</span><span class="token value">工作</span><span class="token punctuation">,</span><span class="token value">薪水</span>
<span class="token value">张三</span><span class="token punctuation">,</span><span class="token value">18</span><span class="token punctuation">,</span><span class="token value">程序员</span><span class="token punctuation">,</span><span class="token value">50000</span>
<span class="token value">高老三</span><span class="token punctuation">,</span><span class="token value">19</span><span class="token punctuation">,</span><span class="token value">测试工程师</span><span class="token punctuation">,</span><span class="token value">20000</span>
<span class="token value">高老五</span><span class="token punctuation">,</span><span class="token value">20</span><span class="token punctuation">,</span><span class="token value">人工智能开发</span><span class="token punctuation">,</span><span class="token value">50000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>csv.reader</code>对象于从csv文件读取数据：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> csv
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;d:\a.csv&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> a<span class="token punctuation">:</span>
  a_csv <span class="token operator">=</span> csv<span class="token punctuation">.</span>reader<span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token comment">#创建csv对象,它是一个包含所有数据的列表，每一行为一个元素</span>
  headers <span class="token operator">=</span> <span class="token builtin">next</span><span class="token punctuation">(</span>a_csv<span class="token punctuation">)</span>    <span class="token comment">#获得列表对象，包含标题行的信息</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span>headers<span class="token punctuation">)</span>
  <span class="token keyword">for</span> row <span class="token keyword">in</span> a_csv<span class="token punctuation">:</span>      <span class="token comment">#循环打印各行内容</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code>csv.writer</code>对象写一个csv文件:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> csv

headers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;工号&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;姓名&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;年龄&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;地址&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;月薪&quot;</span><span class="token punctuation">]</span>
rows <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">&quot;1001&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;旺财&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">&quot;西三旗1号院&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;50000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">&quot;1002&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;小强&quot;</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token string">&quot;西三旗1号院&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;30000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">r&quot;d:\b.csv&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> b<span class="token punctuation">:</span>
  b_csv <span class="token operator">=</span> csv<span class="token punctuation">.</span>writer<span class="token punctuation">(</span>b<span class="token punctuation">)</span>    <span class="token comment">#创建csv对象</span>
  b_csv<span class="token punctuation">.</span>writerow<span class="token punctuation">(</span>headers<span class="token punctuation">)</span>   <span class="token comment">#写入一行（标题）</span>
  b_csv<span class="token punctuation">.</span>writerows<span class="token punctuation">(</span>rows<span class="token punctuation">)</span>    <span class="token comment">#写入多行（数据）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_8-os模块"><a href="#_8-os模块" class="header-anchor">#</a> 8，OS模块</h3> <p><code>os模块</code>可以帮助我们直接对操作系统进行操作。我们可以直接调用操作系统的可执行文件、命令，直接操作文件、目录等等。</p> <p>os模块-调用操作系统命令，<code>os.system</code>可以帮助我们直接调用系统的命令</p> <p><code>os.system</code>调用windows系统的记事本程序</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> os
os<span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token string">&quot;notepad.exe&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>os.system</code>调用windows系统中ping命令</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> os
os<span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token string">&quot;ping www.baidu.com&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Linux是命令行操作更容易，我们可以通过os.system可以更加容易的调用相关的命令；</p> <p>运行安装好的微信:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> os
os<span class="token punctuation">.</span>startfile<span class="token punctuation">(</span><span class="token string">r&quot;C:\Program Files (x86)\Tencent\WeChat\WeChat.exe&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>我们可以通过前面讲的文件对象实现对于文件内容的读写操作。如果，还需要对文件和目录做其他操作，可以使用<code>os</code>和<code>os.path</code>模块。<code>os</code>模块下常用操作文件的方法:</p> <table><thead><tr><th>方法名</th> <th>描述</th></tr></thead> <tbody><tr><td>remove(path)</td> <td>删除指定的文件</td></tr> <tr><td>rename(src,dest)</td> <td>重命名文件或目录</td></tr> <tr><td>stat(path)</td> <td>返回文件的所有属性</td></tr> <tr><td>listdir(path)</td> <td>返回path目录下的文件和目录列表</td></tr></tbody></table> <p><code>os</code>模块下关于目录操作的相关方法，汇总如下：</p> <table><thead><tr><th>方法名</th> <th>描述</th></tr></thead> <tbody><tr><td>mkdir(path)</td> <td>创建目录</td></tr> <tr><td>makedirs(path1/path2/path3/...)</td> <td>创建多级目录</td></tr> <tr><td>rmdir(path)</td> <td>删除目录</td></tr> <tr><td>removedirs(path1/path2...)</td> <td>删除多级目录</td></tr> <tr><td>getcwd()</td> <td>返回当前工作目录：current work dir</td></tr> <tr><td>chdir(path)</td> <td>把path设为当前工作目录</td></tr> <tr><td>walk()</td> <td>遍历目录树</td></tr> <tr><td>sep</td> <td>当前操作系统所使用的路径分隔符</td></tr></tbody></table> <p><code>os</code>模块：创建、删除目录、获取文件信息:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment">#测试os模块中，关于文件和目录的操作</span>
<span class="token keyword">import</span> os

<span class="token comment">#打印基本的信息</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">#windows--&gt;nt  linux--&gt;posix</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>sep<span class="token punctuation">)</span>  <span class="token comment">#windows--&gt;\  linux--&gt;/</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>linesep<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#windows--&gt;\r\n  linux--&gt;\n</span>
a <span class="token operator">=</span> <span class="token string">'3'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">#repr可以显示数据信息</span>
<span class="token comment">#获取文件和文件夹的相关信息</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>stat<span class="token punctuation">(</span><span class="token string">&quot;my01.py&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#关于工作目录的操作</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#获得当前工作目录</span>
os<span class="token punctuation">.</span>chdir<span class="token punctuation">(</span><span class="token string">&quot;d:&quot;</span><span class="token punctuation">)</span>   <span class="token comment">#当前的工作目录就变成了d：的根目录</span>
<span class="token comment">######创建目录、删除目录</span>
<span class="token comment">#os.mkdir(&quot;书籍&quot;)</span>
<span class="token comment">#os.rmdir(&quot;书籍&quot;)</span>
<span class="token comment">######创建多级目录</span>
<span class="token comment"># os.makedirs(&quot;电影/港台/周星驰&quot;)</span>
<span class="token comment"># os.rename(&quot;电影&quot;,&quot;movie&quot;)</span>
dirs <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">&quot;movie&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dirs<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><code>os.path</code>模块提供了目录相关（路径判断、路径切分、路径连接、文件夹遍历）的操作</p> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td>isabs(path)</td> <td>判断path是否绝对路径</td></tr> <tr><td>isdir(path)</td> <td>判断path是否为目录</td></tr> <tr><td>isfile(path)</td> <td>判断path是否为文件</td></tr> <tr><td>exists(path)</td> <td>判断指定路径的文件是否存在</td></tr> <tr><td>getsize(filename)</td> <td>返回文件的大小</td></tr> <tr><td>abspath(path)</td> <td>返回绝对路径</td></tr> <tr><td>dirname(p)</td> <td>返回目录的路径</td></tr> <tr><td>getatime(filename)</td> <td>返回文件的最后访问时间</td></tr> <tr><td>getmtime(filename)</td> <td>返回文件的最后修改时间</td></tr> <tr><td>walk(top,func,arg)</td> <td>递归方式遍历目录</td></tr> <tr><td>join(path,*paths)</td> <td>连接多个path</td></tr> <tr><td>split(path)</td> <td>对路径进行分割，以列表形式返回</td></tr> <tr><td>splitext(path)</td> <td>从路径中分割文件的扩展名</td></tr></tbody></table> <p>测试<code>os.path</code>中常用方法</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment">#测试os.path常用方法</span>
<span class="token keyword">import</span> os
<span class="token keyword">import</span> os<span class="token punctuation">.</span>path

<span class="token comment">#################获得目录、文件基本信息######################</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isabs<span class="token punctuation">(</span><span class="token string">&quot;d:/a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#是否绝对路径</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isdir<span class="token punctuation">(</span><span class="token string">&quot;d:/a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#是否目录</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span><span class="token string">&quot;d:/a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#是否文件</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">#文件是否存在</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>getsize<span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">#文件大小</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>abspath<span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">#输出绝对路径</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span><span class="token string">&quot;d:/a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#输出所在目录</span>

<span class="token comment">########获得创建时间、访问时间、最后修改时间##########</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>getctime<span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#返回创建时间</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>getatime<span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#返回最后访问时间</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>getmtime<span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#返回最后修改时间</span>

<span class="token comment">################对路径进行分割、连接操作####################</span>
path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>abspath<span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span>   <span class="token comment">#返回绝对路径</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>split<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">#返回元组：目录、文件 ('C:\\Users\\Administrator\\PycharmProjects\\mypro_io\\test_os', 'a.txt')</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>splitext<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">#返回元组：路径、扩展名 ('C:\\Users\\Administrator\\PycharmProjects\\mypro_io\\test_os\\a', '.txt')</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">&quot;aa&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;bb&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;cc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#返回路径：aa/bb/cc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>列出指定目录下所有的<code>.py</code>文件，并输出文件名:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment">#列出指定目录下所有的.py文件，并输出文件名</span>
<span class="token keyword">import</span> os
<span class="token keyword">import</span> os<span class="token punctuation">.</span>path

path <span class="token operator">=</span> os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span>
file_list <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token comment">#列出子目录和子文件</span>
<span class="token keyword">for</span> filename <span class="token keyword">in</span> file_list<span class="token punctuation">:</span>
    pos <span class="token operator">=</span> filename<span class="token punctuation">.</span>rfind<span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> filename<span class="token punctuation">[</span>pos<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">&quot;py&quot;</span><span class="token punctuation">:</span>
      <span class="token keyword">print</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span>end<span class="token operator">=</span><span class="token string">&quot;\t&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;##################&quot;</span><span class="token punctuation">)</span>
file_list2 <span class="token operator">=</span> <span class="token punctuation">[</span>filename <span class="token keyword">for</span> filename <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token keyword">if</span> filename<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">&quot;.py&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">]</span>
<span class="token keyword">for</span> filename <span class="token keyword">in</span> file_list2<span class="token punctuation">:</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span>end<span class="token operator">=</span><span class="token string">&quot;\t&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_9-walk"><a href="#_9-walk" class="header-anchor">#</a> 9，walk</h3> <p><code>os.walk()</code> 方法是一个简单易用的文件、目录遍历器，可以帮助我们高效的处理文件、目录方面的事情。格式如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>os<span class="token punctuation">.</span>walk<span class="token punctuation">(</span>top<span class="token punctuation">[</span><span class="token punctuation">,</span> topdown<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">[</span><span class="token punctuation">,</span> onerror<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">[</span><span class="token punctuation">,</span> followlinks<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其中，<code>top</code>:是要遍历的目录。<code>topdown</code>：可选，<code>True</code>，先遍历<code>top</code>目录再遍历子目录。返回三元组（<code>root</code>、<code>dirs</code>、<code>files</code>）：</p> <ul><li><p><code>root</code>：当前正在遍历的文件夹本身</p></li> <li><p><code>dirs</code>：一个列表，该文件夹中所有的目录的名字</p></li> <li><p><code>files</code>：一个列表，该文件夹中所有的文件的名字</p></li></ul> <p>使用<code>walk()</code>递归遍历所有文件和目录:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> os

path <span class="token operator">=</span> os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span>
list_files <span class="token operator">=</span> os<span class="token punctuation">.</span>walk<span class="token punctuation">(</span>path<span class="token punctuation">,</span>topdown<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> root<span class="token punctuation">,</span>dirs<span class="token punctuation">,</span>files <span class="token keyword">in</span> list_files<span class="token punctuation">:</span>
  <span class="token keyword">for</span> name <span class="token keyword">in</span> files<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>root<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span> name <span class="token keyword">in</span> dirs<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>root<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_10-shutil模块"><a href="#_10-shutil模块" class="header-anchor">#</a> 10，shutil模块</h3> <p><code>shutil</code>模块是python标准库中提供的，主要用来做文件和文件夹的拷贝、移动、删除等；还可以做文件和文件夹的压缩、解压缩操作。</p> <p><code>os</code>模块提供了对目录或文件的一般操作。<code>shutil</code>模块作为补充，提供了移动、复制、压缩、解压等操作，这些<code>os</code>模块都没有提供。</p> <p>实现文件的拷贝：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> shutil

<span class="token comment">#copy文件内容</span>
shutil<span class="token punctuation">.</span>copyfile<span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;a_copy.txt&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>实现递归的拷贝文件夹内容(使用<code>shutil</code>模块)</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> shutil
<span class="token comment">#&quot;音乐&quot;文件夹不存在才能用。</span>
shutil<span class="token punctuation">.</span>copytree<span class="token punctuation">(</span><span class="token string">&quot;电影/学习&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;音乐&quot;</span><span class="token punctuation">,</span>ignore<span class="token operator">=</span>shutil<span class="token punctuation">.</span>ignore_patterns<span class="token punctuation">(</span><span class="token string">&quot;*.html&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;*.htm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>将文件夹“电影/学习”下面的内容拷贝到文件夹“音乐”下。拷贝时忽略所有的<code>html</code>和<code>htm</code>文件。运行结果如下：</p> <p>实现将文件夹所有内容压缩(使用<code>shutil</code>模块):</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> shutil
<span class="token keyword">import</span> zipfile
<span class="token comment">#将&quot;电影/学习&quot;文件夹下所有内容压缩到&quot;音乐2&quot;文件夹下生成movie.zip</span>
<span class="token comment">#shutil.make_archive(&quot;音乐2/movie&quot;,&quot;zip&quot;,&quot;电影/学习&quot;)</span>

<span class="token comment">#压缩:将指定的多个文件压缩到一个zip文件</span>
<span class="token comment">#z = zipfile.ZipFile(&quot;a.zip&quot;,&quot;w&quot;)</span>
<span class="token comment">#z.write(&quot;1.txt&quot;)</span>
<span class="token comment">#z.write(&quot;2.txt&quot;)</span>
<span class="token comment">#z.close()</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>实现将压缩包解压缩到指定文件夹(使用<code>shutil</code>模块)</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> shutil
<span class="token keyword">import</span> zipfile
<span class="token comment">#解压缩：</span>
z2 <span class="token operator">=</span> zipfile<span class="token punctuation">.</span>ZipFile<span class="token punctuation">(</span><span class="token string">&quot;a.zip&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span>
z2<span class="token punctuation">.</span>extractall<span class="token punctuation">(</span><span class="token string">&quot;d:/&quot;</span><span class="token punctuation">)</span> <span class="token comment">#设置解压的地址</span>
z2<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>使用递归算法遍历目录下所有文件:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> os
allfile<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token keyword">def</span> <span class="token function">getFiles</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span>level<span class="token punctuation">)</span><span class="token punctuation">:</span>
  childFiles <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>path<span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token builtin">file</span> <span class="token keyword">in</span> childFiles<span class="token punctuation">:</span>
    filepath <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>path<span class="token punctuation">,</span><span class="token builtin">file</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isdir<span class="token punctuation">(</span>filepath<span class="token punctuation">)</span><span class="token punctuation">:</span>
      getFiles<span class="token punctuation">(</span>filepath<span class="token punctuation">,</span>level<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    allfile<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">&quot;\t&quot;</span><span class="token operator">*</span>level<span class="token operator">+</span>filepath<span class="token punctuation">)</span>


getFiles<span class="token punctuation">(</span>os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> f <span class="token keyword">in</span> <span class="token builtin">reversed</span><span class="token punctuation">(</span>allfile<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> os
<span class="token keyword">import</span> os<span class="token punctuation">.</span>path

<span class="token comment">#递归遍历目录树</span>
<span class="token keyword">def</span> <span class="token function">my_print_file</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span>level<span class="token punctuation">)</span><span class="token punctuation">:</span>
  child_files <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>path<span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token builtin">file</span> <span class="token keyword">in</span> child_files<span class="token punctuation">:</span>
    file_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>path<span class="token punctuation">,</span><span class="token builtin">file</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\t&quot;</span><span class="token operator">*</span>level<span class="token operator">+</span>file_path<span class="token punctuation">[</span>file_path<span class="token punctuation">.</span>rfind<span class="token punctuation">(</span>os<span class="token punctuation">.</span>sep<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isdir<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
      my_print_file<span class="token punctuation">(</span>file_path<span class="token punctuation">,</span>level<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>

my_print_file<span class="token punctuation">(</span><span class="token string">&quot;电影&quot;</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">7/4/2024, 11:34:01 AM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/pybase/07.html#_1-写入文件" class="sidebar-link reco-side-_1-写入文件" data-v-b57cc07c>1，写入文件</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/pybase/07.html#_2-中文乱码解决" class="sidebar-link reco-side-_2-中文乱码解决" data-v-b57cc07c>2，中文乱码解决</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/pybase/07.html#_3-关闭文件流" class="sidebar-link reco-side-_3-关闭文件流" data-v-b57cc07c>3，关闭文件流</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/pybase/07.html#_4-文本文件读取" class="sidebar-link reco-side-_4-文本文件读取" data-v-b57cc07c>4，文本文件读取</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/pybase/07.html#_5-二进制文件的读写" class="sidebar-link reco-side-_5-二进制文件的读写" data-v-b57cc07c>5，二进制文件的读写</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/pybase/07.html#_5-文件对象常用方法和属性" class="sidebar-link reco-side-_5-文件对象常用方法和属性" data-v-b57cc07c>5，文件对象常用方法和属性</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/pybase/07.html#_6-序列化与反序列化" class="sidebar-link reco-side-_6-序列化与反序列化" data-v-b57cc07c>6，序列化与反序列化</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/pybase/07.html#_7-csv文件的读取和写入" class="sidebar-link reco-side-_7-csv文件的读取和写入" data-v-b57cc07c>7，CSV文件的读取和写入</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/pybase/07.html#_8-os模块" class="sidebar-link reco-side-_8-os模块" data-v-b57cc07c>8，OS模块</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/pybase/07.html#_9-walk" class="sidebar-link reco-side-_9-walk" data-v-b57cc07c>9，walk</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/pybase/07.html#_10-shutil模块" class="sidebar-link reco-side-_10-shutil模块" data-v-b57cc07c>10，shutil模块</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/javablog/public/assets/js/app.b7480007.js" defer></script><script src="/javablog/public/assets/js/75.a861ceaf.js" defer></script><script src="/javablog/public/assets/js/1.b28b6208.js" defer></script><script src="/javablog/public/assets/js/114.61e1f7ca.js" defer></script>
  </body>
</html>
