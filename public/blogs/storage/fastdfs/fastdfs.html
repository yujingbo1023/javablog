<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>FastDFS | 码路全栈开发</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/javablog/public/favicon.ico">
    <meta name="description" content="快来玩java全栈呀">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/javablog/public/assets/css/0.styles.0bd56f36.css" as="style"><link rel="preload" href="/javablog/public/assets/js/app.36d100a8.js" as="script"><link rel="preload" href="/javablog/public/assets/js/91.4309b931.js" as="script"><link rel="preload" href="/javablog/public/assets/js/1.8cfd729d.js" as="script"><link rel="preload" href="/javablog/public/assets/js/98.571ef700.js" as="script"><link rel="prefetch" href="/javablog/public/assets/js/10.0d36c37b.js"><link rel="prefetch" href="/javablog/public/assets/js/100.5ad4b616.js"><link rel="prefetch" href="/javablog/public/assets/js/101.79ae6750.js"><link rel="prefetch" href="/javablog/public/assets/js/102.59ad3740.js"><link rel="prefetch" href="/javablog/public/assets/js/103.6b4eadbb.js"><link rel="prefetch" href="/javablog/public/assets/js/104.522f4831.js"><link rel="prefetch" href="/javablog/public/assets/js/105.99f429be.js"><link rel="prefetch" href="/javablog/public/assets/js/106.d5433314.js"><link rel="prefetch" href="/javablog/public/assets/js/107.4a465623.js"><link rel="prefetch" href="/javablog/public/assets/js/108.f157da64.js"><link rel="prefetch" href="/javablog/public/assets/js/109.873f8d7e.js"><link rel="prefetch" href="/javablog/public/assets/js/11.5a3fa7eb.js"><link rel="prefetch" href="/javablog/public/assets/js/110.01f1dd39.js"><link rel="prefetch" href="/javablog/public/assets/js/111.a3fc38ed.js"><link rel="prefetch" href="/javablog/public/assets/js/112.6246eccb.js"><link rel="prefetch" href="/javablog/public/assets/js/113.97ceba06.js"><link rel="prefetch" href="/javablog/public/assets/js/114.dc6b3a6d.js"><link rel="prefetch" href="/javablog/public/assets/js/115.9f9ee2c7.js"><link rel="prefetch" href="/javablog/public/assets/js/116.5fb3f36d.js"><link rel="prefetch" href="/javablog/public/assets/js/117.28b356f9.js"><link rel="prefetch" href="/javablog/public/assets/js/118.c5312d38.js"><link rel="prefetch" href="/javablog/public/assets/js/119.f41120fe.js"><link rel="prefetch" href="/javablog/public/assets/js/12.b93f5e8e.js"><link rel="prefetch" href="/javablog/public/assets/js/120.b51a950b.js"><link rel="prefetch" href="/javablog/public/assets/js/121.71e386ea.js"><link rel="prefetch" href="/javablog/public/assets/js/122.8201889c.js"><link rel="prefetch" href="/javablog/public/assets/js/123.4168a558.js"><link rel="prefetch" href="/javablog/public/assets/js/124.6044359d.js"><link rel="prefetch" href="/javablog/public/assets/js/125.b7b77105.js"><link rel="prefetch" href="/javablog/public/assets/js/126.cfdb9c42.js"><link rel="prefetch" href="/javablog/public/assets/js/127.405c22df.js"><link rel="prefetch" href="/javablog/public/assets/js/128.4535c303.js"><link rel="prefetch" href="/javablog/public/assets/js/129.2974a429.js"><link rel="prefetch" href="/javablog/public/assets/js/13.fa000433.js"><link rel="prefetch" href="/javablog/public/assets/js/130.0f436e95.js"><link rel="prefetch" href="/javablog/public/assets/js/131.65a1e2f3.js"><link rel="prefetch" href="/javablog/public/assets/js/132.f710a10c.js"><link rel="prefetch" href="/javablog/public/assets/js/133.28a64862.js"><link rel="prefetch" href="/javablog/public/assets/js/134.f0f371a7.js"><link rel="prefetch" href="/javablog/public/assets/js/135.be3432c6.js"><link rel="prefetch" href="/javablog/public/assets/js/136.027db1db.js"><link rel="prefetch" href="/javablog/public/assets/js/137.6a251bb3.js"><link rel="prefetch" href="/javablog/public/assets/js/138.f4f0b8e6.js"><link rel="prefetch" href="/javablog/public/assets/js/139.050bf8b3.js"><link rel="prefetch" href="/javablog/public/assets/js/14.7bf05065.js"><link rel="prefetch" href="/javablog/public/assets/js/140.4dc64430.js"><link rel="prefetch" href="/javablog/public/assets/js/141.2e6e6d43.js"><link rel="prefetch" href="/javablog/public/assets/js/142.2fe8fb6f.js"><link rel="prefetch" href="/javablog/public/assets/js/143.c90e5cf3.js"><link rel="prefetch" href="/javablog/public/assets/js/144.81704718.js"><link rel="prefetch" href="/javablog/public/assets/js/145.2a90eb46.js"><link rel="prefetch" href="/javablog/public/assets/js/146.062ebac7.js"><link rel="prefetch" href="/javablog/public/assets/js/147.febf8bd9.js"><link rel="prefetch" href="/javablog/public/assets/js/148.2fe75a46.js"><link rel="prefetch" href="/javablog/public/assets/js/149.eaadfd85.js"><link rel="prefetch" href="/javablog/public/assets/js/15.b83c7a4e.js"><link rel="prefetch" href="/javablog/public/assets/js/150.bee12433.js"><link rel="prefetch" href="/javablog/public/assets/js/151.56a5d162.js"><link rel="prefetch" href="/javablog/public/assets/js/152.1ea93203.js"><link rel="prefetch" href="/javablog/public/assets/js/153.3b3b8881.js"><link rel="prefetch" href="/javablog/public/assets/js/154.2374062d.js"><link rel="prefetch" href="/javablog/public/assets/js/155.fa89f5fc.js"><link rel="prefetch" href="/javablog/public/assets/js/156.2e3862db.js"><link rel="prefetch" href="/javablog/public/assets/js/157.fb500ae2.js"><link rel="prefetch" href="/javablog/public/assets/js/158.bd469424.js"><link rel="prefetch" href="/javablog/public/assets/js/159.9286a1aa.js"><link rel="prefetch" href="/javablog/public/assets/js/16.fe201206.js"><link rel="prefetch" href="/javablog/public/assets/js/160.cbec0860.js"><link rel="prefetch" href="/javablog/public/assets/js/161.230e0a99.js"><link rel="prefetch" href="/javablog/public/assets/js/162.b7fb663c.js"><link rel="prefetch" href="/javablog/public/assets/js/163.0d5ca4ef.js"><link rel="prefetch" href="/javablog/public/assets/js/164.662fbafb.js"><link rel="prefetch" href="/javablog/public/assets/js/165.b4976ead.js"><link rel="prefetch" href="/javablog/public/assets/js/166.7a62c43e.js"><link rel="prefetch" href="/javablog/public/assets/js/167.7f78a32b.js"><link rel="prefetch" href="/javablog/public/assets/js/168.4725969b.js"><link rel="prefetch" href="/javablog/public/assets/js/169.ccd30bc8.js"><link rel="prefetch" href="/javablog/public/assets/js/17.4c6dd4c2.js"><link rel="prefetch" href="/javablog/public/assets/js/170.3bdc0112.js"><link rel="prefetch" href="/javablog/public/assets/js/171.e46c6ada.js"><link rel="prefetch" href="/javablog/public/assets/js/172.4c4b1aa5.js"><link rel="prefetch" href="/javablog/public/assets/js/173.f69cbcbc.js"><link rel="prefetch" href="/javablog/public/assets/js/174.a7e1929d.js"><link rel="prefetch" href="/javablog/public/assets/js/175.9cd50649.js"><link rel="prefetch" href="/javablog/public/assets/js/176.5d3d0848.js"><link rel="prefetch" href="/javablog/public/assets/js/177.d5ed682f.js"><link rel="prefetch" href="/javablog/public/assets/js/18.c11d725c.js"><link rel="prefetch" href="/javablog/public/assets/js/19.466b60c3.js"><link rel="prefetch" href="/javablog/public/assets/js/20.6870434e.js"><link rel="prefetch" href="/javablog/public/assets/js/21.f88959ed.js"><link rel="prefetch" href="/javablog/public/assets/js/22.348353ea.js"><link rel="prefetch" href="/javablog/public/assets/js/23.dbe6cb36.js"><link rel="prefetch" href="/javablog/public/assets/js/24.983436d8.js"><link rel="prefetch" href="/javablog/public/assets/js/25.603222f9.js"><link rel="prefetch" href="/javablog/public/assets/js/26.972b9017.js"><link rel="prefetch" href="/javablog/public/assets/js/27.d91c596a.js"><link rel="prefetch" href="/javablog/public/assets/js/28.92d5d949.js"><link rel="prefetch" href="/javablog/public/assets/js/29.231796e8.js"><link rel="prefetch" href="/javablog/public/assets/js/3.bfa50e8a.js"><link rel="prefetch" href="/javablog/public/assets/js/30.d81506cf.js"><link rel="prefetch" href="/javablog/public/assets/js/31.629c542d.js"><link rel="prefetch" href="/javablog/public/assets/js/32.48ba2661.js"><link rel="prefetch" href="/javablog/public/assets/js/33.b4468974.js"><link rel="prefetch" href="/javablog/public/assets/js/34.9f1f01e6.js"><link rel="prefetch" href="/javablog/public/assets/js/35.bff09448.js"><link rel="prefetch" href="/javablog/public/assets/js/36.4243de61.js"><link rel="prefetch" href="/javablog/public/assets/js/37.e57f49fa.js"><link rel="prefetch" href="/javablog/public/assets/js/38.b3474dd5.js"><link rel="prefetch" href="/javablog/public/assets/js/39.df876e44.js"><link rel="prefetch" href="/javablog/public/assets/js/4.0acebf1b.js"><link rel="prefetch" href="/javablog/public/assets/js/40.021c94b3.js"><link rel="prefetch" href="/javablog/public/assets/js/41.8cbd145a.js"><link rel="prefetch" href="/javablog/public/assets/js/42.085c367e.js"><link rel="prefetch" href="/javablog/public/assets/js/43.1d30734a.js"><link rel="prefetch" href="/javablog/public/assets/js/44.f7a8221f.js"><link rel="prefetch" href="/javablog/public/assets/js/45.36729857.js"><link rel="prefetch" href="/javablog/public/assets/js/46.269af18a.js"><link rel="prefetch" href="/javablog/public/assets/js/47.4800112f.js"><link rel="prefetch" href="/javablog/public/assets/js/48.a45610b0.js"><link rel="prefetch" href="/javablog/public/assets/js/49.e63b6d56.js"><link rel="prefetch" href="/javablog/public/assets/js/5.47c294fa.js"><link rel="prefetch" href="/javablog/public/assets/js/50.6e0dacc7.js"><link rel="prefetch" href="/javablog/public/assets/js/51.aabe0cb7.js"><link rel="prefetch" href="/javablog/public/assets/js/52.bdc9fa83.js"><link rel="prefetch" href="/javablog/public/assets/js/53.15df920b.js"><link rel="prefetch" href="/javablog/public/assets/js/54.3d156be0.js"><link rel="prefetch" href="/javablog/public/assets/js/55.47401ab6.js"><link rel="prefetch" href="/javablog/public/assets/js/56.c47974b9.js"><link rel="prefetch" href="/javablog/public/assets/js/57.f6b7b13d.js"><link rel="prefetch" href="/javablog/public/assets/js/58.02823b9e.js"><link rel="prefetch" href="/javablog/public/assets/js/59.adf32fe0.js"><link rel="prefetch" href="/javablog/public/assets/js/6.8c1cd9fe.js"><link rel="prefetch" href="/javablog/public/assets/js/60.196a3224.js"><link rel="prefetch" href="/javablog/public/assets/js/61.c3cb4528.js"><link rel="prefetch" href="/javablog/public/assets/js/62.4a28fecc.js"><link rel="prefetch" href="/javablog/public/assets/js/63.1d71a3c1.js"><link rel="prefetch" href="/javablog/public/assets/js/64.c5aab084.js"><link rel="prefetch" href="/javablog/public/assets/js/65.57adfd24.js"><link rel="prefetch" href="/javablog/public/assets/js/66.51e5cabe.js"><link rel="prefetch" href="/javablog/public/assets/js/67.bc1a00a9.js"><link rel="prefetch" href="/javablog/public/assets/js/68.ccf7a400.js"><link rel="prefetch" href="/javablog/public/assets/js/69.c6cc46ef.js"><link rel="prefetch" href="/javablog/public/assets/js/7.7a097785.js"><link rel="prefetch" href="/javablog/public/assets/js/70.21d91043.js"><link rel="prefetch" href="/javablog/public/assets/js/71.caeca1fd.js"><link rel="prefetch" href="/javablog/public/assets/js/72.6b775185.js"><link rel="prefetch" href="/javablog/public/assets/js/73.95743265.js"><link rel="prefetch" href="/javablog/public/assets/js/74.0b11d4d3.js"><link rel="prefetch" href="/javablog/public/assets/js/75.6a7367a0.js"><link rel="prefetch" href="/javablog/public/assets/js/76.7ee09da9.js"><link rel="prefetch" href="/javablog/public/assets/js/77.15a2da95.js"><link rel="prefetch" href="/javablog/public/assets/js/78.f65d6466.js"><link rel="prefetch" href="/javablog/public/assets/js/79.3053d265.js"><link rel="prefetch" href="/javablog/public/assets/js/8.c4088010.js"><link rel="prefetch" href="/javablog/public/assets/js/80.33aab138.js"><link rel="prefetch" href="/javablog/public/assets/js/81.6b29ede6.js"><link rel="prefetch" href="/javablog/public/assets/js/82.a4af08f9.js"><link rel="prefetch" href="/javablog/public/assets/js/83.bfdee4b9.js"><link rel="prefetch" href="/javablog/public/assets/js/84.a966a036.js"><link rel="prefetch" href="/javablog/public/assets/js/85.22ef3665.js"><link rel="prefetch" href="/javablog/public/assets/js/86.d32bff50.js"><link rel="prefetch" href="/javablog/public/assets/js/87.c1248514.js"><link rel="prefetch" href="/javablog/public/assets/js/88.eb1018ac.js"><link rel="prefetch" href="/javablog/public/assets/js/89.e6c905b0.js"><link rel="prefetch" href="/javablog/public/assets/js/9.ef98f0fb.js"><link rel="prefetch" href="/javablog/public/assets/js/90.9fb570ab.js"><link rel="prefetch" href="/javablog/public/assets/js/92.cb0ae502.js"><link rel="prefetch" href="/javablog/public/assets/js/93.7a0f7459.js"><link rel="prefetch" href="/javablog/public/assets/js/94.d1c95d04.js"><link rel="prefetch" href="/javablog/public/assets/js/95.2d9dcf33.js"><link rel="prefetch" href="/javablog/public/assets/js/96.2049196f.js"><link rel="prefetch" href="/javablog/public/assets/js/97.e445945b.js"><link rel="prefetch" href="/javablog/public/assets/js/99.45f70063.js">
    <link rel="stylesheet" href="/javablog/public/assets/css/0.styles.0bd56f36.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>码路全栈开发</h3> <p class="description" data-v-59e6cb88>快来玩java全栈呀</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>码路</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2024
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/javablog/public/" class="home-link router-link-active"><img src="/javablog/public/logo.png" alt="码路全栈开发" class="logo"> <span class="site-name">码路全栈开发</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/javablog/public/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      全栈开发
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javablog/public/categories/HarmonyOS/" class="nav-link"><i class="undefined"></i>
  HarmonyOS
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/base/" class="nav-link"><i class="undefined"></i>
  base
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/data analysis/" class="nav-link"><i class="undefined"></i>
  data analysis
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/devops/" class="nav-link"><i class="undefined"></i>
  devops
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/每日一题/" class="nav-link"><i class="undefined"></i>
  每日一题
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/javabase/" class="nav-link"><i class="undefined"></i>
  javabase
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/javaweb/" class="nav-link"><i class="undefined"></i>
  javaweb
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/linux/" class="nav-link"><i class="undefined"></i>
  linux
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/pybase/" class="nav-link"><i class="undefined"></i>
  pybase
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/node/" class="nav-link"><i class="undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/springcloud/" class="nav-link"><i class="undefined"></i>
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/spider/" class="nav-link"><i class="undefined"></i>
  spider
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/springcloudalibaba/" class="nav-link"><i class="undefined"></i>
  springcloudalibaba
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/ssm/" class="nav-link"><i class="undefined"></i>
  ssm
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/zhifu/" class="nav-link"><i class="undefined"></i>
  zhifu
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/storage/" class="nav-link"><i class="undefined"></i>
  storage
</a></li></ul></div></div><div class="nav-item"><a href="/javablog/public/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/javablog/public/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javablog/public/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  vuepress-reco
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/javablog/public/avatar.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    码路
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>165</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>43</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/javablog/public/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      全栈开发
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javablog/public/categories/HarmonyOS/" class="nav-link"><i class="undefined"></i>
  HarmonyOS
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/base/" class="nav-link"><i class="undefined"></i>
  base
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/data analysis/" class="nav-link"><i class="undefined"></i>
  data analysis
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/devops/" class="nav-link"><i class="undefined"></i>
  devops
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/每日一题/" class="nav-link"><i class="undefined"></i>
  每日一题
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/javabase/" class="nav-link"><i class="undefined"></i>
  javabase
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/javaweb/" class="nav-link"><i class="undefined"></i>
  javaweb
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/linux/" class="nav-link"><i class="undefined"></i>
  linux
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/pybase/" class="nav-link"><i class="undefined"></i>
  pybase
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/node/" class="nav-link"><i class="undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/python/" class="nav-link"><i class="undefined"></i>
  python
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/springcloud/" class="nav-link"><i class="undefined"></i>
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/spider/" class="nav-link"><i class="undefined"></i>
  spider
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/springcloudalibaba/" class="nav-link"><i class="undefined"></i>
  springcloudalibaba
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/ssm/" class="nav-link"><i class="undefined"></i>
  ssm
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/zhifu/" class="nav-link"><i class="undefined"></i>
  zhifu
</a></li><li class="dropdown-item"><!----> <a href="/javablog/public/categories/storage/" class="nav-link"><i class="undefined"></i>
  storage
</a></li></ul></div></div><div class="nav-item"><a href="/javablog/public/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/javablog/public/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Docs
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javablog/public/docs/theme-reco/" class="nav-link"><i class="undefined"></i>
  vuepress-reco
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/recoluan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>FastDFS</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>码路</span>
          
        <span data-v-59e6cb88>2017 - </span>
        2024
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">FastDFS</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>码路</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>12/15/2028</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>FastDFS</span></i></div></div> <div class="theme-reco-content content__default"><h3 id="_1-什么是分布式文件系统"><a href="#_1-什么是分布式文件系统" class="header-anchor">#</a> 1, 什么是分布式文件系统</h3> <p><strong>单机时代：</strong></p> <p>初创时期由于时间紧迫，在各种资源有限的情况下，通常就直接在项目目录下建立静态文件夹，用于用户存放项目中的文件资源。如果按不同类型再细分，可以在项目目录下再建立不同的子目录来区分。例如：<code>resources\static\file</code>、<code>resources\static\img</code>等。</p> <p><img src="/javablog/public/assets/img/1717730262081.0bec3ef2.png" alt="1717730262081"></p> <p><strong>注意：</strong></p> <ul><li><p><strong>优点</strong>：便利，使用方便。</p></li> <li><p><strong>缺点</strong>：文件越多存放越混乱。</p></li></ul> <p><strong>独立文件服务器：</strong></p> <p>随着公司业务不断发展，将代码和文件放在同一服务器的弊端就会越来越明显。为了解决上面的问题引入独立图片服务器</p> <p><img src="/javablog/public/assets/img/1717730251520.554099a8.png" alt="1717730251520"></p> <p><strong>流程：</strong></p> <p>项目上传文件时，首先通过ftp或者ssh将文件上传到图片服务器的某个目录下，再通过Ngnix或者Apache来访问此目录下的文件，返回一个独立域名的图片URL地址，前端使用文件时就通过这个URL地址读取。</p> <p><strong>分布式文件系统：</strong></p> <p>业务继续发展，单台服务器存储和响应也很快到达了瓶颈，新的业务需要文件访问具有高响应性、高可用性来支持系统。</p> <p><img src="/javablog/public/assets/img/1717730296286.d4f47755.png" alt="1717730296286"></p> <p><strong>优点</strong>：</p> <ul><li><strong>扩展能力</strong>: 毫无疑问，扩展能力是一个分布式文件系统最重要的特点；</li> <li><strong>高可用性</strong>: 在分布式文件系统中，高可用性包含两层，一是整个文件系统的可用性，二是数据的完整和一致性；</li> <li><strong>弹性存储</strong>: 可以根据业务需要灵活地增加或缩减数据存储以及增删存储池中的资源，而不需要中断系统运行。</li></ul> <p><strong>缺点</strong>：系统复杂度稍高，需要更多服务器</p> <h3 id="_2-fastdfs概述"><a href="#_2-fastdfs概述" class="header-anchor">#</a> 2, FastDFS概述</h3> <p>FastDFS是一个开源的轻量级分布式文件系统。它解决了大数据量存储和负载均衡等问题。特别适合以中小文件（建议范围：4KB &lt; file_size &lt;500MB）为载体的在线服务，如相册网站、视频网站等等。</p> <p><strong>FastDFS特性</strong>：</p> <ul><li>文件不分块存储，上传的文件和OS文件系统中的文件一一对应</li> <li>支持相同内容的文件只保存一份，节约磁盘空间</li> <li>下载文件支持HTTP协议，可以使用内置Web Server，也可以和其他Web Server配合使用</li> <li>支持在线扩容</li> <li>支持主从文件</li></ul> <p><strong>分布式文件服务提供商：</strong></p> <p>1、阿里的OSS</p> <p>2、七牛云存储</p> <p>3、百度云储存</p> <h3 id="_3-fastdfs核心概念"><a href="#_3-fastdfs核心概念" class="header-anchor">#</a> 3, FastDFS核心概念</h3> <p><img src="/javablog/public/assets/img/1717730493649.3e3e62ac.png" alt="1717730493649"></p> <p>FastDFS服务端有三个角色：跟踪服务器（tracker）、存储服务器（storage）和客户端（client）。</p> <p><strong>tracker</strong></p> <p>跟踪服务器，主要做调度工作，起负载均衡的作用。在内存中记录集群中所有存储组和存储服务器的状态信息，是客户端和数据服务器交互的枢纽。</p> <p><strong>storage</strong></p> <p>存储服务器（又称：存储节点或数据服务器），文件和文件属性（meta data）都保存到存储服务器上。Storage server直接利用OS的文件系统调用管理文件。</p> <p><strong>client</strong></p> <p>客户端，作为业务请求的发起方，通过专有接口，使用TCP/IP协议与跟踪器服务器或存储节点进行数据交互。FastDFS向使用者提供基本文件访问接口，比如upload、download、append、delete等，以客户端库的方式提供给用户使用。</p> <p><strong>group</strong></p> <p>组， 也可称为卷。 同组内服务器上的文件是完全相同的 ，同一组内的storage server之间是对等的， 文件上传、 删除等操作可以在任意一台storage server上进行 。</p> <p><strong>流程：</strong></p> <p>Tracker相当于FastDFS的大脑，不论是上传还是下载都是通过tracker来分配资源；客户端一般可以使用Ngnix等静态服务器来调用或者做一部分的缓存；存储服务器内部分为卷（或者叫做组），卷于卷之间是平行的关系，可以根据资源的使用情况随时增加，卷内服务器文件相互同步备份，以达到容灾的目的。</p> <h3 id="_4-fastdfs概述-上传机制"><a href="#_4-fastdfs概述-上传机制" class="header-anchor">#</a> 4, FastDFS概述_上传机制</h3> <p>首先客户端请求Tracker服务获取到存储服务器的ip地址和端口，然后客户端根据返回的IP地址和端口号请求上传文件，存储服务器接收到请求后生产文件，并且将文件内容写入磁盘并返回给客户端file_id、路径信息、文件名等信息，客户端保存相关信息上传完毕。</p> <p><img src="/javablog/public/assets/img/1717730653875.ae69563c.png" alt="1717730653875"></p> <p><strong>内部机制如下：</strong></p> <p><strong>1、选择Tracker server</strong></p> <p>当集群中不止一个Tracker server时，由于Tracker之间是完全对等的关系，客户端在upload文件时可以任意选择一个trakcer。</p> <p><strong>2、选择Storage server</strong></p> <p>当选定Group后，Tracker会在Group内选择一个Storage Server给客户端</p> <p><strong>3、选择Storage path</strong></p> <p>当分配好Storage Server后，客户端将向Storage发送写文件请求，Storage将会为文件分配一个数据存储目录。</p> <blockquote><p><strong>注意：</strong></p> <p>剩余存储空间最多的优先。</p></blockquote> <p><strong>4、生成Fileid</strong></p> <p>选定存储目录之后，Storage会为文件生一个Fileid，由Storage Server Ip、文件创建时间、文件大小、文件crc32和一个随机数拼接而成，然后将这个二进制串进行base64编码，转换为可打印的字符串。</p> <p><strong>5、生成文件名</strong></p> <p>当文件存储到某个子目录后，即认为该文件存储成功，接下来会为该文件生成一个文件名，文件名由group、存储目录、两级子目录、fileid、文件后缀名（由客户端指定，主要用于区分文件类型）拼接而成。</p> <h3 id="_5-fastdfs概述-下载机制"><a href="#_5-fastdfs概述-下载机制" class="header-anchor">#</a> 5, FastDFS概述_下载机制</h3> <p>客户端带上文件名信息请求Tracker服务获取到存储服务器的ip地址和端口，然后客户端根据返回的IP地址和端口号请求下载文件，存储服务器接收到请求后返回文件给客户端。</p> <p><img src="/javablog/public/assets/img/1717730867030.b9d55b7f.png" alt="1717730867030"></p> <p><strong>内部机制如下：</strong></p> <ol><li>client询问tracker下载文件的storage，参数为文件标识（组名和文件名）</li> <li>tracker返回一台可用的storage</li> <li>client直接和storage通讯完成文件下载</li></ol> <h3 id="_6-fastdfs环境搭建-linux版"><a href="#_6-fastdfs环境搭建-linux版" class="header-anchor">#</a> 6, FastDFS环境搭建_Linux版</h3> <p><strong>下载安装gcc：</strong></p> <p>安装方式为yum安装（需网络）：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yum install gcc-c++ perl-devel pcre-devel openssl-devel zlib-devel wget
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>下载安装FastDFS:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>wget https://github.com/happyfish100/fastdfs/archive/V6.06.tar.gz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>下载安装FastDFS依赖:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>wgethttps://github.com/happyfish100/libfastcommon/archive/V1.0.43.tar.gz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>解压缩依赖tar包:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>tar -zxvf V1.0.43.tar.gz -C /usr/local
tar -zxvf  V6.06.tar.gz-C /usr/local
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>编译并安装libfastcommon:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code> cd /usr/local/libfastcommon-1.0.43/
 ./make.sh &amp;&amp; ./make.sh install
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>编译并安装FastDFS:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd /usr/local/fastdfs-6.06
./make.sh &amp;&amp; ./make.sh install
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>进入etc目录下复制配置文件:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd /etc/fdfs/
cp client.conf.sample client.conf
cp storage.conf.sample storage.conf
cp tracker.conf.sample tracker.conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>创建tracker服务，创建tracker目录：</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mkdir -p  /data/fastdfs/tracker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>修改配置文件:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim /etc/fdfs/tracker.conf
disabled=false          #启用配置文件
port=22122            #设置 tracker 的端口号
base_path=/data/fastdfs/tracker #设置 tracker 的数据文件和日志目录（需预先创建）
http.server_port=8888      #设置 http 端口号
http.server_port=8888      #指的是在tracker服务器上启动http服务进程，如:apache或者nginx 启动时所监听的端口
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>启动tracker服务:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/etc/init.d/fdfs_trackerd start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>检查tracker服务:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>netstat -lntup |grep fdfs
tcp     0    0 0.0.0.0:22122      0.0.0.0:*        LISTEN    10757/fdfs_trackerd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>**创建storage服务, 创建storage目录: **</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mkdir -p /data/fastdfs/base
mkdir -p /data/fastdfs/storage
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>修改配置文件:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim /etc/fdfs/storage.conf
disabled=false             #启用配置文件
group_name=group1           #组名，根据实际情况修改
port=23000               #设置 storage 的端口号
base_path=/data/fastdfs/base      #设置 storage 的日志目录（需预先创建）
store_path_count=1           #存储路径个数，需要和 store_path 个数匹配
store_path0=/data/fastdfs/storage     #存储路径
tracker_server=172.31.16.121:22122    #tracker 服务器的 IP 地址和端口号
http.server_port=8888         #设置storage上启动的http服务的端口号，如安装的nginx的端口号
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>启动storage服务:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/etc/init.d/fdfs_storaged start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>查看storage服务:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>netstat -lntup |grep fdfs
tcp     0    0 0.0.0.0:23000      0.0.0.0:*        LISTEN    10892/fdfs_storaged
tcp     0    0 0.0.0.0:22122      0.0.0.0:*        LISTEN    10757/fdfs_trackerd
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>修改Client配置文件:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim /etc/fdfs/client.conf
connect_timeout=30
network_timeout=60
base_path=/data/fastdfs/client　　　　　　# 日志路径
tracker_server=192.168.66.100:22122　　　　# 追踪服务器的IP，有多个服务器可以另一行
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>创建日志目录:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mkdir -p /data/fastdfs/client
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>查看启动的服务:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ps -ef | grep fdfs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_7-fastdfs指令"><a href="#_7-fastdfs指令" class="header-anchor">#</a> 7, FastDFS指令</h3> <p><strong>上传指令:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>fdfs_upload_file &lt;config_file&gt; &lt;local_filename&gt; [storage_ip:port] [store_path_index]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>参数含义：</strong></p> <ol><li>&lt;config_file&gt; ：配置文件路径</li> <li>&lt;local_filename&gt; ：本地文件路径</li> <li>[storage_ip:port] ：（可选参数）</li> <li>[store_path_index] ：（可选参数）</li></ol> <p><strong>指令使用：</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[root@tracker fdfs]# fdfs_upload_file /etc/fdfs/client.conf 上传的文件路径
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/javablog/public/assets/img/1717732845418.fc41f1fc.png" alt="1717732845418"></p> <p>上传文件后会返回文件在FastDFS中的唯一文件标识，即卷名+文件名。查看：</p> <p><img src="/javablog/public/assets/img/1717732905904.43ca2a6c.png" alt="1717732905904"></p> <p><strong>下载指令：</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>fdfs_download_file &lt;config_file&gt; &lt;file_id&gt; [local_filename] [&lt;download_offset&gt; &lt;download_bytes&gt;]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>参数含义：</strong></p> <ol><li>&lt;config_file&gt; ：配置文件路径</li> <li>&lt;file_id&gt; ：文件在FastDFS中的唯一文件标识，即卷名+文件名</li> <li>[local_filename] ：文件下载地址</li> <li>&lt;download_offset&gt; ：（可选参数）文件下载开始时间</li> <li>&lt;download_bytes&gt; ：（可选参数）文件下载的字节数</li></ol> <p><strong>指令使用:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[root@tracker fdfs]# fdfs_download_file /etc/fdfs/client.conf group1/M00/00/00/ZyZR32ZiheSAZH-ZAAXK6R7Ygwk812.png /root/java/xxx.rpm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/javablog/public/assets/img/1717733045363.219c9bed.png" alt="1717733045363"></p> <p><strong>查看文件信息指令:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>fdfs_file_info &lt;config_file&gt; &lt;file_id&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>参数含义：</strong></p> <ol><li>&lt;config_file&gt; ：配置文件路径</li> <li>&lt;file_id&gt; ：文件在FastDFS中的唯一文件标识，即卷名+文件名</li></ol> <p><strong>指令使用:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[root@tracker fdfs]# fdfs_file_info /etc/fdfs/client.conf group1/M00/00/00/ZyZR32ZiheSAZH-ZAAXK6R7Ygwk812.png
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/javablog/public/assets/img/1717733165407.d9f6d075.png" alt="1717733165407"></p> <p><strong>删除指令:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>fdfs_delete_file &lt;config_file&gt; &lt;file_id&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>参数含义：</strong></p> <ol><li>&lt;config_file&gt; ：配置文件路径</li> <li>&lt;file_id&gt; ：文件在FastDFS中的唯一文件标识，即卷名+文件名</li></ol> <p><strong>指令使用：</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[root@tracker fdfs]# fdfs_delete_file /etc/fdfs/client.conf group1/M00/00/00/ZyZR32ZiheSAZH-ZAAXK6R7Ygwk812.png
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>删除指令使用后，文件在该卷中的所有备份都会被删除，因为卷内的存储节点会相互同步，故慎用。</p> <h3 id="_8-springboot整合fastdfs"><a href="#_8-springboot整合fastdfs" class="header-anchor">#</a> 8, SpringBoot整合FastDFS</h3> <p>由GitHub大牛tobato在原作者YuQing与yuqih发布的JAVA客户端基础上进行了大量重构工作，并于GitHub上发布了FastDFS-Client1.26.5。</p> <p><strong>主要特性:</strong></p> <ol><li>对关键部分代码加入了单元测试，便于理解与服务端的接口交易，提高接口质量</li> <li>将以前对byte硬解析风格重构为使用对象+注解的形式，尽量增强了代码的可读性</li> <li>支持对服务端的连接池管理</li> <li>支持上传图片时候检查图片格式，并且自动生成缩略图</li> <li>在SpringBoot当中自动导入依赖</li></ol> <p>创建项目：</p> <p><img src="/javablog/public/assets/img/1717733495098.b1cb42a2.png" alt="1717733495098"></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.6.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- lookup parent from repository --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.ityls<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>fastdfs-demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.0.1-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>fastdfs-demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>fastdfs-demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.github.tobato<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>fastdfs-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.26.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><p><strong>配置springboot的application.yml配置文件:</strong></p> <p><img src="/javablog/public/assets/img/1717733606186.4cbf622c.png" alt="1717733606186"></p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">fdfs</span><span class="token punctuation">:</span>
  <span class="token key atrule">so-timeout</span><span class="token punctuation">:</span> <span class="token number">1501</span>  <span class="token comment">#连接时间</span>
  <span class="token key atrule">connect-timeout</span><span class="token punctuation">:</span> <span class="token number">601</span> <span class="token comment">#超时时间</span>
  <span class="token key atrule">thumb-image</span><span class="token punctuation">:</span>       <span class="token comment">#缩略图生成参数</span>
    <span class="token key atrule">width</span><span class="token punctuation">:</span> <span class="token number">150</span>
    <span class="token key atrule">height</span><span class="token punctuation">:</span> <span class="token number">150</span>
  <span class="token key atrule">tracker-list</span><span class="token punctuation">:</span>       <span class="token comment">#TrackerList参数,支持多个</span>
    <span class="token punctuation">-</span> 103.38.81.223<span class="token punctuation">:</span><span class="token number">22122</span>
<span class="token comment">#    - 103.38.81.224:22122</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>测试上传：</p> <p><img src="/javablog/public/assets/img/1717733910691.7bf8cb42.png" alt="1717733910691"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">FastdfsDemoApplicationTests</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">FastFileStorageClient</span> fastFileStorageClient<span class="token punctuation">;</span>

    <span class="token comment">/**
     * 测试springboot环境下的javaAPI对分布式文件系统的上传文件的操作
     * @throws FileNotFoundException
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testUpload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">FileNotFoundException</span> <span class="token punctuation">{</span>
        <span class="token comment">//获取本地文件</span>
        <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;E:\\1.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建传输文件的输入流</span>
        <span class="token class-name">FileInputStream</span> fileInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//文件上传：参数一：传输文件内容的输入流；参数二：文件的size；参数三：文件扩展名；参数四：描述文件的元数据；返回值：上传文件在存储节点的唯一标识（卷名+文件名）</span>
        <span class="token class-name">StorePath</span> storePath <span class="token operator">=</span> fastFileStorageClient<span class="token punctuation">.</span><span class="token function">uploadFile</span><span class="token punctuation">(</span>fileInputStream<span class="token punctuation">,</span> file<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;jpg&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//将卷名与文件名一起打印</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>storePath<span class="token punctuation">.</span><span class="token function">getFullPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//将卷名与文件名分别打印</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>storePath<span class="token punctuation">.</span><span class="token function">getGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot; | &quot;</span><span class="token operator">+</span>storePath<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>结果：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>group1/M00/00/00/ZyZR32ZiifqAA-p8AAGZ4Az5MQw196.jpg
group1 | M00/00/00/ZyZR32ZiifqAA-p8AAGZ4Az5MQw196.jpg
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>测试下载：</p> <p><img src="/javablog/public/assets/img/1717734033172.f1f69a24.png" alt="1717734033172"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
     * 测试springboot环境下的javaAPI对分布式文件系统的下载文件的操作
     * @throws IOException
     */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testDownload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">//下载文件：参数一：文件处于存储节点的卷名；参数二：文件在存储节点的文件名；参数三：下载的回调函数；返回值：文件内容的字节数组</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> fastFileStorageClient<span class="token punctuation">.</span><span class="token function">downloadFile</span><span class="token punctuation">(</span><span class="token string">&quot;group1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;M00/00/00/ZyZR32ZiifqAA-p8AAGZ4Az5MQw196.jpg&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">DownloadByteArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//创建文件输出流，指定输出位置及文件名</span>
    <span class="token class-name">FileOutputStream</span> fileOutputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;E:\\2.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//使用文件输出流将文件内容字节数组写出</span>
    fileOutputStream<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//刷新输出流</span>
    fileOutputStream<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//关闭输出流</span>
    fileOutputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>结果：</p> <p><img src="data:image/png;base64,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" alt="1717734080790"></p> <h3 id="_9-文件上传-springboot基于fastdfs实现"><a href="#_9-文件上传-springboot基于fastdfs实现" class="header-anchor">#</a> 9, 文件上传_SpringBoot基于FastDFS实现</h3> <p><img src="/javablog/public/assets/img/1717734219839.bdc45865.png" alt="1717734219839"></p> <p><strong>引入Thymeleaf视图解析器：</strong></p> <p><img src="/javablog/public/assets/img/1717734261876.4c462df1.png" alt="1717734261876"></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>controller:</p> <p><img src="/javablog/public/assets/img/1717734585327.6a40517e.png" alt="1717734585327"></p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ityls<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>github<span class="token punctuation">.</span>tobato<span class="token punctuation">.</span>fastdfs<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>fdfs<span class="token punctuation">.</span></span><span class="token class-name">StorePath</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>github<span class="token punctuation">.</span>tobato<span class="token punctuation">.</span>fastdfs<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">FastFileStorageClient</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PostMapping</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>multipart<span class="token punctuation">.</span></span><span class="token class-name">MultipartFile</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token comment">/*
图片控制层
 */</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UploadController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">FastFileStorageClient</span> fastFileStorageClient<span class="token punctuation">;</span>

    <span class="token comment">/**
     * 图片上传
     * @param file
     */</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;upload&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> file<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. 判断文件是否为空</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>file <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// 2. 获取上传图片名字  dog.jpg</span>
            <span class="token class-name">String</span> filename <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 3. 图片后缀名  jpg</span>
            <span class="token class-name">String</span> fileSuffix <span class="token operator">=</span> filename<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>filename<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 4. 上传图片</span>
            <span class="token class-name">StorePath</span> storePath <span class="token operator">=</span> fastFileStorageClient<span class="token punctuation">.</span><span class="token function">uploadFile</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    file<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> fileSuffix<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 5. 创建成功会返回文件路径</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>storePath<span class="token punctuation">.</span><span class="token function">getFullPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// TODO 保存到数据库  jdbc  mybaits plus</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p><strong>下载wangEditor富文本编辑器:</strong></p> <p><img src="/javablog/public/assets/img/1717734334855.3eb6787b.png" alt="1717734334855"></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>文件上传<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>欢迎使用 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>wangEditor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> 富文本编辑器<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/wangeditor/dist/wangEditor.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> <span class="token constant">E</span> <span class="token operator">=</span> window<span class="token punctuation">.</span>wangEditor
    <span class="token keyword">const</span> editor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">E</span><span class="token punctuation">(</span><span class="token string">'#div1'</span><span class="token punctuation">)</span>
    <span class="token comment">// 配置服务端接口</span>
    editor<span class="token punctuation">.</span>config<span class="token punctuation">.</span>uploadImgServer <span class="token operator">=</span> <span class="token string">'/upload'</span>
    <span class="token comment">// 参数名字</span>
    editor<span class="token punctuation">.</span>config<span class="token punctuation">.</span>uploadFileName <span class="token operator">=</span> <span class="token string">'file'</span>
    <span class="token comment">//限制图片大小和类型</span>
    editor<span class="token punctuation">.</span>config<span class="token punctuation">.</span>uploadImgMaxSize <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token comment">// 2M</span>
    editor<span class="token punctuation">.</span>config<span class="token punctuation">.</span>uploadImgAccept <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'jpg'</span><span class="token punctuation">,</span> <span class="token string">'jpeg'</span><span class="token punctuation">,</span> <span class="token string">'png'</span><span class="token punctuation">,</span> <span class="token string">'gif'</span><span class="token punctuation">,</span> <span class="token string">'bmp'</span><span class="token punctuation">,</span> <span class="token string">'webp'</span><span class="token punctuation">]</span>


    editor<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>测试：</p> <p><img src="/javablog/public/assets/img/1717734909307.9b52bf54.png" alt="1717734909307"></p> <h3 id="_10-fastdfs整合nginx"><a href="#_10-fastdfs整合nginx" class="header-anchor">#</a> 10, FastDFS整合Nginx</h3> <p>Nginx服务器是一个高性能的web服务器与反向代理服务器。</p> <p><strong>FastDFS集成Nginx的2个原因:</strong></p> <ul><li><p>为分布式文件系统提供Http服务支持。通过Nginx的web服务代理访问分布式文件系统的存储节点，从而实现通过http请求访问存储节点资源。</p> <p><img src="/javablog/public/assets/img/1717735035053.297e2574.png" alt="1717735035053"></p></li> <li><p>解决复制延迟问题。由于FastDFS的同卷的存储节点之间需要同步，当文件尚未同步完成时，访问请求到达改节点，获取的数据将是未同步完的不完整数据，即为复制延迟问题。通过Nginx检测请求的存储节点的数据，若该存储节点的数据尚未同步完成，则将请求转发至数据的原存储节点，从而解决复制延迟问题。</p> <p><img src="/javablog/public/assets/img/1717735057152.3d8c5f5d.png" alt="1717735057152"></p></li></ul> <h3 id="_11-fastdfs集成nginx-环境搭建"><a href="#_11-fastdfs集成nginx-环境搭建" class="header-anchor">#</a> 11, FastDFS集成Nginx_环境搭建</h3> <p><strong>下载Fastdfs的Nginx模块包:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cd /usr/local
wget https://github.com/happyfish100/fastdfs-nginx-module/archive/V1.22.tar.gz

tar -zxvf V1.22.tar.gz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>安装Nginx依赖文件:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yum install -y gcc gcc-c++ zlib zlib-devel openssl openssl-devel pcre pcre-devel gd-devel epel-release
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>下载Nginx软件包:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>wget https://nginx.org/download/nginx-1.19.2.tar.gz
cd nginx-1.19.2/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>配置Nginx服务器:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>#建立Makefile文件，检查Linux系统环境以及相关的关键属性。
./configure --add-module=/usr/local/fastdfs-nginx-module-1.22/src/

#编译项目，主要将gcc源代码编译成可执行的目标文件
make

#根据上一步骤编译完成的数据安装到预定的目录中。
make install
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>注意：</strong></p> <ul><li>–add-module：为nginx添加一个fastdfs-nginx-module模块，值为该模块在当前系统的路径</li> <li>–prefix：指定nginx安装位置</li></ul> <p><strong>将Fastdfs软件包里面的http.conf和mime.types拷贝到/etc/fdfs目录下</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>cp /usr/local/src/fastdfs-6.06/conf/mime.types /etc/fdfs/
cp /usr/local/src/fastdfs-6.06/conf/http.conf /etc/fdfs/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>配置Nginx的fastdfs模块，并编辑文件:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>#拷贝文件
[root@localhost opt]cp /usr/local/fastdfs-nginx-module-1.22/src/mod_fastdfs.conf /etc/fdfs/
[root@localhost fdfs] vim mod_fastdfs.conf
#保存日志目录
base_path=/data/fastdfs/storage   
#tracker 服务器的 IP 地址以及端口号
tracker_server=192.168.66.100:22122 
#文件url中是否有group 名
url_have_group_name = true      
#存储路径
store_path0=/data/fastdfs/storage  
group_count = 1            #设置组的个数
#然后在末尾添加分组信息，目前只有一个分组，就只写一个
[group1]
group_name=group1
storage_server_port=23000
store_path_count=1
store_path0=/data/fastdfs/storage
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>配置Nginx:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>server {
  listen    80;
  server_name  localhost;
   
  location ~ /group[1-3]/M00 {
    alias /data/fastdfs/storage/data;
     ngx_fastdfs_module;
   }
  # 根目录下返回403
  location = / {
     return 403;
   }
  # log file
  access_log  logs/img_access.log access;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>启动Ningx服务:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code># 进入sbin目录
[root@tracker nginx]# cd sbin/
# 启动服务 -c：指定配置文件
[root@tracker sbin]# ./nginx -c /usr/local/nginx/conf/nginx.conf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>查看服务启动情况:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[root@tracker sbin]# ps -ef | grep nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>启动追踪服务与存储节点服务:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[root@tracker sbin]# fdfs_trackerd /etc/fdfs/tracker.conf start
[root@tracker sbin]# fdfs_storaged /etc/fdfs/storage.conf start
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>将图片上传至linux系统后，使用指令上传至分布式文件系统:</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[root@tracker fdfs]# fdfs_upload_file /etc/fdfs/client.conf /root/xxxxx.png
group1/M00/00/00/wKhyj1wrIUWAL5ASAAAfA8PiO7Y493.png
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>通过浏览器远程访问:</strong></p> <p><img src="/javablog/public/assets/img/1717737851778.8281ae05.png" alt="1717737851778"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>http://103.38.81.223/group1/M00/00/00/ZyZR32ZimVCAJUFWAAXK6R7Ygwk524.png
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/7/2024, 2:28:30 PM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/storage/fastdfs/fastdfs.html#_1-什么是分布式文件系统" class="sidebar-link reco-side-_1-什么是分布式文件系统" data-v-b57cc07c>1, 什么是分布式文件系统</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/storage/fastdfs/fastdfs.html#_2-fastdfs概述" class="sidebar-link reco-side-_2-fastdfs概述" data-v-b57cc07c>2, FastDFS概述</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/storage/fastdfs/fastdfs.html#_3-fastdfs核心概念" class="sidebar-link reco-side-_3-fastdfs核心概念" data-v-b57cc07c>3, FastDFS核心概念</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/storage/fastdfs/fastdfs.html#_4-fastdfs概述-上传机制" class="sidebar-link reco-side-_4-fastdfs概述-上传机制" data-v-b57cc07c>4, FastDFS概述_上传机制</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/storage/fastdfs/fastdfs.html#_5-fastdfs概述-下载机制" class="sidebar-link reco-side-_5-fastdfs概述-下载机制" data-v-b57cc07c>5, FastDFS概述_下载机制</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/storage/fastdfs/fastdfs.html#_6-fastdfs环境搭建-linux版" class="sidebar-link reco-side-_6-fastdfs环境搭建-linux版" data-v-b57cc07c>6, FastDFS环境搭建_Linux版</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/storage/fastdfs/fastdfs.html#_7-fastdfs指令" class="sidebar-link reco-side-_7-fastdfs指令" data-v-b57cc07c>7, FastDFS指令</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/storage/fastdfs/fastdfs.html#_8-springboot整合fastdfs" class="sidebar-link reco-side-_8-springboot整合fastdfs" data-v-b57cc07c>8, SpringBoot整合FastDFS</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/storage/fastdfs/fastdfs.html#_9-文件上传-springboot基于fastdfs实现" class="sidebar-link reco-side-_9-文件上传-springboot基于fastdfs实现" data-v-b57cc07c>9, 文件上传_SpringBoot基于FastDFS实现</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/storage/fastdfs/fastdfs.html#_10-fastdfs整合nginx" class="sidebar-link reco-side-_10-fastdfs整合nginx" data-v-b57cc07c>10, FastDFS整合Nginx</a></li><li class="level-3" data-v-b57cc07c><a href="/javablog/public/blogs/storage/fastdfs/fastdfs.html#_11-fastdfs集成nginx-环境搭建" class="sidebar-link reco-side-_11-fastdfs集成nginx-环境搭建" data-v-b57cc07c>11, FastDFS集成Nginx_环境搭建</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/javablog/public/assets/js/app.36d100a8.js" defer></script><script src="/javablog/public/assets/js/91.4309b931.js" defer></script><script src="/javablog/public/assets/js/1.8cfd729d.js" defer></script><script src="/javablog/public/assets/js/98.571ef700.js" defer></script>
  </body>
</html>
