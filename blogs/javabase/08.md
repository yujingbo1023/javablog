---
title: 08-é›†åˆ
date: 2028-12-15
sticky: 1
sidebar: 'auto'
tags:
 - javabase
categories:
 -  javabase
---



## ä¸€ï¼Œé›†åˆä»‹ç»



### 1ï¼Œé›†åˆåˆ†ç±»



å‰é¢æˆ‘ä»¬å­¦ä¹ è¿‡äº†ArrayListé›†åˆï¼Œä½†æ˜¯é™¤äº†ArrayListé›†åˆï¼ŒJavaè¿˜æä¾›äº†å¾ˆå¤šç§å…¶ä»–çš„é›†åˆã€‚

- Collection
- List
- ArrayList
- LinkedList
- Map
- Set
- HashMap
- HashSet
- TreeSet
- TreeMap
- LinkedHashSet
- LinkedHashMap
- ....



ä¸Šé¢çš„è¿™ä¹ˆå¤šé›†åˆï¼Œåˆ†ä¸¤ç±»ï¼š

- å•åˆ—é›†åˆï¼ˆå…ƒç´ æ˜¯ä¸€ä¸ªä¸€ä¸ªçš„ï¼‰ï¼ŒCollectionè¡¨ç¤ºå•åˆ—é›†åˆ
- åŒåˆ—é›†åˆï¼ˆå…ƒç´ æ˜¯ä¸€å¯¹ä¸€å¯¹çš„ï¼‰ï¼ŒMapè¡¨ç¤ºåŒåˆ—é›†åˆ







## äºŒï¼ŒCollectioné›†åˆ



### 1ï¼ŒCollectioné›†åˆä»‹ç»

Collectionæ˜¯å•åˆ—é›†åˆçš„æ ¹æ¥å£ï¼ŒCollectionæ¥å£ä¸‹é¢åˆæœ‰ä¸¤ä¸ªå­æ¥å£Listæ¥å£ã€Setæ¥å£ï¼ŒListå’ŒSetä¸‹é¢åˆ†åˆ«æœ‰ä¸åŒçš„å®ç°ç±»ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![1701656611523](./assets/1701656611523.png)





Listç³»åˆ—é›†åˆç‰¹ç‚¹ï¼š

- æ·»åŠ çš„å…ƒç´ æ˜¯æœ‰åºï¼Œå¯é‡å¤ï¼Œæœ‰ç´¢å¼•ã€‚æœ‰ArrayListï¼ŒLinkedListã€‚



Setç³»åˆ—é›†åˆç‰¹ç‚¹ï¼š

- æ·»åŠ çš„å…ƒç´ æ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ã€‚æœ‰HashSetï¼ŒLinkedHashSetï¼ŒTreeSet
- HashSetæ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ã€‚
- LinkedHashSetæœ‰åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ã€‚
- TreeSetæŒ‰ç…§å¤§å°é»˜è®¤å‡åºæ’åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ã€‚



ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args){
        // é›†åˆï¼šArrayList  å½“æˆJSä¸­çš„æ•°ç»„æ¥ç”¨
        // ä¸åŒçš„é›†åˆæœ‰ä¸åŒçš„ç‰¹ç‚¹

        // Collection æ¥å£ å•åˆ—é›†åˆ  é›†åˆé‡Œé¢æ˜¯ä¸€ä¸ªä¸ªçš„å…ƒç´ 
        //    Listæ¥å£
        //       ArrayListå®ç°ç±»   LinkedListå®ç°ç±»
        //    Setæ¥å£
        //       HashSetå®ç°ç±»
        //       .....

        // ----------------------------------------------------------

        // Map   åŒåˆ—é›†åˆ  é›†åˆé‡Œé¢æ˜¯ä¸€ä¸ªä¸ªçš„é”®å€¼å¯¹
        //    .....

        // åˆ›å»ºArrayListé›†åˆ  Listé›†åˆçš„ç‰¹ç‚¹ï¼š1ï¼‰æ·»åŠ çš„å…ƒç´ æ˜¯æœ‰åº  2ï¼‰å¯é‡å¤çš„  3ï¼‰æœ‰ç´¢å¼•
        ArrayList<String> list = new ArrayList<String>();
        list.add("ok");
        list.add("java");
        list.add("java");
        list.add("vue");
        System.out.println(list);
        System.out.println(list.get(0));

        // HashSetç‰¹ç‚¹ï¼š1ï¼‰æ·»åŠ çš„å…ƒç´ æ˜¯æ— åºçš„  2ï¼‰ä¸é‡å¤  3ï¼‰æ— ç´¢å¼•çš„
        HashSet<String> hashSet = new HashSet<>();
        hashSet.add("ok");
        hashSet.add("java");
        hashSet.add("java");
        hashSet.add("vue");
        System.out.println(hashSet);
        System.out.println(hashSet);
    }
}
```



### 2ï¼ŒCollectioné›†åˆå¸¸ç”¨æ–¹æ³•

Collectioné›†åˆçš„æœ‰ä¸€äº›å¸¸ç”¨æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•æ‰€æœ‰Collectionå®ç°ç±»éƒ½å¯ä»¥ä½¿ç”¨ï¼Œä»¥åˆ›å»ºArrayListä¸ºä¾‹ï¼Œä»£ç æ¼”ç¤ºï¼š

```java
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collection;
import java.util.HashSet;

public class Test {
    public static void main(String[] args){
        // å¤šæ€
        Collection<String> c = new ArrayList<String>();
        // æ·»åŠ å…ƒç´ åˆ°é›†åˆä¸­
        c.add("ok");
        c.add("java");
        c.add("java");
        c.add("vue");
        System.out.println(c); // [ok, java, java, vue]


        // è·å–é›†åˆçš„å¤§å°
        System.out.println(c.size());

        // åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ 
        System.out.println(c.contains("java"));
        System.out.println(c.contains("å°ç¨‹åº"));

        // åˆ é™¤æŸä¸ªå…ƒç´ ï¼Œå¦‚æœæœ‰å¤šä¸ªé‡å¤å…ƒç´ åªèƒ½åˆ é™¤ç¬¬ä¸€ä¸ª
        System.out.println(c.remove("vue"));
        System.out.println(c);

        System.out.println(c.remove("java"));
        System.out.println(c);

        // æ¸…ç©ºé›†åˆçš„å…ƒç´ 
        //c.clear();
        //System.out.println(c);

        // åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º
        System.out.println(c.isEmpty());

        // æŠŠé›†åˆè½¬åŒ–æˆæ•°ç»„
        Object[] array = c.toArray();
        System.out.println(array);
        System.out.println(Arrays.toString(array));

        // æŠŠé›†åˆè½¬åŒ–æˆæŒ‡å®šç±»å‹çš„æ•°ç»„
        String[] array1 = c.toArray(new String[c.size()]);
        System.out.println(Arrays.toString(array1));

        // ä¹Ÿå¯ä»¥æŠŠä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ æ·»åŠ åˆ°å¦ä¸€ä¸ªé›†åˆä¸­
        Collection<String> c1 = new ArrayList<>();
        c1.add("java1");
        c1.add("java2");
        Collection<String> c2 = new ArrayList<>();
        c2.add("java3");
        c2.add("java4");
        c1.addAll(c2); // æŠŠc2é›†åˆä¸­çš„å…¨éƒ¨å…ƒç´ æ·»åŠ åˆ°c2é›†åˆä¸­
    }
}
```



æ€»ç»“ä¸€ä¸‹Collectioné›†åˆçš„å¸¸ç”¨åŠŸèƒ½ï¼ŒArrayListã€LinkedListã€HashSetã€LinkedHashSetã€TreeSeté›†åˆéƒ½å¯ä»¥è°ƒç”¨ä¸‹é¢çš„æ–¹æ³•ã€‚

- public boolean add(E e)   æŠŠç»™å®šçš„å¯¹è±¡æ·»åŠ åˆ°å½“å‰é›†åˆä¸­
- public void clear()   æ¸…ç©ºé›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ 
- public boolean remove(E e)   æŠŠç»™å®šçš„å¯¹è±¡å¤§å½“å‰é›†åˆä¸­åˆ é™¤
- public boolean contains(Object obj)   åˆ¤æ–­å½“å‰é›†åˆä¸­æ˜¯å¦åŒ…å«ç»™å®šçš„å¯¹è±¡
- public boolean isEmpty()   åˆ¤æ–­å½“å‰é›†åˆæ˜¯å¦ä¸ºç©º
- public int size()    è¿”å›é›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°
- public Object[] toArray()   æŠŠé›†åˆä¸­çš„å…ƒç´ ï¼Œå­˜å‚¨åˆ°æ•°ç»„ä¸­



### 3ï¼ŒCollectionè¿­ä»£å™¨éå†

æ™®é€šçš„forå¾ªç¯åªèƒ½éå†Listé›†åˆï¼Œä¸èƒ½éå†Seté›†åˆï¼Œå› ä¸ºä»¥å‰çš„æ™®é€šforå¾ªç¯éå†éœ€è¦ç´¢å¼•ï¼Œåªæœ‰Listé›†åˆæœ‰ç´¢å¼•ï¼Œè€ŒSeté›†åˆæ²¡æœ‰ç´¢å¼•ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ ä¸€äº›å¸¸è§çš„éå†é›†åˆæ–¹å¼ã€‚è¿­ä»£å™¨å°±æ˜¯ä¸€ç§é›†åˆçš„é€šç”¨éå†æ–¹å¼ã€‚



ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args){
        Collection<String> c = new ArrayList<String>();
        c.add("ok");
        c.add("java");
        c.add("java");
        c.add("vue");
        System.out.println(c); // [ok, java, java, vue]

        // å¾—åˆ°è¿­ä»£å™¨å¯¹è±¡
        Iterator<String> it = c.iterator();
        //System.out.println(it.next());
        //System.out.println(it.hasNext());  // åˆ¤æ–­æ˜¯å¦è¿­ä»£å®Œæ¯•
        //System.out.println(it.next());
        //System.out.println(it.hasNext());  // åˆ¤æ–­æ˜¯å¦è¿­ä»£å®Œæ¯•
        //System.out.println(it.next());
        //System.out.println(it.hasNext());  // åˆ¤æ–­æ˜¯å¦è¿­ä»£å®Œæ¯•
        //System.out.println(it.next());
        //System.out.println(it.hasNext());  // åˆ¤æ–­æ˜¯å¦è¿­ä»£å®Œæ¯•
        //System.out.println(it.next());
        //System.out.println(it.hasNext());  // åˆ¤æ–­æ˜¯å¦è¿­ä»£å®Œæ¯•

        while (it.hasNext()){
            System.out.println(it.next());
        }
    }
}
```



åˆ†æå¦‚ä¸‹ï¼š

- å½“è°ƒç”¨iterator()æ–¹æ³•è·å–è¿­ä»£å™¨æ—¶ï¼Œå½“å‰æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ 
- hasNext()æ–¹æ³•åˆ™åˆ¤æ–­è¿™ä¸ªä½ç½®æ˜¯å¦æœ‰å…ƒç´ ï¼Œå¦‚æœæœ‰åˆ™è¿”å›trueï¼Œè¿›å…¥å¾ªç¯
- è°ƒç”¨next()æ–¹æ³•è·å–å…ƒç´ ï¼Œå¹¶å°†å½“æœˆå…ƒç´ æŒ‡å‘ä¸‹ä¸€ä¸ªä½ç½®ï¼Œ
- ç­‰ä¸‹æ¬¡å¾ªç¯æ—¶ï¼Œåˆ™è·å–ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä¾æ­¤å†…æ¨







### 4ï¼ŒCollectionå¢å¼ºforå¾ªç¯éå†



å¢å¼ºforå¾ªç¯çš„æ ¼å¼ï¼š

```java
for(å…ƒç´ çš„æ•°æ®ç±»å‹ å˜é‡å : æ•°ç»„æˆ–é›†åˆ){}
```



å¢å¼ºforä¸å…‰å¯ä»¥éå†é›†åˆï¼Œè¿˜å¯ä»¥éå†æ•°ç»„ã€‚ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args){
        Collection<String> c = new ArrayList<String>();
        c.add("ok");
        c.add("java");
        c.add("java");
        c.add("vue");
        System.out.println(c); // [ok, java, java, vue]

        for (String s : c) {
            System.out.println(s);
        }

        System.out.println("--------------");

        String[] arr = {"abc","def","ok","vue","webpack"};
        // å¢å¼ºforå¾ªç¯ä¹Ÿå¯ä»¥éå†æ•°ç»„
        for (String name : arr) {
            System.out.println(name);
        }
    }
}
```





### 5ï¼ŒCollection forEachéå†

forEachæ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªConsumeræ¥å£ï¼Œè€ŒConsumeræ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼Œæ‰€ä»¥å¯ä»¥ä¼ é€’Lambdaè¡¨è¾¾å¼ã€‚ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args){
        Collection<String> c = new ArrayList<String>();
        c.add("ok");
        c.add("java");
        c.add("java");
        c.add("vue");
        System.out.println(c); // [ok, java, java, vue]

        // åŸå§‹å†™æ³•
        c.forEach(new Consumer<String>() {
            @Override
            public void accept(String s) {
                System.out.println(s);
            }
        });

        System.out.println("--------------");

        // ä½¿ç”¨lambdaè¡¨è¾¾å¼è¿›è¡Œç®€å†™
        c.forEach(s->System.out.println(s));
    }
}
```





### 6ï¼Œéå†æ¡ˆä¾‹



æ¡ˆä¾‹ï¼šå±•ç¤ºå¤šéƒ¨ç”µå½±ä¿¡æ¯ï¼Œæ¯éƒ¨ç”µå½±éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¤šéƒ¨ç”µå½±è¦ä½¿ç”¨é›†åˆè£…èµ·æ¥ã€‚éå†é›†åˆä¸­çš„3ä¸ªç”µå½±å¯¹è±¡ï¼Œè¾“å‡ºæ¯éƒ¨ç”µå½±çš„è¯¦æƒ…ä¿¡æ¯ã€‚



å†™ä¸€ä¸ªç”µå½±ç±»ï¼Œç”¨æ¥æè¿°æ¯ä¸€æ­¥ç”µå½±åº”è¯¥æœ‰å“ªäº›ä¿¡æ¯ã€‚

```java
class Movie{
    private String name; //ç”µå½±åç§°
    private double score; //è¯„åˆ†
    private String actor; //æ¼”å‘˜

    // æ— å‚æ„é€ ï¼Œå…¨å‚æ„é€ ï¼Œgetterï¼Œsetterï¼ŒtoString
}
```



æµ‹è¯•ç±»ï¼Œå®Œæˆä¸Šé¢çš„éœ€æ±‚ï¼Œå¦‚ä¸‹ï¼š

```java
public class Test {
    public static void main(String[] args){
        Collection<Movie> movies = new ArrayList<>();
        movies.add(new Movie("ã€Šè‚–ç”³å…‹çš„æ•‘èµã€‹", 9.7, "ç½—å®¾æ–¯"));
        movies.add(new Movie("ã€Šéœ¸ç‹åˆ«å§¬ã€‹", 9.6, "å¼ å›½è£ã€å¼ ä¸°æ¯…"));
        movies.add(new Movie("ã€Šé˜¿ç”˜æ­£ä¼ ã€‹", 9.5, "æ±¤å§†æ±‰å…‹æ–¯"));

        for (Movie m : movies) {
            System.out.println("ç”µå½±åï¼š" + m.getName());
            System.out.println("è¯„åˆ†ï¼š" + m.getScore());
            System.out.println("ä¸»æ¼”ï¼š" + m.getActor());
        }
    }
}
```







## ä¸‰ï¼ŒListç³»åˆ—é›†åˆ

å‰é¢æˆ‘ä»¬å·²ç»æŠŠCollectioné€šç”¨çš„åŠŸèƒ½å­¦ä¹ å®Œäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ Collectionä¸‹é¢çš„ä¸€ä¸ªå­ä½“ç³»Listé›†åˆã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![1701658111761](./assets/1701658111761.png)





Listç³»åˆ—é›†åˆ(ArrayListå’ŒLinkedListåº•å±‚å®ç°ä¸åŒï¼Œé€‚åˆçš„åœºæ™¯ä¸åŒ)ç‰¹ç‚¹ï¼š

- ArrayListï¼šæœ‰åºï¼Œå¯é‡å¤ï¼Œæœ‰ç´¢å¼•
- LinkedListï¼š æœ‰åºï¼Œå¯é‡å¤ï¼Œæœ‰ç´¢å¼•



### 1ï¼ŒListé›†åˆçš„å¸¸ç”¨æ–¹æ³•

Listé›†åˆæ˜¯æœ‰ç´¢å¼•çš„ï¼Œæ‰€ä»¥å¤šäº†ä¸€äº›æœ‰ç´¢å¼•æ“ä½œçš„æ–¹æ³•ã€‚

- void add(int index, E element)  åœ¨æ­¤é›†åˆä¸­çš„æŒ‡å®šä½ç½®æ’å…¥æŒ‡å®šçš„å…ƒç´ 
- E remove(int index)  åˆ é™¤æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ ï¼Œè¿”å›è¢«åˆ é™¤çš„å…ƒç´ 
- E set(int index, E element) ä¿®æ”¹æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ ï¼Œè¿”å›è¢«ä¿®æ”¹çš„å…ƒç´ 
- E get(int index) è¿”å›æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ 



ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args){
        // Listæ˜¯ä¸€ä¸ªæ¥å£ï¼Œæœ‰ç´¢å¼•ï¼Œæ‰€ä»¥åˆæ·»åŠ äº†ä¸€äº›å…³äºç´¢å¼•ç›¸å…³çš„api
        List<String> c = new ArrayList<String>();
        c.add("ok");
        c.add("java1");
        c.add("java2");
        c.add("vue");
        System.out.println(c);

        // æ­¤å¤„çš„addæ˜¯Listæ¥å£ä¸­çš„api  åœ¨æŸä¸ªç´¢å¼•ä½ç½®æ’å…¥å…ƒç´ 
        c.add(1,"react");
        System.out.println(c);

        // æ ¹æ®ç´¢å¼•åˆ é™¤æŸä¸ªå…ƒç´ ï¼Œè¿”å›è¢«åˆ é™¤çš„é‚£ä¸ªå…ƒç´ 
        System.out.println(c.remove(1));
        System.out.println(c);

        // è¿”å›é›†åˆä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ 
        System.out.println(c.get(1));

        // setæ˜¯æ ¹æ®ç´¢å¼•ä¿®æ”¹æŸä¸ªå…ƒç´ ï¼Œè¿”å›ä¿®æ”¹å‰çš„é‚£ä¸ªå…ƒç´ 
        System.out.println(c.set(1,"java666"));
        System.out.println(c);
    }
}
```





### 2ï¼ŒListé›†åˆçš„éå†æ–¹å¼



Listé›†åˆç›¸æ¯”äºå‰é¢çš„Collectionå¤šäº†ä¸€ç§å¯ä»¥é€šè¿‡ç´¢å¼•éå†çš„æ–¹å¼ï¼Œæ‰€ä»¥Listé›†åˆéå†æ–¹å¼ä¸€å…±æœ‰å››ç§ï¼š

- æ™®é€šforå¾ªç¯ï¼ˆåªå› ä¸ºListæœ‰ç´¢å¼•ï¼‰
- è¿­ä»£å™¨
- å¢å¼ºfor
- Lambdaè¡¨è¾¾å¼



ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args){
        // Listæ˜¯ä¸€ä¸ªæ¥å£ï¼Œæœ‰ç´¢å¼•ï¼Œæ‰€ä»¥åˆæ·»åŠ äº†ä¸€äº›å…³äºç´¢å¼•ç›¸å…³çš„api
        List<String> list = new ArrayList<String>();
        list.add("ok");
        list.add("java1");
        list.add("java2");
        list.add("vue");
        System.out.println(list);

        //1.æ™®é€šforå¾ªç¯
        for(int i = 0; i< list.size(); i++){
            //i = 0, 1, 2
            String e = list.get(i);
            System.out.println(e);
        }

        //2.å¢å¼ºforéå†
        for(String s : list){
            System.out.println(s);
        }

        //3.è¿­ä»£å™¨éå†
        Iterator<String> it = list.iterator();
        while(it.hasNext()){
            String s = it.next();
            System.out.println(s);
        }

        //4.lambdaè¡¨è¾¾å¼éå†
        list.forEach(s->System.out.println(s));
    }
}
```





### 3ï¼ŒArrayListåº•å±‚åŸç†



ArrayListé›†åˆåº•å±‚æ˜¯åŸºäºæ•°ç»„ç»“æ„å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å½“ä½ å¾€é›†åˆå®¹å™¨ä¸­å­˜å‚¨å…ƒç´ æ—¶ï¼Œåº•å±‚æœ¬è´¨ä¸Šæ˜¯å¾€æ•°ç»„ä¸­å­˜å‚¨å…ƒç´ ã€‚ ç‰¹ç‚¹å¦‚ä¸‹ï¼š

- æŸ¥è¯¢é€Ÿåº¦å¿«ï¼šæŸ¥è¯¢æ•°æ®é€šè¿‡åœ°å€å€¼å’Œç´¢å¼•å®šä½ï¼ŒæŸ¥è¯¢ä»»æ„æ•°æ®è€—æ—¶ç›¸åŒã€‚
- åˆ é™¤æ•ˆç‡ä½ï¼šå¯èƒ½éœ€è¦æŠŠåé¢å¾ˆå¤šæ•°æ®è¿›è¡Œå‰ç§»ã€‚
- æ·»åŠ æ•ˆç‡æä½ï¼šå¯èƒ½éœ€è¦æŠŠåé¢å¾ˆå¤šçš„æ•°æ®åç§»ï¼Œå†æ·»åŠ å…ƒç´ ã€‚ä¹Ÿå¯èƒ½éœ€è¦è¿›è¡Œæ•°æ®æ‰©å®¹ã€‚



ä»£ç å¦‚ä¸‹ï¼š

```java
public class Test {
    public static void main(String[] args){
        // é›†åˆåˆ†ä¸¤ç±»ï¼š
        //  å•åˆ—é›†åˆ
        //       Collection  æ¥å£   æœ‰å¾ˆå¤šçš„API    éå†æœ‰å¤šç§æ–¹å¼
        //           List æ¥å£        ä¹Ÿæœ‰è‡ªå·±æ–°å¢çš„API
        //               ArrayList  å®ç°ç±»
        //               LinkedList  å®ç°ç±»
        //           Set  æ¥å£
        //              HashSet
        //              TreeSet
        //  åŒåˆ—é›†åˆ  å®ƒé‡Œé¢å­˜å‚¨çš„æ˜¯é”®å€¼å¯¹
        //


        //ArrayList åº•å±‚åŸç†ï¼Œåº•å±‚æ˜¯åŸºäºæ•°ç»„ç»“æ„å®ç°çš„ï¼Œå½“æˆ‘ä»¬å¾€ArrayListä¸­å­˜å‚¨å…ƒç´ æ—¶ï¼Œåº•å±‚ä¹Ÿæ˜¯å­˜å‚¨åˆ°æ•°ç»„ä¸­çš„ã€‚
        // ç‰¹ç‚¹ï¼š
        //    1ï¼‰æŸ¥è¯¢ç‰¹åˆ«å¿«ï¼Œæ ¹æ®ç´¢å¼•æŸ¥è¯¢æ•°æ®éå¸¸å¿«ï¼Œæ‰¾ä»»ä½•ä¸€ä¸ªå…ƒç´ ï¼Œæ¶ˆè€—çš„æ—¶é—´éƒ½æ˜¯ä¸€æ ·çš„ã€‚å°±æ˜¯æ ¹æ®ç´¢å¼•å’Œåœ°å€å€¼æ‰¾çš„ã€‚
        //    2ï¼‰åˆ é™¤æ•ˆç‡ä½ï¼Œå¯ä»¥éœ€è¦æŠŠåé¢çš„æ•°æ®å¾€ç§»
        //    3ï¼‰æ·»åŠ æ•ˆç‡æä½ï¼Œå¯ä»¥å¾ˆå¤šå…ƒç´ éƒ½è¦å¾€åç§»ï¼Œå¦‚æœç©ºé—´ä¸å¤Ÿï¼Œè¿˜éœ€è¦æ‰©å®¹ã€‚

        ArrayList<String> list = new ArrayList<String>();
        list.add("java01");
        list.add("java02");
        list.add("java03");
        list.add("java04");
        System.out.println(list.get(2));
    }
}
```





æˆ‘ä»¬çŸ¥é“æ•°ç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯é›†åˆçš„é•¿åº¦æ˜¯å¯å˜çš„ï¼Œè¿™æ˜¯æ€ä¹ˆåšåˆ°çš„å‘¢ï¼ŸåŸç†å¦‚ä¸‹ï¼š

1. åˆ©ç”¨æ— å‚æ„é€ å™¨åˆ›å»ºé›†åˆï¼Œä¼šåœ¨åº•å±‚åˆ›å»ºä¸€ä¸ªé»˜è®¤é•¿åº¦ä¸º0çš„æ•°ç»„ã€‚
2. æ·»åŠ ç¬¬1ä¸ªå…ƒç´ æ—¶ï¼Œåº•å±‚ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„é•¿åº¦ä¸º10çš„æ•°ç»„ã€‚
3. å­˜æ»¡æ—¶ï¼Œä¼šæ‰©å®¹1.5å€ã€‚
4. å¦‚æœä¸€æ¬¡æ·»åŠ å¤šä¸ªå…ƒç´ ï¼Œ1.5å€è¿˜æ”¾ä¸ä¸‹ï¼Œåˆ™æ–°åˆ›å»ºæ•°ç»„çš„é•¿åº¦ä»¥å®é™…ä¸ºå‡†ã€‚



æ•°ç»„æ‰©å®¹ï¼Œå¹¶ä¸æ˜¯åœ¨åŸæ•°ç»„ä¸Šæ‰©å®¹ï¼ˆåŸæ•°ç»„æ˜¯ä¸å¯ä»¥æ‰©å®¹çš„ï¼‰ï¼Œåº•å±‚æ˜¯åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œç„¶åæŠŠåŸæ•°ç»„ä¸­çš„å…ƒç´ å…¨éƒ¨å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­å»ã€‚

![1703209082684](./assets/1703209082684.png)



### 4ï¼ŒLinkedListåº•å±‚åŸç†



LinkedListåº•å±‚æ˜¯é“¾è¡¨ç»“æ„ï¼Œé“¾è¡¨ç»“æ„æ˜¯ç”±ä¸€ä¸ªä¸€ä¸ªçš„èŠ‚ç‚¹ç»„æˆï¼Œä¸€ä¸ªèŠ‚ç‚¹ç”±æ•°æ®å€¼ã€ä¸‹ä¸€ä¸ªå…ƒç´ çš„åœ°å€ç»„æˆã€‚ç‰¹ç‚¹å¦‚ä¸‹ï¼š

- æŸ¥è¯¢æ…¢ï¼Œæ— è®ºæŸ¥è¯¢å“ªä¸ªæ•°æ®éƒ½è¦ä»å¤´å¼€å§‹æ‰¾ã€‚
- å¢åˆ ç›¸å¯¹å¿«ï¼Œåªéœ€è¦åŠ¨ä¸¤ä¸ªæŒ‡é’ˆå°±è¡Œã€‚



é“¾è¡¨ä¹Ÿæ˜¯åˆ†ä¸¤ç§ï¼š

![1701659239408](./assets/1701659239408.png)





LinkedListé›†åˆæ˜¯åŸºäºåŒå‘é“¾è¡¨å®ç°äº†ï¼Œæ‰€ä»¥ç›¸å¯¹äºArrayListæ–°å¢äº†ä¸€äº›å¯ä»¥é’ˆå¯¹å¤´å°¾è¿›è¡Œæ“ä½œçš„æ–¹æ³•ï¼š

- public void addFirst(E e) åœ¨è¯¥åˆ—è¡¨å¼€å¤´æ’å…¥æŒ‡å®šå…ƒç´ 
- public void addLast(E e) åœ¨æŒ‡å®šçš„å…ƒç´ è¿½åŠ åˆ°æ­¤åˆ—è¡¨çš„æœ«å°¾
- public E getFirst() è¿”å›æ­¤åˆ—è¡¨ä¸­çš„ç¬¬1ä¸ªå…ƒç´ 
- public E getLast() è¿”å›æ­¤åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ 
- public E removeFirst() ä»æ­¤åˆ—è¡¨ä¸­åˆ é™¤å¹¶è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ 
- public E removeLast() ä»æ­¤åˆ—è¡¨ä¸­åˆ é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´ 



ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args){

        // LinkedList åº•å±‚åŸç†  åº•å±‚æ˜¯åŸºäºåŒå‘é“¾è¡¨ç»“æ„ï¼Œé“¾è¡¨æ˜¯ç”±ä¸€ä¸ªä¸ªèŠ‚ç‚¹ç»„æˆçš„ï¼Œä¸€ä¸ªèŠ‚ç‚¹ä¸­ï¼ŒåŒ…å«äº†æ•°æ®ï¼Œä¹ŸåŒ…å«äº†åœ°å€
        // LinkedListç‰¹ç‚¹ï¼š
        //    1ï¼‰æŸ¥è¯¢æ…¢ï¼Œä¸ç®¡æ˜¯æ‰¾å“ªä¸ªæ•°æ®ï¼Œéƒ½æ˜¯ä»å¤´å¼€å§‹æ‰¾
        //    2ï¼‰å¢åˆ æ¯”è¾ƒå¿«
        //    3ï¼‰å¢åˆ æ¯”è¾ƒå¿«
        //    4ï¼‰å°è£…äº†é’ˆå¯¹å¤´å°¾æ“ä½œçš„API


        LinkedList<String> list = new LinkedList<>();
        list.add("java01");
        list.add("java02");
        list.add("java03");
        System.out.println(list);

        list.addFirst("vue3");
        list.addLast("vue2");
        System.out.println(list);

        System.out.println(list.getFirst());
        System.out.println(list.getLast());

        list.removeFirst();
        list.removeLast();
        System.out.println(list);
    }
}
```





### 5ï¼ŒLinkedListåº”ç”¨åœºæ™¯



å¯ä»¥ä½¿ç”¨LinkListæ¥è®¾è®¡æ ˆç»“æ„ã€é˜Ÿåˆ—ç»“æ„ã€‚æ ˆå’Œé˜Ÿåˆ—çš„ç‰¹ç‚¹ï¼š

- é˜Ÿåˆ—ç»“æ„ä¸¤ç«¯å¼€å£ï¼Œä¸€ç«¯è¿›ï¼Œä¸€ç«¯å‡º

  ![1701659580086](./assets/1701659580086.png)\

  

- æ ˆç»“æ„çš„ç‰¹ç‚¹æ˜¯å…ˆè¿›åå‡ºï¼Œåè¿›å…ˆå‡º

  ![1701659609228](./assets/1701659609228.png)





ä½¿ç”¨LinkedListæ¨¡æ‹Ÿé˜Ÿåˆ—ç»“æ„ï¼Œå…¥é˜Ÿåˆ—å¯ä»¥è°ƒç”¨LinkedListé›†åˆçš„addLastæ–¹æ³•ï¼Œå‡ºé˜Ÿåˆ—å¯ä»¥è°ƒç”¨removeFirst()æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š

```java
public class Test {
    public static void main(String[] args){

        // LinkedList æ¨¡æ‹Ÿé˜Ÿ1åˆ—

        LinkedList<String> queue = new LinkedList<>();
        // å…¥é˜Ÿ
        queue.addLast("ç¬¬001å·å®¢æˆ·");
        queue.addLast("ç¬¬002å·å®¢æˆ·");
        queue.addLast("ç¬¬003å·å®¢æˆ·");
        queue.addLast("ç¬¬004å·å®¢æˆ·");
        System.out.println(queue);

        // å‡ºé˜Ÿ
        System.out.println(queue.removeFirst());  // 001å…ˆè¿›å»çš„ï¼Œ001å…ˆå‡ºæ¥
        System.out.println(queue.removeFirst());
        System.out.println(queue.removeFirst());
        System.out.println(queue.removeFirst());
    }
}
```



ä½¿ç”¨LinkedListæ¨¡æ‹Ÿæ ˆç»“æ„ï¼Œå¦‚ä¸‹ï¼š

```java
public class Test {
    public static void main(String[] args){

        // LinkedList æ¨¡æ‹Ÿæ ˆ


        LinkedList<String> stack = new LinkedList<>();
        // å…¥æ ˆ  å‹æ ˆ
        stack.push("ç¬¬1é¢—å­å¼¹");
        stack.push("ç¬¬2é¢—å­å¼¹");
        stack.push("ç¬¬3é¢—å­å¼¹");
        stack.push("ç¬¬4é¢—å­å¼¹");
        System.out.println(stack);

        // å‡ºæ ˆ å¼¹æ ˆ
        System.out.println(stack.pop());  // ç¬¬4é¢—å­å¼¹
        System.out.println(stack.pop());  // ç¬¬3é¢—å­å¼¹
        System.out.println(stack.pop());  // ç¬¬2é¢—å­å¼¹
        System.out.println(stack.pop());  // ç¬¬1é¢—å­å¼¹
    }
}
```



## å››ï¼ŒSetç³»åˆ—é›†åˆ



### 1ï¼ŒSeté›†åˆçš„ç‰¹ç‚¹

Seté›†åˆæ˜¯å±äºCollectionä½“ç³»ä¸‹çš„å¦ä¸€ä¸ªåˆ†æ”¯ï¼Œå¦‚ä¸‹å›¾ï¼š

![1701660727028](./assets/1701660727028.png)



Setç³»åˆ—é›†åˆçš„ç‰¹ç‚¹ï¼š

- HashSet: æ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•
- LinkedHashSet: æœ‰åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•
- TreeSet: æ’åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•



ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args){
        // Collection
        //    List
        //      ArrayList
        //      LinkedList
        //    Set  ä¸é‡å¤  æ— ç´¢å¼•
        //      HashSet  æ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•
        //        LinkedHashSet æœ‰åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•
        //      TreeSet  æ’åº  ä¸é‡å¤ï¼Œæ— ç´¢å¼•

        //Set<Integer> set = new HashSet<>();  //æ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•
        //Set<Integer> set = new LinkedHashSet<>();  //æœ‰åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•
        Set<Integer> set = new TreeSet<>();  //å¯ä»¥æ’åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•
        set.add(111);
        set.add(222);
        set.add(333);
        set.add(333);
        set.add(444);
        set.add(444);
        set.add(555);
        System.out.println(set);
    }
}
```







### 2ï¼ŒHashSeté›†åˆåº•å±‚åŸç†

é€šè¿‡äº†è§£HashSetçš„åº•å±‚åŸç†ã€‚æˆ‘ä»¬å¯ä»¥æ›´åŠ é€å½»çš„ç†è§£HashSetä¸ºä»€ä¹ˆå¯ä»¥å»é‡ã€‚HashSeté›†åˆåº•å±‚æ˜¯åŸºäºå“ˆå¸Œè¡¨å®ç°çš„ï¼Œå“ˆå¸Œè¡¨æ ¹æ®JDKç‰ˆæœ¬çš„ä¸åŒï¼Œä¹Ÿæ˜¯æœ‰ç‚¹åŒºåˆ«çš„ï¼š

- JDK8ä»¥å‰ï¼šå“ˆå¸Œè¡¨ = æ•°ç»„+é“¾è¡¨
- JDK8ä»¥åï¼šå“ˆå¸Œè¡¨ = æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘



å¾€HashSeté›†åˆä¸­å­˜å‚¨å…ƒç´ æ—¶ï¼Œåº•å±‚è°ƒç”¨äº†å…ƒç´ çš„ä¸¤ä¸ªæ–¹æ³•ï¼šä¸€ä¸ªæ˜¯hashCodeæ–¹æ³•è·å–å…ƒç´ çš„hashCodeå€¼ï¼ˆå“ˆå¸Œå€¼ï¼‰ï¼›å¦ä¸€ä¸ªæ˜¯è°ƒç”¨äº†å…ƒç´ çš„equalsæ–¹æ³•ï¼Œç”¨æ¥æ¯”è¾ƒæ–°æ·»åŠ çš„å…ƒç´ å’Œé›†åˆä¸­å·²æœ‰çš„å…ƒç´ æ˜¯å¦ç›¸åŒã€‚ 

- åªæœ‰æ–°æ·»åŠ å…ƒç´ çš„hashCodeå€¼å’Œé›†åˆä¸­å·²æœ‰å…ƒç´ çš„hashCodeå€¼ç›¸åŒã€æ–°æ·»åŠ çš„å…ƒç´ è°ƒç”¨equalsæ–¹æ³•å’Œé›†åˆä¸­å·²æœ‰å…ƒç´ æ¯”è¾ƒç»“æœä¸ºtrue, æ‰è®¤ä¸ºå…ƒç´ é‡å¤ã€‚
- å¦‚æœhashCodeå€¼ç›¸åŒï¼Œequalsæ¯”è¾ƒä¸åŒï¼Œåˆ™ä»¥é“¾è¡¨çš„å½¢å¼è¿æ¥åœ¨æ•°ç»„çš„åŒä¸€ä¸ªç´¢å¼•ä¸ºä½ç½®

![1701660991101](./assets/1701660991101.png)





åœ¨JDK8å¼€å§‹åï¼Œä¸ºäº†æé«˜æ€§èƒ½ï¼Œå½“é“¾è¡¨çš„é•¿åº¦è¶…è¿‡8æ—¶ï¼Œå°±ä¼šæŠŠé“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![1701661110211](./assets/1701661110211.png)







### 3ï¼ŒHashSetå»é‡åŸç†



å‰é¢å­¦ä¹ äº†HashSetå­˜å‚¨å…ƒç´ çš„åŸç†ï¼Œä¾èµ–äºä¸¤ä¸ªæ–¹æ³•ï¼šä¸€ä¸ªæ˜¯hashCodeæ–¹æ³•ç”¨æ¥ç¡®å®šåœ¨åº•å±‚æ•°ç»„ä¸­å­˜å‚¨çš„ä½ç½®ï¼Œå¦ä¸€ä¸ªæ˜¯ç”¨equalsæ–¹æ³•åˆ¤æ–­æ–°æ·»åŠ çš„å…ƒç´ æ˜¯å¦å’Œé›†åˆä¸­å·²æœ‰çš„å…ƒç´ ç›¸åŒã€‚è¦æƒ³ä¿è¯åœ¨HashSeté›†åˆä¸­æ²¡æœ‰é‡å¤å…ƒç´ ï¼Œæˆ‘ä»¬éœ€è¦é‡å†™å…ƒç´ ç±»çš„hashCodeå’Œequalsæ–¹æ³•ã€‚æ¯”å¦‚ä»¥ä¸‹é¢çš„Studentç±»ä¸ºä¾‹ï¼Œå‡è®¾æŠŠStudentç±»çš„å¯¹è±¡ä½œä¸ºHashSeté›†åˆçš„å…ƒç´ ï¼Œæƒ³è¦è®©å­¦ç”Ÿçš„å§“åå’Œå¹´é¾„ç›¸åŒï¼Œå°±è®¤ä¸ºå…ƒç´ é‡å¤ã€‚ä»£ç å¦‚ä¸‹ï¼š

```java
class Student{
    private String name;
    private int age;
    private double height;

    public Student() {
    }

    public Student(String name, int age, double height) {
        this.name = name;
        this.age = age;
        this.height = height;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public double getHeight() {
        return height;
    }

    public void setHeight(double height) {
        this.height = height;
    }

    // é‡å†™hashcodeå’Œequalsæ–¹æ³•
    // hashcode æ˜¯ç”¨äºå¾—åˆ°å…ƒç´ çš„hashå€¼ ç”¨äºè®¡ç®—å‡ºè¿™ä¸ªå…ƒç´ åº”è¯¥æ”¾åˆ°æ•°ç»„ä¸­å“ªä¸ªåœ°æ–¹
    // equals ç”¨äºè®¡ç®—è¦å­˜çš„å…ƒç´  å’Œ æ•°ç»„ä¸­å·²å­˜åœ¨çš„å…ƒç´ æ˜¯å¦ç›¸åŒ
    // alt + insert


    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        Student student = (Student) o;
        return age == student.age && name.equals(student.name);
    }

    @Override
    public int hashCode() {
        return Objects.hash(name, age);
    }

    @Override
    public String toString() {
        return "Student{" +
                "name='" + name + '\'' +
                ", age=" + age +
                ", height=" + height +
                '}';
    }
}
```

å†™ä¸€ä¸ªæµ‹è¯•ç±»ï¼Œå¾€HashSeté›†åˆä¸­å­˜å‚¨Studentå¯¹è±¡ã€‚

```java
public class Test {
    public static void main(String[] args){
        // HashSetåº•å±‚æ˜¯åŸºäºå“ˆå¸Œè¡¨å®ç°ï¼Œå“ˆå¸Œè¡¨æ ¹æ®JDKç‰ˆæœ¬ä¸ä¸€æ ·ï¼Œä¹Ÿæ˜¯æœ‰åŒºåˆ«ï¼š
        //   JDK8ä¹‹å‰ï¼šå“ˆå¸Œè¡¨ = æ•°ç»„+é“¾è¡¨
        //   JDK8ä¹‹åï¼šå“ˆå¸Œè¡¨ = æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘

        Set<Student> students = new HashSet<>();

        // å­¦ç”Ÿçš„å§“åä¸€æ ·ï¼Œå¹´é¾„ä¸€æ ·ï¼Œå°±è®¤ä¸ºå…ƒç´ æ˜¯é‡å¤å…ƒç´ 
        Student s1 = new Student("wc", 21, 180);
        Student s2 = new Student("xq", 20, 180);
        Student s3 = new Student("xq", 20, 180);
        Student s4 = new Student("ml", 22, 180);

        students.add(s1);
        students.add(s2);
        students.add(s3);
        students.add(s4);

        //System.out.println(students);
        for (Student s:students){
            System.out.println(s);
        }
    }
}
```



æ‰“å°ç»“æœå¦‚ä¸‹ï¼Œæˆ‘ä»¬å‘ç°å­˜äº†ä¸¤ä¸ªxqï¼Œå½“æ—¶å®é™…æ‰“å°å‡ºæ¥åªæœ‰ä¸€ä¸ªï¼Œè€Œä¸”æ˜¯æ— åºçš„ã€‚

```java
Student{name='ml', age=22, height=180.0}
Student{name='wc', age=21, height=180.0}
Student{name='xq', age=20, height=180.0}
```



### 4ï¼ŒLinkedHashSetåº•å±‚åŸç†

LinkedHashSetç±»æ˜¯HashSetçš„å­ç±»ã€‚LinkedHashSetå®ƒåº•å±‚é‡‡ç”¨çš„æ˜¯ä¹Ÿæ˜¯å“ˆå¸Œè¡¨ç»“æ„ï¼Œåªä¸è¿‡é¢å¤–æ–°å¢äº†ä¸€ä¸ªåŒå‘é“¾è¡¨æ¥ç»´æŠ¤å…ƒç´ çš„å­˜å–é¡ºåºã€‚å¦‚ä¸‹ä¸‹å›¾æ‰€ç¤ºï¼š

![1701661329546](./assets/1701661329546.png)



æ¯æ¬¡æ·»åŠ å…ƒç´ ï¼Œå°±å’Œä¸Šä¸€ä¸ªå…ƒç´ ç”¨åŒå‘é“¾è¡¨è¿æ¥ä¸€ä¸‹ã€‚ç¬¬ä¸€ä¸ªæ·»åŠ çš„å…ƒç´ æ˜¯åŒå‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œæœ€åä¸€ä¸ªæ·»åŠ çš„å…ƒç´ æ˜¯åŒå‘é“¾è¡¨çš„å°¾èŠ‚ç‚¹ã€‚æŠŠä¸Šä¸ªæ¡ˆä¾‹ä¸­çš„é›†åˆæ”¹æˆLinkedListé›†åˆï¼Œæˆ‘ä»¬è§‚å¯Ÿæ•ˆæœæ€æ ·ï¼Œå¦‚ä¸‹ï¼š

```java
public class Test {
    public static void main(String[] args){

        Set<Student> students = new LinkedHashSet<>();

        // å­¦ç”Ÿçš„å§“åä¸€æ ·ï¼Œå¹´é¾„ä¸€æ ·ï¼Œå°±è®¤ä¸ºå…ƒç´ æ˜¯é‡å¤å…ƒç´ 
        Student s1 = new Student("wc", 21, 180);
        Student s2 = new Student("xq", 20, 180);
        Student s3 = new Student("xq", 20, 180);
        Student s4 = new Student("ml", 22, 180);

        students.add(s1);
        students.add(s2);
        students.add(s3);
        students.add(s4);

        for (Student s:students){
            System.out.println(s);
        }
    }
}
```



æ‰“å°ç»“æœå¦‚ä¸‹ï¼š

```java
Student{name='wc', age=21, height=180.0}
Student{name='xq', age=20, height=180.0}
Student{name='ml', age=22, height=180.0}
```







### 5ï¼ŒTreeSeté›†åˆ

TreeSeté›†åˆçš„ç‰¹ç‚¹æ˜¯å¯ä»¥å¯¹å…ƒç´ è¿›è¡Œæ’åºï¼Œä½†æ˜¯å¿…é¡»æŒ‡å®šå…ƒç´ çš„æ’åºè§„åˆ™ã€‚å¦‚æœå¾€é›†åˆä¸­å­˜å‚¨Stringç±»å‹çš„å…ƒç´ ï¼Œæˆ–è€…Integerç±»å‹çš„å…ƒç´ ï¼Œå®ƒä»¬æœ¬èº«å°±å…·å¤‡æ’åºè§„åˆ™ï¼Œæ‰€ä»¥ç›´æ¥å°±å¯ä»¥æ’åºã€‚ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args){

        // TreeSet é›†åˆ  å¯ä»¥å¯¹å…ƒç´ è¿›è¡Œæ’åºï¼Œå¯ä»¥æŒ‡å®šæ’åºè§„åˆ™
        //  å¦‚æœæ˜¯intç±»å‹ï¼Œæˆ–Stringç±»å‹ï¼Œæœ¬èº«å°±å…·å¤‡æ’åºè§„åˆ™

        Set<Integer> set1= new TreeSet<>();
        set1.add(8);
        set1.add(6);
        set1.add(4);
        set1.add(3);
        set1.add(7);
        set1.add(1);
        set1.add(5);
        set1.add(2);
        System.out.println(set1); //[1,2,3,4,5,6,7,8]

        Set<String> set2= new TreeSet<>();
        set2.add("a");
        set2.add("c");
        set2.add("e");
        set2.add("b");
        set2.add("d");
        set2.add("f");
        set2.add("g");
        System.out.println(set2); //[a,b,c,d,e,f,g]
    }
}
```



å¦‚æœå¾€TreeSeté›†åˆä¸­å­˜å‚¨è‡ªå®šä¹‰ç±»å‹çš„å…ƒç´ ï¼Œæ¯”å¦‚è¯´Studentç±»å‹ï¼Œåˆ™éœ€è¦æˆ‘ä»¬è‡ªå·±æŒ‡å®šæ’åºè§„åˆ™ï¼Œå¦åˆ™ä¼šå‡ºç°å¼‚å¸¸ã€‚ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args){

        Set<Student> set1= new TreeSet<>();

        Student s1 = new Student("wc", 18, 188.5);
        Student s2 = new Student("xq", 8, 118.5);
        Student s3 = new Student("ml", 28, 138.5);
        Student s4 = new Student("z3", 21, 178.5);
        Student s5 = new Student("w5", 19, 158.5);

        set1.add(s1);
        set1.add(s2);
        set1.add(s3);
        set1.add(s4);
        set1.add(s5);
    }
}
```



æ­¤æ—¶è¿è¡Œä»£ç ï¼Œä¼šç›´æ¥æŠ¥é”™ã€‚åŸå› æ˜¯TreeSetä¸çŸ¥é“æŒ‰ç…§ä»€ä¹ˆæ¡ä»¶å¯¹Studentå¯¹è±¡æ¥æ’åºã€‚å¦‚ä¸‹ï¼š

![1703214226206](./assets/1703214226206.png)



æˆ‘ä»¬æƒ³è¦å‘Šè¯‰TreeSeté›†åˆæŒ‰ç…§æŒ‡å®šçš„è§„åˆ™æ’åºï¼Œæœ‰ä¸¤ç§åŠæ³•ï¼š

- ç¬¬ä¸€ç§ï¼šè®©å…ƒç´ çš„ç±»å®ç°Comparableæ¥å£ï¼Œé‡å†™compareToæ–¹æ³•
- ç¬¬äºŒç§ï¼šåœ¨åˆ›å»ºTreeSeté›†åˆæ—¶ï¼Œé€šè¿‡æ„é€ æ–¹æ³•ä¼ é€’Compartoræ¯”è¾ƒå™¨å¯¹è±¡



æ¼”ç¤ºç¬¬ä¸€ç§æ’åºæ–¹å¼ï¼Œå¦‚ä¸‹ï¼š

```java
class Student implements Comparable<Student>{
    private String name;
    private int age;
    private double height;

    public Student() {
    }

    public Student(String name, int age, double height) {
        this.name = name;
        this.age = age;
        this.height = height;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public double getHeight() {
        return height;
    }

    public void setHeight(double height) {
        this.height = height;
    }

    // é‡å†™hashcodeå’Œequalsæ–¹æ³•
    // hashcode æ˜¯ç”¨äºå¾—åˆ°å…ƒç´ çš„hashå€¼ ç”¨äºè®¡ç®—å‡ºè¿™ä¸ªå…ƒç´ åº”è¯¥æ”¾åˆ°æ•°ç»„ä¸­å“ªä¸ªåœ°æ–¹
    // equals ç”¨äºè®¡ç®—è¦å­˜çš„å…ƒç´  å’Œ æ•°ç»„ä¸­å·²å­˜åœ¨çš„å…ƒç´ æ˜¯å¦ç›¸åŒ
    // alt + insert


    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        Student student = (Student) o;
        return age == student.age && name.equals(student.name);
    }

    @Override
    public int hashCode() {
        return Objects.hash(name, age);
    }

    @Override
    public String toString() {
        return "Student{" +
                "name='" + name + '\'' +
                ", age=" + age +
                ", height=" + height +
                '}';
    }

    @Override
    public int compareTo(Student o) {
        // this o
        // thisè¡¨ç¤ºå°†è¦æ·»åŠ åˆ°é›†åˆä¸­çš„å¯¹è±¡   oè¡¨ç¤ºé›†åˆä¸­å·²å­˜å‚¨çš„å¯¹è±¡
        // å½“è°ƒç”¨addæ–¹æ³•æ—¶ï¼Œåº•å±‚ä¼šè°ƒç”¨compareToï¼Œè¿™ä¸ªæ–¹æ³•æ ¹æ®ç»“æœæ˜¯æ­£æ•°ï¼Œæˆ–è´Ÿæ•°ï¼Œæˆ–æ˜¯0å†³å®šæ–°å…ƒç´ æ˜¯æ”¾åœ¨è€å…ƒç´ åé¢ï¼Œè¿˜æ˜¯å‰é¢ï¼Œè¿˜æ˜¯ä¸å­˜ã€‚
        return this.age - o.age;
    }
}
```

æ­¤æ—¶ï¼Œå†è¿è¡Œæµ‹è¯•ç±»ï¼Œç»“æœå¦‚ä¸‹

```java
public class Test {
    public static void main(String[] args){

        Set<Student> set1= new TreeSet<>();

        Student s1 = new Student("wc", 18, 188.5);
        Student s2 = new Student("xq", 8, 118.5);
        Student s3 = new Student("ml", 28, 138.5);
        Student s4 = new Student("z3", 21, 178.5);
        Student s5 = new Student("w5", 19, 158.5);

        set1.add(s1);
        set1.add(s2);
        set1.add(s3);
        set1.add(s4);
        set1.add(s5);

        for (Student s: set1){
            System.out.println(s);
        }
    }
}
```

![1703214603052](./assets/1703214603052.png)



æ¼”ç¤ºç¬¬äºŒç§æ’åºæ–¹å¼ï¼Œå¦‚ä¸‹ï¼š

```java
public class Test {
    public static void main(String[] args){

        Set<Student> set1= new TreeSet<>(new Comparator<Student>() {
            @Override
            public int compare(Student o1, Student o2) {
                return Double.compare(o1.getHeight(), o2.getHeight());
            }
        });

        Student s1 = new Student("wc", 18, 188.5);
        Student s2 = new Student("xq", 8, 118.5);
        Student s3 = new Student("ml", 28, 138.5);
        Student s4 = new Student("z3", 21, 178.5);
        Student s5 = new Student("w5", 19, 158.5);

        set1.add(s1);
        set1.add(s2);
        set1.add(s3);
        set1.add(s4);
        set1.add(s5);

        for (Student s: set1){
            System.out.println(s);
        }
    }
}
```



![1703214709451](./assets/1703214709451.png)



å†æ€»ç»“ä¸€ä¸ªé›†åˆï¼š

- å•åˆ—é›†åˆ
  - Collectionæ¥å£
    - Listæ¥å£
      - ArrayListå®ç°ç±»    æœ‰åºçš„ï¼Œå¯é‡å¤çš„ï¼Œæœ‰ç´¢å¼•ã€‚åº•å±‚æ˜¯åŸºäºæ•°ç»„çš„ã€‚
      - LinkedListå®ç°ç±»    æœ‰åºçš„ï¼Œå¯é‡å¤çš„ï¼Œæœ‰ç´¢å¼•ã€‚åº•å±‚æ˜¯åŸºäºåŒå‘é“¾è¡¨çš„ã€‚
    - Setæ¥å£
      - HashSetå®ç°ç±»    æ— åºçš„ï¼Œä¸é‡å¤çš„ï¼Œæ— ç´¢å¼•çš„ã€‚åº•å±‚æ˜¯åŸºäºå“ˆå¸Œè¡¨å®ç°ã€‚jdk8ä¹‹åï¼šæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘
        - LinkedHashSetå®ç°ç±»  æœ‰åºçš„ï¼Œä¸é‡å¤çš„ï¼Œæ— ç´¢å¼•çš„ã€‚åº•å±‚æ˜¯åŸºäºå“ˆå¸Œè¡¨å®ç°ã€‚å­˜å‚¨çš„å…ƒç´ ä¹‹é—´æœ‰åŒå‘é“¾è¡¨ç»‘å®šé¡ºåºã€‚
      - TreeSetå®ç°ç±»  å¯ä»¥æ ¹æ®æ’åºè§„åˆ™è¿›è¡Œæ’åºï¼Œä¸é‡å¤çš„ï¼Œæ— ç´¢å¼•çš„ã€‚
- åŒåˆ—é›†åˆ





### 7ï¼Œå¹¶å‘ä¿®æ”¹å¼‚å¸¸

åœ¨ä½¿ç”¨è¿­ä»£å™¨éå†é›†åˆæ—¶ï¼Œå¯èƒ½å­˜åœ¨å¹¶å‘ä¿®æ”¹å¼‚å¸¸ã€‚æ¼”ç¤ºä¸€ä¸‹è¿™ä¸ªå¼‚å¸¸ï¼š

```java
public class Test {
    public static void main(String[] args){

        List<String> list = new ArrayList<>();
        list.add("wc");
        list.add("xq");
        list.add("ml");
        list.add("w5");
        System.out.println(list);

        // æ‰¾åˆ°ä»¥wæ‰“å¤´çš„äººåï¼Œä»é›†åˆä¸­åˆ é™¤æ‰
        Iterator<String> it = list.iterator();
        while (it.hasNext()){
            //System.out.println(it.next());
            String name = it.next();
            if(name.contains("w")){
                list.remove(name);
            }
        }
        System.out.println(list);
    }
}
```



è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œä¼šå‡ºç°ä¸‹é¢çš„å¼‚å¸¸ï¼š

![1703215391806](./assets/1703215391806.png)



ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªå¼‚å¸¸å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºè¿­ä»£å™¨éå†æœºåˆ¶ï¼Œè§„å®šè¿­ä»£å™¨éå†é›†åˆçš„åŒæ—¶ï¼Œä¸å…è®¸é›†åˆè‡ªå·±å»å¢åˆ å…ƒç´ ï¼Œå¦åˆ™å°±ä¼šå‡ºç°è¿™ä¸ªå¼‚å¸¸ã€‚æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿä¸ä½¿ç”¨é›†åˆçš„åˆ é™¤æ–¹æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨è¿­ä»£å™¨çš„åˆ é™¤æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
public class Test {
    public static void main(String[] args){

        List<String> list = new ArrayList<>();
        list.add("wc");
        list.add("xq");
        list.add("ml");
        list.add("w5");
        System.out.println(list);

        // æ‰¾åˆ°ä»¥wæ‰“å¤´çš„äººåï¼Œä»é›†åˆä¸­åˆ é™¤æ‰
        Iterator<String> it = list.iterator();
        while (it.hasNext()){
            //System.out.println(it.next());
            String name = it.next();
            if(name.contains("w")){
                // åœ¨ä½¿ç”¨è¿­ä»£å™¨éå†é›†åˆæ—¶ï¼Œæ˜¯ä¸èƒ½è‡ªå·±å»åˆ é™¤å…ƒç´ çš„ï¼Œå¦åˆ™å°±æœ‰å¼‚å¸¸
                // å¦‚æœç¡®å®è¦åˆ é™¤ï¼Œä¸è¦ä½¿ç”¨é›†åˆçš„åˆ é™¤æ–¹æ³•ï¼Œè¦ä½¿ç”¨è¿­ä»£å™¨çš„åˆ é™¤æ–¹æ³•
                //list.remove(name);  // remove æ˜¯é›†åˆçš„åˆ é™¤æ–¹æ³•
                it.remove();  // it.remove æ˜¯è¿­ä»£å™¨çš„åˆ é™¤æ–¹æ³•  è¡¨ç¤ºå½“å‰è¿­ä»£å™¨æŒ‡å‘è°å°±åˆ é™¤è°
            }
        }
        System.out.println(list);
    }
}
```





## äº”ï¼ŒCollectionå…¶å®ƒæ“ä½œ



å‰é¢æˆ‘ä»¬å·²ç»æŠŠCollectionå®¶æ—çš„é›†åˆéƒ½å­¦ä¹ å®Œäº†ã€‚ä¸ºäº†æ›´åŠ æ–¹ä¾¿çš„å¯¹Collectioné›†åˆè¿›è¡Œæ“ä½œï¼Œä»Šå¤©æˆ‘ä»¬è¿˜è¦å­¦ä¹ ä¸€ä¸ªæ“ä½œCollectioné›†åˆçš„å·¥å…·ç±»ï¼Œå«åšCollectionsã€‚ä½†æ˜¯Collectionså·¥å…·ç±»ä¸­éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ²¡æœ‰å­¦è¿‡çš„å°çŸ¥è¯†ç‚¹ï¼Œå«åšå¯å˜å‚æ•°ï¼Œæ‰€ä»¥å¿…é¡»å…ˆå­¦ä¹ è¿™ä¸ªå‰ç½®çŸ¥è¯†å¯å˜å‚æ•°ï¼Œå†å­¦ä¹ Collectionså·¥å…·ç±»ï¼Œæœ€åå†åˆ©ç”¨è¿™ä¸ªå·¥å…·ç±»åšä¸€ä¸ªç»¼åˆæ¡ˆä¾‹ã€‚



### 1ï¼Œå¯å˜å‚æ•°

å¯å˜å‚æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„å½¢å¼å‚æ•°ï¼Œå®šä¹‰åœ¨æ–¹æ³•ã€æ„é€ å™¨çš„å½¢å‚åˆ—è¡¨å¤„ï¼Œå®ƒå¯ä»¥è®©æ–¹æ³•æ¥æ”¶å¤šä¸ªåŒç±»å‹çš„å®é™…å‚æ•°ã€‚å¯å˜å‚æ•°åœ¨æ–¹æ³•å†…éƒ¨ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args){

        // æ²¡æœ‰ä¼ å‚  numsé•¿åº¦æ˜¯0  æ‰“å°å‡ºæ¥çš„æ˜¯[]
        test001();

        // ä¼ äº†4ä¸ªå‚æ•°   numsé•¿åº¦æ˜¯4  æ‰“å°å‡ºæ¥çš„æ˜¯[10, 20, 30, 40]
        test001(10,20,30,40);

        // ä¼ äº†6ä¸ªå‚æ•°   numsé•¿åº¦æ˜¯6  æ‰“å°å‡ºæ¥çš„æ˜¯[10, 20, 30, 40,50,60]
        test001(10,20,30,40,50,60);

        // ä¼ äº†ä¸€ä¸ªæ•°ç»„   numsé•¿åº¦æ˜¯9  æ‰“å°å‡ºæ¥çš„æ˜¯[1, 2, 3, 4, 5, 6, 7, 8, 9]
        int[] arr = {1,2,3,4,5,6,7,8,9};
        test001(arr);

        test002(1,2,3,4,5);
    }

    // ...numsè¡¨ç¤ºå¯å˜å‚æ•°  numsæœ¬è´¨æ˜¯ä¸€ä¸ªæ•°ç»„
    //  ä¸€ä¸ªå½¢å‚åˆ—è¡¨ä¸­ï¼Œåªèƒ½æœ‰ä¸€ä¸ªå¯å˜å‚æ•°
    // å¦‚æœå½¢å‚åˆ—è¡¨ä¸­é™¤äº†å¯å˜å‚æ•°ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶å®ƒå‚æ•°ï¼Œé‚£ä¹ˆå¯å˜å‚æ•°éœ€è¦å†™åˆ°æœ€å
    public static void test001(int...nums){
        System.out.println(nums.length);
        System.out.println(Arrays.toString(nums));
        System.out.println("-------------");
    }
    public static void test002(int a, int b, int...nums){
        System.out.println(nums.length);
        System.out.println(Arrays.toString(nums));
        System.out.println("-------------");
    }
}
```



æ³¨æ„ç‚¹ï¼ˆå¤§å®¶è‡ªè¡Œå†™ä»£ç æ¼”ç¤ºï¼‰ï¼š

- ä¸€ä¸ªå½¢å‚åˆ—è¡¨ä¸­ï¼Œåªèƒ½æœ‰ä¸€ä¸ªå¯å˜å‚æ•°ï¼›å¦åˆ™ä¼šæŠ¥é”™
- ä¸€ä¸ªå½¢å‚åˆ—è¡¨ä¸­å¦‚æœå¤šä¸ªå‚æ•°ï¼Œå¯å˜å‚æ•°éœ€è¦å†™åœ¨æœ€åï¼›å¦åˆ™ä¼šæŠ¥é”™



### 2ï¼ŒCollectionså·¥å…·ç±»

Collectionså¹¶ä¸æ˜¯é›†åˆï¼Œå®ƒæ¯”Collectionå¤šäº†ä¸€ä¸ªsï¼Œä¸€èˆ¬åç¼€ä¸ºsçš„ç±»å¾ˆå¤šéƒ½æ˜¯å·¥å…·ç±»ã€‚è¿™é‡Œçš„Collectionsæ˜¯ç”¨æ¥æ“ä½œCollectionçš„å·¥å…·ç±»ã€‚å®ƒæä¾›äº†ä¸€äº›å¥½ç”¨çš„é™æ€æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š

![1701670804405](./assets/1701670804405.png)



ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args){

        ArrayList<String> list = new ArrayList<>();
        Collections.addAll(list,"wc","xq","ml","w5");
        System.out.println(list);

        // shuffle æŠŠé›†åˆä¸­çš„å…ƒç´ æ‰“ä¹±
        Collections.shuffle(list);
        System.out.println(list);

        List<Integer> list2 = new ArrayList<>();
        list2.add(3);
        list2.add(5);
        list2.add(2);
        Collections.sort(list2);
        System.out.println(list2);
    }
}
```



ä¸Šé¢æˆ‘ä»¬å¾€é›†åˆä¸­å­˜å‚¨çš„å…ƒç´ è¦ä¹ˆæ˜¯Stirngç±»å‹ï¼Œè¦ä¹ˆæ˜¯Integerç±»å‹ï¼Œä»–ä»¬æœ¬æ¥å°±æœ‰ä¸€ç§è‡ªç„¶é¡ºåºæ‰€ä»¥å¯ä»¥ç›´æ¥æ’åºã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬å¾€Listé›†åˆä¸­å­˜å‚¨Studentå¯¹è±¡ï¼Œè¿™ä¸ªæ—¶å€™æƒ³è¦å¯¹Listé›†åˆè¿›è¡Œæ’åºè‡ªå®šä¹‰æ¯”è¾ƒè§„åˆ™çš„ã€‚æŒ‡å®šæ’åºè§„åˆ™æœ‰ä¸¤ç§æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š

- æ’åºæ–¹å¼1ï¼šè®©å…ƒç´ å®ç°Comparableæ¥å£ï¼Œé‡å†™compareToæ–¹æ³•
- æ’åºæ–¹å¼2ï¼šä½¿ç”¨è°ƒç”¨sortæ–¹æ³•æ˜¯ï¼Œä¼ é€’æ¯”è¾ƒå™¨



æ’åºæ–¹å¼1ï¼šè®©å…ƒç´ å®ç°Comparableæ¥å£ï¼Œé‡å†™compareToæ–¹æ³•

```java
public class Student implements Comparable<Student>{
    private String name;
    private int age;
    private double height;
    
     //æ’åºæ—¶ï¼šåº•å±‚ä¼šè‡ªåŠ¨è°ƒç”¨æ­¤æ–¹æ³•ï¼Œthiså’Œoè¡¨ç¤ºéœ€è¦æ¯”è¾ƒçš„ä¸¤ä¸ªå¯¹è±¡
    @Override
    public int compareTo(Student o){
        //éœ€æ±‚ï¼šæŒ‰ç…§å¹´é¾„å‡åºæ’åº
        //å¦‚æœè¿”å›æ­£æ•°ï¼šè¯´æ˜å·¦è¾¹å¯¹è±¡çš„å¹´é¾„>å³è¾¹å¯¹è±¡çš„å¹´é¾„
        //å¦‚æœè¿”å›è´Ÿæ•°ï¼šè¯´æ˜å·¦è¾¹å¯¹è±¡çš„å¹´é¾„<å³è¾¹å¯¹è±¡çš„å¹´é¾„ï¼Œ
        //å¦‚æœè¿”å›0ï¼šè¯´æ˜å·¦è¾¹å¯¹è±¡çš„å¹´é¾„å’Œå³è¾¹å¯¹è±¡çš„å¹´é¾„ç›¸åŒ
        return this.age - o.age;
    }
    
    //...getterã€setterã€constructor..
}
```

ç„¶åå†ä½¿ç”¨`Collections.sort(listé›†åˆ)`å¯¹Listé›†åˆæ’åºï¼Œå¦‚ä¸‹ï¼š

```java
Collections.sort(students);	
```



æ’åºæ–¹å¼2ï¼šä½¿ç”¨è°ƒç”¨sortæ–¹æ³•æ˜¯ï¼Œä¼ é€’æ¯”è¾ƒå™¨

```java
Collections.sort(students, new Comparator<Student>(){
    @Override
    public int compare(Student o1, Student o2){
        return o1.getAge()-o2.getAge();
    }
});	
System.out.println(students);
```



### 3ï¼Œæ–—åœ°ä¸»æ¡ˆä¾‹

æˆ‘ä»¬å…ˆåˆ†æä¸€ä¸‹ä¸šåŠ¡éœ€æ±‚ï¼š

- æ€»å…±æœ‰54å¼ ç‰Œï¼Œæ¯ä¸€å¼ ç‰Œæœ‰èŠ±è‰²å’Œç‚¹æ•°ä¸¤ä¸ªå±æ€§ã€ä¸ºäº†æ’åºè¿˜å¯ä»¥å†åŠ ä¸€ä¸ªåºå·
- ç‚¹æ•°å¯ä»¥æ˜¯ï¼š`â€œ3â€,"4","5","6","7","8","9","10","J","Q","K","A","2"`
- èŠ±è‰²å¯ä»¥æ˜¯ï¼š`â€œâ™£â€,"â™ ","â™¥","â™¦"`
- æ–—åœ°ä¸»æ—¶ï¼šä¸‰ä¸ªç©å®¶æ¯äººæ‰‹é‡Œ17å¼ ç‰Œï¼Œå‰©ä½™3å¼ ç‰Œä½œä¸ºåº•ç‰Œ



ç¬¬ä¸€æ­¥ï¼šä¸ºäº†è¡¨ç¤ºæ¯ä¸€å¼ ç‰Œæœ‰å“ªäº›å±æ€§ï¼Œé¦–å…ˆåº”è¯¥æ–°å»ºä¸€ä¸ªæ‰‘å…‹ç‰Œçš„ç±»(å®šä¹‰ä¸€ä¸ªæ‰‘å…‹ç±»Card)

```java
package com.malu.hello;

public class Card {
    private String number;
    private String color;
    private int size;  // æ¯å¼ ç‰Œçš„å¤§å°

    public Card() {
    }

    public Card(String number, String color, int size) {
        this.number = number;
        this.color = color;
        this.size = size;
    }

    public String getNumber() {
        return number;
    }

    public void setNumber(String number) {
        this.number = number;
    }

    public String getColor() {
        return color;
    }

    public void setColor(String color) {
        this.color = color;
    }

    public int getSize() {
        return size;
    }

    public void setSize(int size) {
        this.size = size;
    }

    @Override
    public String toString() {
        return color + number;
    }
}
```



ç¬¬äºŒæ­¥ï¼šå¯åŠ¨æ¸¸æˆæ—¶ï¼Œå°±åº”è¯¥æå‰å‡†å¤‡å¥½54å¼ ç‰Œ(å®šä¹‰ä¸€ä¸ªæˆ¿é—´ç±»ï¼Œåˆå§‹åŒ–æˆ¿é—´æ—¶å‡†å¤‡å¥½54å¼ ç‰Œ)

```java
package com.malu.hello;

import java.util.ArrayList;
import java.util.Collections;

public class Room {
    // ä¸€ä¸ªæˆ¿é—´ä¸­å¿…é¡»æœ‰ä¸€å‰¯ç‰Œ
    private  ArrayList<Card> allCards = new ArrayList<>();

    public Room() {
        // ç‚¹æ•°
        String[] numbers = {"3","4","5","6","7","8","9","10","J","Q","K","A","2"};
        // èŠ±è‰²
        String[] colors = {"â™ ", "â™¥", "â™£", "â™¦"};
        // å¤§å°
        int size = 0;

        for (String number : numbers) {
            size++;
            for(String color : colors){
                Card c = new Card(number, color, size);
                allCards.add(c); // æŠŠç‰Œæ”¾æ”¾åˆ°é›†åˆä¸­
            }
        }
        
        Card c1 = new Card("",  "ğŸƒ" , ++size);
        Card c2 = new Card("", "ğŸ‘²" , ++size);
        Collections.addAll(allCards,c1,c2);

        System.out.println("æ–°ç‰Œï¼š"+allCards);
    }
}
```



ç¬¬ä¸‰æ­¥ï¼šå®šä¹‰ä¸€ä¸ªå¯åŠ¨æ¸¸æˆçš„æ–¹æ³•ï¼Œå®Œæˆæ´—ç‰Œã€å‘ç‰Œã€æ‹ç‰Œã€çœ‹ç‰Œçš„ä¸šåŠ¡é€»è¾‘

```java
 // å¯åŠ¨æ¸¸æˆ
public void start(){
    // 1ï¼Œæ´—ç‰Œ
    Collections.shuffle(allCards);
    System.out.println("æ´—ç‰Œåï¼š"+allCards);

    // 2ï¼Œå‘ç‰Œ
    ArrayList<Card> wc = new ArrayList<>();
    ArrayList<Card> xq = new ArrayList<>();
    ArrayList<Card> ml = new ArrayList<>();
    for (int i = 0; i < allCards.size() - 3; i++) {
        Card c = allCards.get(i);
        if(i % 3 == 0){
            wc.add(c);
        }else if(i % 3 == 1){
            xq.add(c);
        }else if(i % 3 == 2){
            ml.add(c);
        }
    }

    // 3ï¼Œæ’åº
    sortCards(wc);
    sortCards(xq);
    sortCards(ml);

    // 4ï¼Œçœ‹ç‰Œ
    System.out.println("wcçš„ç‰Œï¼š"+wc);
    System.out.println("xqçš„ç‰Œï¼š"+xq);
    System.out.println("mlçš„ç‰Œï¼š"+ml);

    // åº•ç‰Œ
    List<Card> lastThreeCards = allCards.subList(allCards.size() - 3, allCards.size());
    System.out.println("åº•ç‰Œï¼š"+lastThreeCards);

    ml.addAll(lastThreeCards);
    sortCards(ml);
    System.out.println("mlæŠ¢åˆ°åœ°ä¸»äº†ï¼š"+ml);
}

private void sortCards(List<Card> cards){
    Collections.sort(cards, new Comparator<Card>() {
        @Override
        public int compare(Card o1, Card o2) {
            //return o2.getSize() - o1.getSize();  // é™åº
            return o1.getSize() - o2.getSize();  // å‡åº
        }
    });
}
```



æµ‹è¯•ç±»ï¼Œå¦‚ä¸‹ï¼š

```java
public class Test {
    public static void main(String[] args){
        Room room = new Room();
        room.start();
    }
}
```





## å…­ï¼ŒMapé›†åˆ



### 1ï¼ŒMapä»‹ç»

Mapæ˜¯åŒåˆ—é›†åˆï¼Œå°±æ˜¯è¯´é›†åˆä¸­çš„å…ƒç´ æ˜¯ä¸€å¯¹ä¸€å¯¹çš„ã€‚Mapé›†åˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ æ˜¯ä»¥`key=value`çš„å½¢å¼å­˜åœ¨çš„ï¼Œä¸€ä¸ª`key=value`å°±ç§°ä¹‹ä¸ºä¸€ä¸ªé”®å€¼å¯¹ï¼Œè€Œä¸”åœ¨Javaä¸­æœ‰ä¸€ä¸ªç±»å«Entryç±»ï¼ŒEntryçš„å¯¹è±¡ç”¨æ¥è¡¨ç¤ºé”®å€¼å¯¹å¯¹è±¡ã€‚æ‰€æœ‰çš„Mapé›†åˆæœ‰å¦‚ä¸‹çš„ç‰¹ç‚¹ï¼šé”®ä¸èƒ½é‡å¤ï¼Œå€¼å¯ä»¥é‡å¤ï¼Œæ¯ä¸€ä¸ªé”®åªèƒ½æ‰¾åˆ°è‡ªå·±å¯¹åº”çš„å€¼ã€‚



ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args){
        // Mapæ˜¯ä¸€ä¸ªæ¥å£
        //    HashMap   ç”¨çš„æœ€å¤š   æ— åºçš„ï¼Œä¸é‡å¤çš„ï¼Œæ— ç´¢å¼•çš„
        //       LinkedHashMap    æœ‰åºçš„ï¼Œä¸é‡å¤çš„ï¼Œæ— ç´¢å¼•çš„
        //    TreeMap  å¯æ’åºçš„ï¼Œä¸é‡å¤çš„ï¼Œæ— ç´¢å¼•çš„

        // mapé›†åˆä¸­å­˜å‚¨çš„é”®å€¼å¯¹
        //   é”®çš„keyï¼Œé”®æ˜¯ä¸èƒ½é‡å¤çš„    å€¼æ˜¯valueï¼Œå€¼æ˜¯å¯ä»¥é‡å¤çš„
        // åœ¨javaä¸­æœ‰ä¸€ä¸ªç±»ï¼Œå«Entryç±»  Entryæ‰€å¯¹åº”çš„å¯¹è±¡å°±æ˜¯é”®å€¼å¯¹å¯¹è±¡

        // æ— åºçš„ï¼Œä¸é‡å¤çš„ï¼Œæ— ç´¢å¼•çš„  æ˜¯é’ˆå¯¹é”®æ¥è¯´çš„ã€‚
        //HashMap<String,String> map = new HashMap<>();
        HashMap<String,String> map = new LinkedHashMap<>();
        map.put("å‰ç«¯","vue");
        // å¦‚æœé”®ä¸€æ ·ï¼Œåé¢çš„ä¼šæŠŠå‰é¢çš„è¦†ç›–æ‰
        map.put("åç«¯","java01");
        map.put("åç«¯","java02");
        map.put(null,"ok");
        map.put(null,null);
        System.out.println(map);

        TreeMap<String,String> map2 = new TreeMap<>();
        // å­—ç¬¦ä¸²å’Œæ•°å­—æœ‰é»˜è®¤çš„æ’åºè§„åˆ™
        map2.put("ok","1");
        map2.put("ok","1");
        map2.put("bad","2");
        map2.put("java","3");
        map2.put("fe","4");
        System.out.println(map2);
    }
}
```



Mapé›†åˆä¹Ÿæœ‰å¾ˆå¤šç§ï¼Œåœ¨Javaä¸­ä½¿ç”¨ä¸åŒçš„ç±»æ¥è¡¨ç¤ºçš„ï¼Œæ¯ä¸€ç§Mapé›†åˆå…¶é”®çš„ç‰¹ç‚¹æ˜¯æœ‰äº›å·®å¼‚çš„ï¼Œå€¼æ˜¯é”®çš„ä¸€ä¸ªé™„å±å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬åªå…³æ³¨é”®çš„ç‰¹ç‚¹å°±å¯ä»¥äº†ã€‚

![1701671442452](./assets/1701671442452.png)





Mapé›†åˆçš„ç‰¹ç‚¹ï¼ˆç”±é”®å†³å®šçš„ï¼Œå€¼åªæ˜¯ä¸€ä¸ªé™„å±å“ï¼Œå€¼æ˜¯ä¸åšè¦æ±‚çš„ï¼‰ï¼š

- HashMapï¼šæ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ï¼Œç”¨çš„æœ€å¤šã€‚
- LinkedHashMapï¼šæœ‰åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ã€‚
- TreeMapï¼šæŒ‰ç…§å¤§å°é»˜è®¤å‡åºæ’åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ã€‚





### 2ï¼ŒMapé›†åˆå¸¸ç”¨æ–¹æ³•

Mapæ˜¯æ‰€æœ‰åŒåˆ—é›†åˆçš„çˆ¶æ¥å£ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å­¦ä¹ Mapæ¥å£ä¸­æ¯ä¸€ä¸ªæ–¹æ³•æ˜¯ä»€ä¹ˆå«ä¹‰ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„Mapé›†åˆæ–¹æ³•ä½ å°±éƒ½ä¼šç”¨äº†ã€‚

![1701671619580](./assets/1701671619580.png)



ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args){

        // æ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•
        HashMap<String,Integer> map = new HashMap<>();
        map.put("æ‰‹æœº",1000);
        map.put("æ‰‹æœº",3000);
        map.put("ç”µè„‘",2000);
        map.put("æ‰‹è¡¨",500);
        map.put("Javaä¹¦",66);
        System.out.println(map);

        // è·å–é›†åˆçš„å¤§å°
        System.out.println(map.size());

        // æ¸…ç©ºé›†åˆ
        //map.clear();
        //System.out.println(map);

        //åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºè¿”å›true ,åä¹‹ï¼
        System.out.println(map.isEmpty());

        // æ ¹æ®é”®è·å–æŸä¸ªå€¼
        Integer v1 = map.get("æ‰‹æœº");
        System.out.println(v1);
        System.out.println(map.get("æ‰‹è¡¨"));
        System.out.println(map.get("Javaä¹¦"));

        //æ ¹æ®é”®åˆ é™¤æ•´ä¸ªå…ƒç´ (åˆ é™¤é”®ä¼šè¿”å›é”®çš„å€¼)
        System.out.println(map.remove("æ‰‹è¡¨"));
        System.out.println(map);

        // åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªé”®
        System.out.println(map.containsKey("æ‰‹è¡¨"));
        System.out.println(map.containsKey("æ‰‹æœº"));

        // åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªå€¼
        System.out.println(map.containsValue(3000));
        System.out.println(map.containsValue(66));
        System.out.println(map.containsValue(88));

        // è·å–æ‰€æœ‰çš„é”®
        Set<String> keys = map.keySet();
        System.out.println(keys);

        // è·å–æ‰€æœ‰çš„å€¼
        Collection<Integer> values = map.values();
        System.out.println(values);

        // å¯ä»¥æŠŠä¸€ä¸ªé›†åˆä¸­çš„æ•°æ®å€’å…¥åˆ°å¦ä¸€ä¸ªé›†åˆä¸­
        Map<String, Integer> map1 = new HashMap<>();
        map1.put("java1",  10);
        map1.put("java2",  20);
        Map<String, Integer> map2 = new HashMap<>();
        map2.put("java3",  10);
        map2.put("java2",  222);
        map1.putAll(map2);
        System.out.println(map1);
        System.out.println(map2);
    }
}
```







### 3ï¼ŒMapé›†åˆéå†



Mapé›†åˆçš„éå†æ–¹å¼1ï¼šé”®æ‰¾å€¼ã€‚ ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args){

        Map<String,Integer> map = new HashMap<>();
        map.put("æ‰‹æœº",1000);
        map.put("ç”µè„‘",2000);
        map.put("æ‰‹è¡¨",500);
        map.put("Javaä¹¦",66);
        System.out.println(map);

        // å¾—åˆ°mapé›†åˆä¸­çš„æ‰€æœ‰çš„é”®
        Set<String> keys = map.keySet();
        System.out.println(keys);
        for (String key : keys) {
            System.out.println(key + "===>" + map.get(key));
        }
    }
}
```



Mapé›†åˆçš„éå†æ–¹å¼2ï¼šç›´æ¥è·å–æ¯ä¸€ä¸ªEntryå¯¹è±¡ï¼ŒæŠŠEntryå­˜å‚¨æ‰«Seté›†åˆä¸­å»ï¼Œå†é€šè¿‡Entryå¯¹è±¡è·å–é”®å’Œå€¼ã€‚

```java
public class Test {
    public static void main(String[] args){

        Map<String,Integer> map = new HashMap<>();
        map.put("æ‰‹æœº",1000);
        map.put("ç”µè„‘",2000);
        map.put("æ‰‹è¡¨",500);
        map.put("Javaä¹¦",66);
        System.out.println(map);

        // entrySet æŠŠmapé›†åˆè½¬åŒ–æˆé”®å€¼å¯¹ç±»å‹çš„Seté›†åˆ
        // Map.Entry<String, Integer>
        // Map.Entry æ˜¯ä¸€ç§ç±»å‹ é”®å€¼å¯¹ç±»å‹
        Set<Map.Entry<String, Integer>> entries = map.entrySet();
        System.out.println(entries);

        // entryè¡¨ç¤ºä¸€ä¸ªé”®å€¼å¯¹ å¯¹è±¡
        for (Map.Entry<String, Integer> entry : entries) {
            String key = entry.getKey();
            Integer value = entry.getValue();
            System.out.println(key+"===>"+value);
        }
    }
}
```



Mapé›†åˆçš„éå†æ–¹å¼3ï¼šforEach

```java
public class Test {
    public static void main(String[] args){

        Map<String,Integer> map = new HashMap<>();
        map.put("æ‰‹æœº",1000);
        map.put("ç”µè„‘",2000);
        map.put("æ‰‹è¡¨",500);
        map.put("Javaä¹¦",66);
        System.out.println(map);

        map.forEach(new BiConsumer<String, Integer>() {
            @Override
            public void accept(String k, Integer v) {
                System.out.println(k+"===>"+v);
            }
        });

        // ä½¿ç”¨lambdaè¡¨è¾¾å¼è¿›è¡Œç®€å†™
        map.forEach((k, v)-> System.out.println(k+"===>"+v));
    }
}
```





### 4ï¼ŒMapé›†åˆæ¡ˆä¾‹



æ¡ˆä¾‹ï¼šæŸä¸ªç­çº§æœ‰80åå­¦ç”Ÿï¼Œç°åœ¨éœ€è¦ç»„ç»‡ç§‹æ¸¸æ´»åŠ¨ï¼Œç­é•¿æä¾›äº†å››ä¸ªæ™¯ç‚¹ï¼Œä¾æ¬¡æ˜¯Aï¼ŒBï¼ŒCï¼ŒDã€‚æ¯ä¸ªå­¦ç”Ÿåªèƒ½é€‰æ‹©ä¸€ä¸ªæ™¯ç‚¹ï¼Œè¯·ç»Ÿè®¡å‡ºæœ€ç»ˆå“ªä¸ªæ™¯ç‚¹æƒ³å»çš„äººæ•°æœ€å¤šã€‚



åˆ†æï¼š

1. é¦–å…ˆå¯ä»¥å°†80ä¸ªå­¦ç”Ÿé€‰æ‹©çš„æ™¯ç‚¹æ”¾åˆ°ä¸€ä¸ªé›†åˆä¸­å»ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œé›†åˆä¸­çš„å…ƒç´ æ˜¯80ä¸ªä»»æ„çš„ABCDå…ƒç´ ï¼‰
2. å‡†å¤‡ä¸€ä¸ªMapé›†åˆç”¨æ¥å­˜å‚¨æ™¯ç‚¹ï¼Œä»¥åŠæ™¯ç‚¹è¢«é€‰æ‹©çš„æ¬¡æ•°
3. éå†80ä¸ªå­¦ç”Ÿé€‰æ‹©æ™¯ç‚¹çš„é›†åˆï¼Œå¾—åˆ°æ¯ä¸€ä¸ªæ™¯ç‚¹ï¼Œåˆ¤æ–­Mapé›†åˆä¸­æ˜¯å¦åŒ…å«è¯¥æ™¯ç‚¹
   a. å¦‚æœä¸åŒ…å«ï¼Œåˆ™å­˜å‚¨"æ™¯ç‚¹=1"
   b. å¦‚æœåŒ…å«ï¼Œåˆ™å­˜è·å–è¯¥æ™¯ç‚¹åŸå…ˆçš„å€¼ï¼Œå†å­˜å‚¨"æ™¯ç‚¹=åŸæ¥çš„å€¼+1"; æ­¤æ—¶æ–°å€¼ä¼šè¦†ç›–æ—§å€¼



ä»£ç å¦‚ä¸‹ï¼š

```java
public class Test {
    public static void main(String[] args){

        // A  B  C  D
        // 80ä¸ªå­¦ç”Ÿ

        // å¯é‡å¤
        ArrayList<String> list = new ArrayList<>();

        String[] selects = {"A","B","C","D"};
        Random rd = new Random();
        for (int i = 1; i <=80; i++) {
            // å¾ªç¯ä¸€æ¬¡ï¼Œå°±è¡¨ç¤ºä¸€ä¸ªå­¦ç”Ÿé€‰æ‹©äº†ä¸€ä¸ªæ™¯ç‚¹ï¼Œå­˜å…¥åˆ°é›†åˆä¸­
            int index = rd.nextInt(4); // 0 1 2 3
            list.add(selects[index]);
        }

        System.out.println(list);

        Map<String, Integer> map = new HashMap<>();
        for (String s : list) {
            if(map.containsKey(s)){
                map.put(s,map.get(s)+1);
            }else{
                // è¯´æ˜è¿™ä¸ªæ™¯ç‚¹æ˜¯ç¬¬1æ¬¡ç»Ÿè®¡ï¼Œå­˜å…¥ æ™¯ç‚¹=1
                map.put(s,1);
            }
        }
        System.out.println(map);
    }
}
```





### 5ï¼ŒHashMap

Mapæ¥å£ä¸‹é¢æœ‰ä¸‰ä¸ªå®ç°ç±»HashMapã€LinkedHashMapã€TreeMapã€‚å®é™…ä¸Šè¿™ä¸‰ä¸ªå®ç°ç±»å¹¶æ²¡æœ‰ä»€ä¹ˆç‰¹æœ‰æ–¹æ³•éœ€è¦æˆ‘ä»¬å­¦ä¹ ï¼Œå®ƒä»¬çš„æ–¹æ³•å°±æ˜¯å‰é¢å­¦ä¹ Mapçš„æ–¹æ³•ã€‚è¿™é‡Œæˆ‘ä»¬ä¸»è¦å­¦ä¹ å®ƒä»¬çš„åº•å±‚åŸç†ã€‚



å‰é¢æˆ‘ä»¬å­¦ä¹ è¿‡HashSetçš„åº•å±‚åŸç†ï¼Œå®é™…ä¸ŠHashMapåº•å±‚åŸç†å’ŒHashSetæ˜¯ä¸€æ ·çš„ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬å¾€HashSeté›†åˆä¸­æ·»åŠ å…ƒç´ æ—¶ï¼Œå®é™…ä¸Šæ˜¯æŠŠå…ƒç´ ä½œä¸ºæ·»åŠ æ·»åŠ åˆ°äº†HashMapé›†åˆä¸­ã€‚ä¸‹é¢æ˜¯Mapé›†åˆçš„ä½“ç³»ç»“æ„ï¼ŒHashMapé›†åˆçš„ç‰¹ç‚¹æ˜¯ç”±é”®å†³å®šçš„ï¼š **å®ƒçš„é”®æ˜¯æ— åºã€ä¸èƒ½é‡å¤ï¼Œè€Œä¸”æ²¡æœ‰ç´¢å¼•çš„**ã€‚å†å„ç§Mapé›†åˆä¸­ä¹Ÿæ˜¯ç”¨å¾—æœ€å¤šçš„ä¸€ç§é›†åˆã€‚

![1701672336841](./assets/1701672336841.png)



HashMapçš„ç‰¹ç‚¹ï¼š

- æ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ï¼Œç”¨çš„æœ€å¤šã€‚





HashSetåº•å±‚å°±æ˜¯HashMapï¼Œåˆ›å»ºHashSeté›†åˆæ—¶ï¼Œåº•å±‚å¸®ä½ åˆ›å»ºäº†HashMapé›†åˆï¼›å¾€HashSeté›†åˆä¸­æ·»åŠ æ·»åŠ å…ƒç´ æ—¶ï¼Œåº•å±‚å´æ˜¯è°ƒç”¨äº†Mapé›†åˆçš„putæ–¹æ³•æŠŠå…ƒç´ ä½œä¸ºäº†é”®æ¥å­˜å‚¨ã€‚æ‰€ä»¥å®é™…ä¸Šæ ¹æœ¬æ²¡æœ‰ä»€ä¹ˆHashSeté›†åˆï¼ŒæŠŠHashMapçš„é›†åˆçš„å€¼å¿½ç•¥ä¸çœ‹å°±æ˜¯HashSeté›†åˆã€‚HashSetçš„åŸç†æˆ‘ä»¬ä¹‹å‰å·²ç»å­¦è¿‡äº†ï¼Œæ‰€ä»¥HashMapæ˜¯ä¸€æ ·çš„ï¼Œåº•å±‚æ˜¯å“ˆå¸Œè¡¨ç»“æ„ã€‚

![1701672453342](./assets/1701672453342.png)



HashMapåº•å±‚æ•°æ®ç»“æ„: å“ˆå¸Œè¡¨ç»“æ„

- JDK8ä¹‹å‰çš„å“ˆå¸Œè¡¨ = æ•°ç»„+é“¾è¡¨
- JDK8ä¹‹åçš„å“ˆå¸Œè¡¨ = æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘
- å“ˆå¸Œè¡¨æ˜¯ä¸€ç§å¢åˆ æ”¹æŸ¥æ•°æ®ï¼Œæ€§èƒ½ç›¸å¯¹éƒ½è¾ƒå¥½çš„æ•°æ®ç»“æ„



å¾€HashMapé›†åˆä¸­å­˜å‚¨é”®å€¼å¯¹æ•°æ®æ—¶ï¼Œåº•å±‚æ­¥éª¤å¦‚ä¸‹

- ç¬¬1æ­¥ï¼šå½“ä½ ç¬¬ä¸€æ¬¡å¾€HashMapé›†åˆä¸­å­˜å‚¨é”®å€¼å¯¹æ—¶ï¼Œåº•å±‚ä¼šåˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º16çš„æ•°ç»„
- ç¬¬2æ­¥ï¼šå°†é”®å’Œå€¼å°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œå«åšEntryå¯¹è±¡
- ç¬¬3æ­¥ï¼šå†æ ¹æ®Entryå¯¹è±¡çš„é”®è®¡ç®—hashCodeå€¼ï¼ˆå’Œå€¼æ— å…³ï¼‰
- ç¬¬4æ­¥ï¼šåˆ©ç”¨hashCodeå€¼å’Œæ•°ç»„çš„é•¿åº¦åšä¸€ä¸ªç±»ä¼¼æ±‚ä½™æ•°çš„ç®—æ³•ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªç´¢å¼•ä½ç½®
- ç¬¬5æ­¥ï¼šåˆ¤æ–­è¿™ä¸ªç´¢å¼•çš„ä½ç½®æ˜¯å¦ä¸ºnullï¼Œå¦‚æœä¸ºnull,å°±ç›´æ¥å°†è¿™ä¸ªEntryå¯¹è±¡å­˜å‚¨åˆ°è¿™ä¸ªç´¢å¼•ä½ç½®ã€‚å¦‚æœä¸ä¸ºnullï¼Œåˆ™è¿˜éœ€è¦è¿›è¡Œç¬¬6æ­¥çš„åˆ¤æ–­
- ç¬¬6æ­¥ï¼šç»§ç»­è°ƒç”¨equalsæ–¹æ³•åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡é”®æ˜¯å¦ç›¸åŒã€‚å¦‚æœequalsè¿”å›falseï¼Œåˆ™ä»¥é“¾è¡¨çš„å½¢å¼å¾€ä¸‹æŒ‚ã€‚å¦‚æœequalsæ–¹æ³•true,åˆ™è®¤ä¸ºé”®é‡å¤ï¼Œæ­¤æ—¶æ–°çš„é”®å€¼å¯¹ä¼šæ›¿æ¢å°±çš„é”®å€¼å¯¹ã€‚



HashMapåº•å±‚éœ€è¦æ³¨æ„è¿™å‡ ç‚¹ï¼š

- åº•å±‚æ•°ç»„é»˜è®¤é•¿åº¦ä¸º16ï¼Œå¦‚æœæ•°ç»„ä¸­æœ‰è¶…è¿‡12ä¸ªä½ç½®å·²ç»å­˜å‚¨äº†å…ƒç´ ï¼Œåˆ™ä¼šå¯¹æ•°ç»„è¿›è¡Œæ‰©å®¹2å€ã€‚æ•°ç»„æ‰©å®¹çš„åŠ è½½å› å­æ˜¯0.75ï¼Œæ„æ€æ˜¯ï¼š16*0.75=12 	
- æ•°ç»„çš„åŒä¸€ä¸ªç´¢å¼•ä½ç½®æœ‰å¤šä¸ªå…ƒç´ ã€å¹¶ä¸”åœ¨8ä¸ªå…ƒç´ ä»¥å†…(åŒ…æ‹¬8)ï¼Œåˆ™ä»¥é“¾è¡¨çš„å½¢å¼å­˜å‚¨
  - JDK7ç‰ˆæœ¬ï¼šé“¾è¡¨é‡‡ç”¨å¤´æ’æ³•ï¼ˆæ–°å…ƒç´ å¾€é“¾è¡¨çš„å¤´éƒ¨æ·»åŠ ï¼‰
  - JDK8ç‰ˆæœ¬ï¼šé“¾è¡¨é‡‡ç”¨å°¾æ’æ³•ï¼ˆæ–°å…ƒç´ æˆ‘é‚£ä¸ªé“¾è¡¨çš„å°¾éƒ¨æ·»åŠ ï¼‰
- æ•°ç»„çš„åŒä¸€ä¸ªç´¢å¼•ä½ç½®æœ‰å¤šä¸ªå…ƒç´ ã€å¹¶ä¸”è¶…è¿‡äº†8ä¸ªï¼Œåˆ™ä»¥çº¢é»‘æ ‘å½¢å¼å­˜å‚¨





ä»HashMapåº•å±‚å­˜å‚¨é”®å€¼å¯¹çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬å‘ç°ï¼šå†³å®šé”®æ˜¯å¦é‡å¤ä¾èµ–ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯hashCodeæ–¹æ³•ã€ä¸€ä¸ªæ˜¯equalsæ–¹æ³•ã€‚æœ‰ä¸¤ä¸ªé”®è®¡ç®—å¾—åˆ°çš„hashCodeå€¼ç›¸åŒï¼Œå¹¶ä¸”ä¸¤ä¸ªé”®ä½¿ç”¨equalsæ¯”è¾ƒä¸ºtrueï¼Œå°±è®¤ä¸ºé”®é‡å¤ã€‚æ‰€ä»¥ï¼Œå¾€Mapé›†åˆä¸­å­˜å‚¨è‡ªå®šä¹‰å¯¹è±¡ä½œä¸ºé”®ï¼Œä¸ºäº†ä¿è¯é”®çš„å”¯ä¸€æ€§ï¼Œæˆ‘ä»¬åº”è¯¥é‡å†™hashCodeæ–¹æ³•å’Œequalsæ–¹æ³•ã€‚æœ‰å¦‚ä¸‹æ¡ˆä¾‹ï¼šå¾€HashMapé›†åˆä¸­å­˜å‚¨Studentå¯¹è±¡ä½œä¸ºé”®ï¼Œå­¦ç”Ÿçš„å®¶åº­ä½å€å½“åšå€¼ã€‚è¦æ±‚ï¼Œå½“å­¦ç”Ÿå¯¹è±¡çš„å§“åå’Œå¹´é¾„ç›¸åŒæ—¶å°±è®¤ä¸ºé”®é‡å¤ã€‚

```java
class Student{
    private String name;
    private int age;
    private double height;

    public Student() {
    }

    public Student(String name, int age, double height) {
        this.name = name;
        this.age = age;
        this.height = height;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public double getHeight() {
        return height;
    }

    public void setHeight(double height) {
        this.height = height;
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        Student student = (Student) o;
        return age == student.age && name.equals(student.name);
    }

    @Override
    public int hashCode() {
        return Objects.hash(name, age);
    }

    @Override
    public String toString() {
        return "Student{" +
                "name='" + name + '\'' +
                ", age=" + age +
                ", height=" + height +
                '}';
    }
}
```

åœ¨æµ‹è¯•ç±»ä¸­ï¼Œåˆ›å»ºHashMapé›†åˆï¼Œé”®æ˜¯Studentç±»å‹ï¼Œå€¼æ˜¯Stirngç±»å‹

```java
public class Test {
    public static void main(String[] args){

        // HashMap
        //  é”®æ˜¯æ— åºçš„ï¼Œä¸èƒ½é‡å¤ï¼Œæ²¡æœ‰ç´¢å¼•çš„ã€‚åœ¨æ‰€æœ‰çš„Mapé›†åˆä¸­ï¼ŒHashMapæ˜¯ç”¨çš„æœ€å¤šçš„ã€‚
        //  å‰é¢è¯´è¿‡HashSetçš„åº•å±‚åŸç†ï¼ŒHashMapçš„åº•å±‚åŸç†å’ŒHashSetæ˜¯ä¸€æ ·çš„ã€‚æ˜¯åŸºäºå“ˆå¸Œè¡¨çš„ã€‚
        //  HashSet set = new HashSet<>();  set.add("java");
        //  HashSetæ˜¯å•åˆ—é›†åˆ   HashMapæ˜¯é‡åŒåˆ—é›†åˆ
        //  new HashSet åº•å±‚ä¹Ÿæ˜¯å»new HashMapçš„ã€‚ å­˜å‚¨çš„æ•°æ®ï¼Œæ˜¯å­˜å‚¨åˆ°äº†HashMapçš„é”®è¿™ä¸ªä½ç½®
        // JDK8ä¹‹å‰ï¼šå“ˆå¸Œè¡¨ = æ•°ç»„+é“¾è¡¨
        // JDK8ä¹‹åï¼šå“ˆå¸Œè¡¨ = æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘
        // å“ˆå¸Œè¡¨æ˜¯ä¸€ç§CRUDæ•°æ®ï¼Œæ€§èƒ½éƒ½æ¯”è¾ƒå¥½çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚

        Map<Student, String> map = new HashMap<>();
        map.put(new Student("wc",28,188),"beijing");
        map.put(new Student("xq",18,188),"shanghai");
        map.put(new Student("xq",18,188),"shanghai");
        map.put(new Student("ml",19,188),"shenzhen");
        //System.out.println(map);

        map.forEach(new BiConsumer<Student, String>() {
            @Override
            public void accept(Student student, String s) {
                System.out.println(student + "===>" + s);
            }
        });
    }
}
```



ä¸Šé¢å­˜å‚¨çš„é”®ï¼Œæœ‰ä¸¤ä¸ªxqï¼Œä½†æ˜¯æ‰“å°å‡ºåªä¼šæœ‰æœ€åä¸€ä¸ªï¼Œå¦‚ä¸‹ï¼š

![1703232642447](./assets/1703232642447.png)







### 6ï¼ŒLinkedHashMap

LinkedHashMapé›†åˆçš„ç‰¹ç‚¹ä¹Ÿæ˜¯ç”±é”®å†³å®šçš„ï¼š**æœ‰åºçš„ã€ä¸é‡å¤ã€æ— ç´¢å¼•**ã€‚

![1701673969426](./assets/1701673969426.png)



ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args) {
        // LinkedHashMap  æœ‰åºçš„  ä¸é‡å¤  æ— ç´¢å¼•
        HashMap<String,Integer> map = new LinkedHashMap<>();
        map.put("æ‰‹æœº",1000);
        map.put("ç”µè„‘",2000);
        map.put("æ‰‹è¡¨",500);
        map.put("Javaä¹¦",66);
        System.out.println(map);
    }
}
```



è¿è¡Œä¸Šé¢ä»£ç å‘ç°ï¼Œå¦‚æœæ˜¯LinedHashMapé›†åˆé”®å­˜å‚¨å’Œå–å‡ºçš„é¡ºåºæ˜¯ä¸€æ ·çš„ï¼Œå¦‚ä¸‹ï¼š

![1703232800067](./assets/1703232800067.png)



å¦‚æœæ˜¯HashMapï¼Œé”®å­˜å‚¨å’Œå–å‡ºçš„é¡ºåºæ˜¯ä¸ä¸€è‡´çš„ï¼Œå¦‚ä¸‹ï¼š

![1703232824439](./assets/1703232824439.png)



LinkedHashMapçš„åº•å±‚åŸç†ï¼Œå’ŒLinkedHashSetåº•å±‚åŸç†æ˜¯ä¸€æ ·çš„ã€‚åº•å±‚å¤šä¸ªä¸€ä¸ªåŒå‘é“¾è¡¨æ¥ç»´æŠ¤é”®çš„å­˜å‚¨é¡ºåºã€‚å–å…ƒç´ æ—¶ï¼Œå…ˆå–å¤´èŠ‚ç‚¹å…ƒç´ ï¼Œç„¶åå†ä¾æ¬¡å–ä¸‹ä¸€ä¸ªå‡ ç‚¹ï¼Œä¸€ç›´åˆ°å°¾ç»“ç‚¹ã€‚æ‰€ä»¥æ˜¯æœ‰åºçš„ã€‚

![1701674084259](./assets/1701674084259.png)







### 7ï¼ŒTreeMap

TreeMapé›†åˆçš„ç‰¹ç‚¹ä¹Ÿæ˜¯ç”±é”®å†³å®šçš„ï¼Œé»˜è®¤æŒ‰ç…§é”®çš„å‡åºæ’åˆ—ï¼Œé”®ä¸é‡å¤ï¼Œä¹Ÿæ˜¯æ— ç´¢å¼•çš„ã€‚

![1701674123501](./assets/1701674123501.png)



TreeMapé›†åˆçš„åº•å±‚åŸç†å’ŒTreeSetä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œåº•å±‚éƒ½æ˜¯çº¢é»‘æ ‘å®ç°çš„ã€‚æ‰€ä»¥å¯ä»¥å¯¹é”®è¿›è¡Œæ’åºã€‚æ¯”å¦‚å¾€TreeMapé›†åˆä¸­å­˜å‚¨Studentå¯¹è±¡ä½œä¸ºé”®ï¼Œæ’åºæ–¹æ³•æœ‰ä¸¤ç§ã€‚

- æ’åºæ–¹å¼1ï¼šå†™ä¸€ä¸ªStudentç±»ï¼Œè®©Studentç±»å®ç°Comparableæ¥å£
- æ’åºæ–¹å¼2ï¼šåœ¨åˆ›å»ºTreeMapé›†åˆæ—¶ï¼Œç›´æ¥ä¼ é€’Comparatoræ¯”è¾ƒå™¨å¯¹è±¡ã€‚



æ’åºæ–¹å¼1ï¼šå†™ä¸€ä¸ªStudentç±»ï¼Œè®©Studentç±»å®ç°Comparableæ¥å£

```java
class Student implements Comparable<Student>{
    private String name;
    private int age;
    private double height;

    public Student() {
    }

    public Student(String name, int age, double height) {
        this.name = name;
        this.age = age;
        this.height = height;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public double getHeight() {
        return height;
    }

    public void setHeight(double height) {
        this.height = height;
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        Student student = (Student) o;
        return age == student.age && name.equals(student.name);
    }

    @Override
    public int hashCode() {
        return Objects.hash(name, age);
    }

    @Override
    public String toString() {
        return "Student{" +
                "name='" + name + '\'' +
                ", age=" + age +
                ", height=" + height +
                '}';
    }

    @Override
    public int compareTo(Student o) {
        return this.age - o.age;  // å‡åº
    }
}
```



æ’åºæ–¹å¼2ï¼šåœ¨åˆ›å»ºTreeMapé›†åˆæ—¶ï¼Œç›´æ¥ä¼ é€’Comparatoræ¯”è¾ƒå™¨å¯¹è±¡ã€‚

```java
public class Test {
    public static void main(String[] args) {
        // TreeMap  æ ¹æ®é”®è¿›è¡Œæ’åº  ä¸é‡å¤  æ— ç´¢å¼•
        // TreeMapçš„åº•å±‚åŸç†å’ŒTreeSetæ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯é€šè¿‡çº¢é»‘æ ‘å®ç°çš„ã€‚

        TreeMap<Student, String> map = new TreeMap<>((o1, o2)->
                 Double.compare(o1.getAge(), o2.getAge())
        );

        map.put(new Student("wc",28,188),"beijing");
        map.put(new Student("xq",18,188),"shanghai");
        map.put(new Student("xq",18,188),"shanghai");
        map.put(new Student("ml",19,188),"shenzhen");

        map.forEach(new BiConsumer<Student, String>() {
            @Override
            public void accept(Student student, String s) {
                System.out.println(student + "==>" + s);
            }
        });
    }
}
```

æ³¨æ„ï¼šåªæœ‰TreeMapçš„é”®æ‰èƒ½æ’åºï¼ŒHashMapé”®ä¸èƒ½æ’åºã€‚



### 8ï¼Œé›†åˆåµŒå¥—

æŠŠä¸€ä¸ªé›†åˆå½“åšå…ƒç´ ï¼Œå­˜å‚¨åˆ°å¦ä¸€ä¸ªé›†åˆä¸­å»ï¼Œæˆ‘ä»¬æŠŠè¿™ç§ç”¨æ³•ç§°ä¹‹ä¸ºé›†åˆåµŒå¥—ã€‚éœ€æ±‚ï¼šåœ¨ç¨‹åºä¸­è®°ä½å¦‚ä¸‹çœä»½å’Œå…¶å¯¹åº”çš„åŸå¸‚ä¿¡æ¯ï¼Œè®°å½•æˆåŠŸåï¼Œè¦æ±‚å¯ä»¥æŸ¥è¯¢å‡ºæ¹–åŒ—çœçš„åŸå¸‚ä¿¡æ¯ã€‚

```java
/**
 * æ±Ÿè‹çœ = "å—äº¬å¸‚","æ‰¬å·å¸‚","è‹å·å¸‚â€œ,"æ— é”¡å¸‚","å¸¸å·å¸‚"
 * æ¹–åŒ—çœ = "æ­¦æ±‰å¸‚","å­æ„Ÿå¸‚","åå °å¸‚","å®œæ˜Œå¸‚","é„‚å·å¸‚"
 * æ²³åŒ—çœ = "çŸ³å®¶åº„å¸‚","å”å±±å¸‚", "é‚¢å°å¸‚", "ä¿å®šå¸‚", "å¼ å®¶å£å¸‚"
 */
```



åˆ†æï¼š

1. ä»éœ€æ±‚ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæœ‰ä¸‰ä¸ªçœä»½ï¼Œæ¯ä¸€ä¸ªçœä»½æœ‰å¤šä¸ªåŸå¸‚ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªMapé›†åˆçš„é”®è¡¨ç¤ºçœä»½åç§°ï¼Œè€Œå€¼è¡¨ç¤ºçœä»½æœ‰å“ªäº›åŸå¸‚
2. åˆå› ä¸ºä¸€ä¸ªèº«ä»½æœ‰å¤šä¸ªåŸå¸‚ï¼ŒåŒä¸€ä¸ªçœä»½çš„å¤šä¸ªåŸå¸‚å¯ä»¥å†ç”¨ä¸€ä¸ªListé›†åˆæ¥å­˜å‚¨ã€‚æ‰€ä»¥Mapé›†åˆçš„é”®æ˜¯Stringç±»å‹ï¼Œè€ŒæŒ‡æ˜¯Listé›†åˆç±»å‹



ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args) {
        /**
         * æ±Ÿè‹çœ = "å—äº¬å¸‚","æ‰¬å·å¸‚","è‹å·å¸‚â€œ,"æ— é”¡å¸‚","å¸¸å·å¸‚"
         * æ¹–åŒ—çœ = "æ­¦æ±‰å¸‚","å­æ„Ÿå¸‚","åå °å¸‚","å®œæ˜Œå¸‚","é„‚å·å¸‚"
         * æ²³åŒ—çœ = "çŸ³å®¶åº„å¸‚","å”å±±å¸‚", "é‚¢å°å¸‚", "ä¿å®šå¸‚", "å¼ å®¶å£å¸‚"
         */

        // é›†åˆåµŒå¥—

        ArrayList<String> cities1 = new ArrayList<>();
        Collections.addAll(cities1,"å—äº¬å¸‚","æ‰¬å·å¸‚","è‹å·å¸‚","æ— é”¡å¸‚","å¸¸å·å¸‚");

        ArrayList<String> cities2 = new ArrayList<>();
        Collections.addAll(cities2,"æ­¦æ±‰å¸‚","å­æ„Ÿå¸‚","åå °å¸‚","å®œæ˜Œå¸‚","é„‚å·å¸‚");

        ArrayList<String> cities3 = new ArrayList<>();
        Collections.addAll(cities3,"çŸ³å®¶åº„å¸‚","å”å±±å¸‚", "é‚¢å°å¸‚", "ä¿å®šå¸‚", "å¼ å®¶å£å¸‚");

        HashMap<String, List<String>> map = new HashMap<>();
        map.put("æ±Ÿè‹çœ",cities1);
        map.put("æ¹–åŒ—çœ",cities2);
        map.put("æ²³åŒ—çœ",cities3);

        List<String> cites = map.get("æ²³åŒ—çœ");
        for (String cite : cites) {
            System.out.println(cite);
        }
        
        System.out.println("--------------");

        map.forEach((p,c)->{
            System.out.println(p+"===>"+c);
        });
    }
}
```



## ä¸ƒï¼ŒStreamæµ



### 1ï¼Œä»€ä¹ˆæ˜¯Streamæµ

Streamæµæ˜¯JDK8ä»¥åæ‰æœ‰çš„ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œæ˜¯ä¸“ä¸šç”¨äºå¯¹é›†åˆæˆ–è€…æ•°ç»„è¿›è¡Œä¾¿æ·æ“ä½œçš„ã€‚éœ€æ±‚ï¼šæœ‰ä¸€ä¸ªListé›†åˆï¼Œå…ƒç´ æœ‰`"é‚“åŠ›å¤«","è’²å‰å­","å½­é›…çª","åˆ˜å¼º","ç‹å½¬ç„±", "åˆ˜å¤§çŠ¶"`ï¼Œæ‰¾å‡ºå§“åˆ˜ï¼Œä¸”æ˜¯3ä¸ªå­—çš„åå­—ï¼Œå­˜å…¥åˆ°ä¸€ä¸ªæ–°é›†åˆä¸­å»ã€‚



ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args) {

        // Streamæµ  è®©æˆ‘ä»¬å¯¹æ•°ç»„å’Œé›†åˆåšä¾¿æ·æ“ä½œ

        ArrayList<String> names = new ArrayList<>();
        Collections.addAll(names,"é‚“åŠ›å¤«","è’²å‰å­","å½­é›…çª","åˆ˜å¼º","ç‹å½¬ç„±", "åˆ˜å¤§çŠ¶");
        System.out.println(names);

        List<String> newList = new ArrayList<>();
        for (String name : names) {
            if(name.startsWith("åˆ˜") && name.length() == 3){
                newList.add(name);
            }
        }
        System.out.println(newList);

    }
}
```



ç”¨Streamæµæ¥åšï¼Œä»£ç æ˜¯è¿™æ ·çš„ï¼š

```java
public class Test {
    public static void main(String[] args) {

        // Streamæµ  è®©æˆ‘ä»¬å¯¹æ•°ç»„å’Œé›†åˆåšä¾¿æ·æ“ä½œ

        ArrayList<String> names = new ArrayList<>();
        Collections.addAll(names,"é‚“åŠ›å¤«","è’²å‰å­","å½­é›…çª","åˆ˜å¼º","ç‹å½¬ç„±", "åˆ˜å¤§çŠ¶");
        System.out.println(names);

        // è·å–åˆ°æµ å¾—åˆ°æµåï¼Œå°±å¯ä»¥è¿›è¡Œæµæ“ä½œ
        // filter æ˜¯æµçš„ä¸­é—´æ“ä½œ ä¸­é—´æ“ä½œæœ‰å¾ˆå¤šçš„API
        // ç»ˆç»“æµ  toArray()
        Object[] arr1 = names.stream().filter(s -> s.startsWith("åˆ˜")).filter(s->s.length() == 3).toArray();
        System.out.println(Arrays.toString(arr1));

    }
}
```



å­¦ä¹ Streamæµçš„æ­¥éª¤ï¼š

![1701674642834](./assets/1701674642834.png)







### 2ï¼ŒStreamæµçš„åˆ›å»º



å¦‚ä½•åˆ›å»ºStreamæµï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•è·å–Streamæµã€‚å››ç§Streamæµçš„è·å–ï¼š

1. å¦‚ä½•è·å–Listé›†åˆçš„Streamæµï¼Ÿ
2. å¦‚ä½•è·å–Seté›†åˆçš„Streamæµï¼Ÿ
3. å¦‚ä½•è·å–Mapé›†åˆçš„Streamæµï¼Ÿ
4. å¦‚ä½•è·å–æ•°ç»„çš„Streamæµï¼Ÿ



ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args) {

        ArrayList<String> names = new ArrayList<>();
        Collections.addAll(names,"é‚“åŠ›å¤«","è’²å‰å­","å½­é›…çª","åˆ˜å¼º","ç‹å½¬ç„±", "åˆ˜å¤§çŠ¶");
        System.out.println(names);

        // Stream å°±æ˜¯æµå¯¹åº”çš„ç±»   è·å–ArrayListå¯¹åº”çš„æµ
        Stream<String> stream = names.stream();

        // è·å–Setå¯¹åº”çš„æµ
        HashSet<String> set = new HashSet<String>();
        Collections.addAll(set,"é‚“åŠ›å¤«","è’²å‰å­","å½­é›…çª","åˆ˜å¼º","ç‹å½¬ç„±", "åˆ˜å¤§çŠ¶");
        Stream<String> stream1 = set.stream();
        stream1.filter(s->s.contains("å¼º")).forEach(s-> System.out.println(s));

        
        // æ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•
        HashMap<String,Integer> map = new HashMap<>();
        map.put("æ‰‹æœº",1000);
        map.put("ç”µè„‘",2000);
        map.put("æ‰‹è¡¨",500);
        map.put("Javaä¹¦",66);

        // è·å–Mapä¸­é”®æ‰€å¯¹åº”çš„æµ
        Set<String> keys = map.keySet();
        Stream<String> stream2 = keys.stream();

        // è·å–Mapä¸­å€¼æ‰€å¯¹åº”çš„æµ
        Collection<Integer> values = map.values();
        Stream<Integer> stream3 = values.stream();


        Set<Map.Entry<String, Integer>> entries = map.entrySet();
        Stream<Map.Entry<String, Integer>> stream4 = entries.stream();
        
        String[] arr = {"é‚“åŠ›å¤«","è’²å‰å­","å½­é›…çª","åˆ˜å¼º","ç‹å½¬ç„±", "åˆ˜å¤§çŠ¶"};
        Stream<String> stream5 = Arrays.stream(arr);
        Stream<String> stream6 = Stream.of(arr);
    }
}
```





### 3ï¼ŒStreamæµä¸­é—´æ–¹æ³•

ä¸­é—´æ–¹æ³•æŒ‡çš„æ˜¯ï¼šè°ƒç”¨å®Œæ–¹æ³•ä¹‹åå…¶ç»“æœæ˜¯ä¸€ä¸ªæ–°çš„Streamæµï¼Œäºæ˜¯å¯ä»¥ç»§ç»­è°ƒç”¨æ–¹æ³•ï¼Œè¿™æ ·ä¸€æ¥å°±å¯ä»¥æ”¯æŒé“¾å¼ç¼–ç¨‹ï¼ˆæˆ–è€…å«æµå¼ç¼–ç¨‹ï¼‰

![1701674928186](./assets/1701674928186.png)



ä»£ç æ¼”ç¤ºï¼š

```java
class Student{
    private String name;
    private int age;
    private double height;

    public Student() {
    }

    public Student(String name, int age, double height) {
        this.name = name;
        this.age = age;
        this.height = height;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public double getHeight() {
        return height;
    }

    public void setHeight(double height) {
        this.height = height;
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        Student student = (Student) o;
        return age == student.age && name.equals(student.name);
    }

    @Override
    public int hashCode() {
        return Objects.hash(name, age);
    }

    @Override
    public String toString() {
        return "Student{" +
                "name='" + name + '\'' +
                ", age=" + age +
                ", height=" + height +
                '}';
    }

}


public class Test {
    public static void main(String[] args) {

        List<Double> scores = new ArrayList<>();
        Collections.addAll(scores, 88.5, 100.0, 60.0, 99.0, 9.5, 99.6, 25.0);

        //æ‰¾å‡ºæˆç»©å¤§äºç­‰äº60åˆ†çš„æ•°æ®ï¼Œå¹¶å‡åºåï¼Œå†è¾“å‡ºã€‚
        // filter å¯¹æµä¸­çš„æ•°æ®è¿›è¡Œè¿‡æ»¤
        // sorted å¯¹å…ƒç´ å‡åºæ’åº
        scores.stream().filter(s->s>=60).sorted().forEach(s-> System.out.println(s));

        List<Student> students = new ArrayList<>();
        Student s1 = new Student("wc", 26, 172.5);
        Student s2 = new Student("xq",  26, 172.5);
        Student s3 = new Student("ml", 23, 167.6);
        Student s4 = new Student("w5", 25, 169.0);
        Student s5 = new Student("z3",  35, 183.3);
        Student s6 = new Student("wc", 34, 168.5);
        Collections.addAll(students, s1, s2, s3, s4, s5, s6);

        //æ‰¾å‡ºå¹´é¾„å¤§äºç­‰äº23,ä¸”å¹´é¾„å°äºç­‰äº30å²çš„å­¦ç”Ÿï¼Œå¹¶æŒ‰ç…§å¹´é¾„é™åºè¾“å‡º.
        students.stream().filter(s->s.getAge()>=23 && s.getAge()<=30).sorted(((o1,o2)->o2.getAge()-o1.getAge())).forEach(s-> System.out.println(s));

        System.out.println("---------------");

        //å–å‡ºèº«é«˜æœ€é«˜çš„å‰3åå­¦ç”Ÿï¼Œå¹¶è¾“å‡ºã€‚
        // limit è·å–å‰å‡ ä¸ªå…ƒç´ 
        students.stream().sorted((o1,o2)->Double.compare(o2.getHeight(),o1.getHeight())).limit(3).forEach(s-> System.out.println(s));

        System.out.println("---------------");

        //å–å‡ºèº«é«˜å€’æ•°çš„2åå­¦ç”Ÿï¼Œå¹¶è¾“å‡º
        // skip è·³è¿‡nä¸ªå…ƒç´ 
        students.stream().sorted((o1,o2)->Double.compare(o2.getHeight(),o1.getHeight())).skip(students.size()-2).forEach(s-> System.out.println(s));

        System.out.println("---------------");

        //æ‰¾å‡ºèº«é«˜è¶…è¿‡168çš„å­¦ç”Ÿå«ä»€ä¹ˆåå­—ï¼Œè¦æ±‚å»é™¤é‡å¤çš„åå­—ï¼Œå†è¾“å‡ºã€‚
        // map å¯¹æ•°æ®å†åŠ å·¥  distinctè¡¨ç¤ºå»é™¤é‡å¤çš„æ•°æ®
        students.stream().filter(s -> s.getHeight() > 168).map(Student::getName).distinct().forEach(s-> System.out.println(s));

        System.out.println("---------------");

        students.stream().filter(s -> s.getHeight() > 168).map(Student::getName).distinct().forEach(System.out::println);

        System.out.println("---------------");

        // concatæ˜¯åˆå¹¶æµçš„
        Stream<String> st1 = Stream.of("å¼ ä¸‰", "æå››");
        Stream<String> st2 = Stream.of("å¼ ä¸‰2", "æå››2", "ç‹äº”");
        Stream<String> allSt = Stream.concat(st1, st2);
        allSt.forEach(System.out::println);
    }

}
```







### 4ï¼ŒStreamæµç»ˆç»“æ–¹æ³•



è°ƒç”¨å®ŒStreamæµç»ˆç»“æ–¹æ³•ä¹‹åï¼Œå…¶ç»“æœå°±ä¸å†æ˜¯Streamæµäº†ï¼Œæ‰€ä»¥ä¸æ”¯æŒé“¾å¼ç¼–ç¨‹ã€‚

![1701675004870](./assets/1701675004870.png)



ä»£ç æ¼”ç¤ºï¼š

```java
public class Test {
    public static void main(String[] args) {
        List<Student> students = new ArrayList<>();
        Student s1 = new Student("wc", 26, 172.5);
        Student s2 = new Student("xq",  26, 172.5);
        Student s3 = new Student("ml", 23, 167.6);
        Student s4 = new Student("w5", 25, 169.0);
        Student s5 = new Student("z3",  35, 183.3);
        Student s6 = new Student("wc", 34, 168.5);
        Collections.addAll(students, s1, s2, s3, s4, s5, s6);

        //è¯·è®¡ç®—å‡ºèº«é«˜è¶…è¿‡168çš„å­¦ç”Ÿæœ‰å‡ äººã€‚
        // countæ˜¯ä¸€ä¸ªç»ˆç»“æµçš„æ–¹æ³•
        long count = students.stream().filter(s -> s.getHeight() > 168).count();
        System.out.println(count);

        //è¯·æ‰¾å‡ºèº«é«˜æœ€é«˜çš„å­¦ç”Ÿå¯¹è±¡ï¼Œå¹¶è¾“å‡ºã€‚
        Student s = students.stream().max((o1, o2) -> Double.compare(o1.getHeight(), o2.getHeight())).get();
        System.out.println(s);

        //è¯·æ‰¾å‡ºèº«é«˜æœ€çŸ®çš„å­¦ç”Ÿå¯¹è±¡ï¼Œå¹¶è¾“å‡ºã€‚
        Student ss = students.stream().min((o1, o2) -> Double.compare(o1.getHeight(), o2.getHeight())).get();
        System.out.println(ss);

        //è¯·æ‰¾å‡ºèº«é«˜è¶…è¿‡170çš„å­¦ç”Ÿå¯¹è±¡ï¼Œå¹¶æ”¾åˆ°ä¸€ä¸ªæ–°é›†åˆä¸­å»è¿”å›ã€‚
        List<Student> students1 = students.stream().filter(a -> a.getHeight() > 170).collect(Collectors.toList());
        System.out.println(students1);

        // è¯·æ‰¾å‡ºèº«é«˜è¶…è¿‡170çš„å­¦ç”Ÿå¯¹è±¡ï¼Œå¹¶æŠŠå­¦ç”Ÿå¯¹è±¡çš„åå­—å’Œèº«é«˜å­˜å…¥åˆ°ä¸€ä¸ªMapé›†åˆä¸­å¹¶è¿”å›
        Map<String,Double> map = students.stream().filter(a -> a.getHeight() > 170).distinct().collect(Collectors.toMap(a->a.getName(),a->a.getHeight()));
        System.out.println(map);
    }
}
```

































